(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[39],{129:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p}));var r=n(2),a=n(57),c=n.n(a),i=n(59),s=n(65),o=n(64),u=function(e){return o.a.get(e).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.data}))},l={create:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("order",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.put("order/".concat(t),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),status:function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("order/".concat(t,"/status"),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),supplier:function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("order/".concat(t,"/supplier"),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),shippingStatus:function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.status,e.next=3,o.a.post("order/".concat(t,"/shipping-status"),{shipping_status:r});case 3:return a=e.sent,i=a.data,e.abrupt("return",null===i||void 0===i?void 0:i.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};function d(e){var t="order/".concat(e),n=Object(s.a)("order/".concat(e),u,{revalidateOnFocus:!1,revalidateOnReconnect:!1,refreshWhenOffline:!1,refreshWhenHidden:!1,refreshInterval:0}),a=n.data,o=n.error,d=!a&&!o,p=function(){var n=Object(i.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.update(e,r);case 2:return n.next=4,Object(s.b)(t);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),j=function(){var n=Object(i.a)(c.a.mark((function n(i){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.status(e,i);case 2:return n.next=4,Object(s.b)(t,Object(r.a)(Object(r.a)({},a),i),!1);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),b=function(){var n=Object(i.a)(c.a.mark((function n(i){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.supplier(e,i);case 2:return n.next=4,Object(s.b)(t,Object(r.a)(Object(r.a)({},a),{},{status:i.status}),!1);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return{loading:d,error:o,data:a,mutate:s.b,update:p,updateStatus:j,updateSupplier:b,updateShippingStatus:function(t){return l.shippingStatus(e,t)}}}function p(e){var t=e.page,n=e.limit,r=e.search,a=e.order,c=void 0===a?{}:a,i=e.conditions,o=void 0===i?{}:i,l="order/datatable?page=".concat(t,"&limit=").concat(n,"&search=").concat(r,"&order=").concat(JSON.stringify(c),"&conditions=").concat(JSON.stringify(o)),d=Object(s.a)(l,u),p=d.data,j=(d.mutate,d.error);return{loading:!p&&!j,error:j,data:(null===p||void 0===p?void 0:p.items)||[],total:(null===p||void 0===p?void 0:p.total)||0,mutates:{}}}},132:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return j}));var r=n(2),a=n(57),c=n.n(a),i=n(59),s=n(65),o=n(64),u=function(e){return o.a.get(e).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.data}))},l={create:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("product",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.put("product/".concat(t),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("product/".concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),autocomplete:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("product/autocomplete?q=".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),stock:function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("product/stock",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sku:function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("product/sku",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function d(e){var t=Object(s.a)("product/".concat(e),u,{revalidateOnFocus:!1}),n=t.data,r=t.mutate,a=t.error;return{loading:!n&&!a,error:a,data:n,mutate:r,update:function(){var t=Object(i.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.update(e,n);case 2:return t.next=4,r();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}function p(e){var t=e.page,n=e.limit,a=e.search,o=e.order,d=void 0===o?{}:o,p="product/datatable?page=".concat(t,"&limit=").concat(n,"&search=").concat(a,"&order=").concat(JSON.stringify(d)),j=Object(s.a)(p,u),b=j.data,f=j.mutate,m=j.error,h=!b&&!m,v={delete:function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.delete(t);case 2:f(Object(r.a)({},b));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};return{loading:h,error:m,data:(null===b||void 0===b?void 0:b.items)||[],total:(null===b||void 0===b?void 0:b.total)||0,mutates:v}}function j(e){var t=e.page,n=e.limit,r=e.search,a=e.order,c="product/datatable?page=".concat(t,"&limit=").concat(n,"&search=").concat(r,"&order=").concat(null===a||void 0===a?void 0:a.column,"&dir=").concat(null===a||void 0===a?void 0:a.direction),i=Object(s.a)(c,u),o=i.data,l=i.error;return{loading:!o&&!l,error:l,data:(null===o||void 0===o?void 0:o.items)||[],total:(null===o||void 0===o?void 0:o.total)||0}}},145:function(e,t,n){"use strict";var r=n(2),a=n(7),c=n(8),i=n(17),s=n(11),o=n.n(s),u=n(305),l=n(307),d=n(0),p=n(527),j=n(528),b=n(55),f=n(99),m=(n(192),n(3)),h=function(e){var t,n=e.min,s=e.max,u=e.step,l=e.size,h=e.wrap,v=e.value,O=e.style,x=e.upIcon,g=e.disabled,y=e.readonly,w=e.onChange,N=e.downIcon,k=e.vertical,C=e.className,_=e.onDecrement,S=e.onIncrement,E=e.inputClassName,V=Object(i.a)(e,["min","max","step","size","wrap","value","style","upIcon","disabled","readonly","onChange","downIcon","vertical","className","onDecrement","onIncrement","inputClassName"]),z=Object(d.useState)(v||n),P=Object(c.a)(z,2),R=P[0],D=P[1],q=function(e){if(e.preventDefault(),!g&&!y){if(!h&&R<=n)return;D(R-u<n?h?s:n:R-u),_&&S(R)}},I=function(e){if(e.preventDefault(),!g&&!y){if(!h&&R>=s)return;D(R+u>s?h?n:s:R+u),S&&S(R)}};return Object(d.useEffect)((function(){w&&w(R)}),[R]),Object(m.jsxs)(p.a,Object(r.a)(Object(r.a)({className:o()("number-input",(t={disabled:g,readonly:y},Object(a.a)(t,C,C),Object(a.a)(t,"vertical-number-input",k),Object(a.a)(t,"vertical-number-input-".concat(l),k&&l),t))},O?{style:O}:{}),{},{children:[Object(m.jsx)(j.a,{addonType:"prepend",onClick:q,children:Object(m.jsx)(b.a,Object(r.a)(Object(r.a)({className:"btn-icon",color:"transparent"},l?{size:l}:{}),{},{disabled:!h&&R<=n||g||y,children:N}))}),Object(m.jsx)(f.a,Object(r.a)(Object(r.a)({},V),{},{type:"number",value:R,disabled:g,readOnly:y,onKeyDown:function(e){y||(38===e.keyCode&&I(),40===e.keyCode&&q())},onChange:function(e){D(Number(e.target.value))},className:o()(Object(a.a)({},E,E))},l?{bsSize:l}:{})),Object(m.jsx)(j.a,{addonType:"append",onClick:I,children:Object(m.jsx)(b.a,Object(r.a)(Object(r.a)({className:"btn-icon",color:"transparent"},l?{size:l}:{}),{},{disabled:!h&&R>=s||g||y,children:x}))})]}))};t.a=h,h.defaultProps={min:1,step:1,wrap:!1,max:1/0,disabled:!1,readonly:!1,downIcon:Object(m.jsx)(u.a,{size:14}),upIcon:Object(m.jsx)(l.a,{size:14})}},146:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p}));var r=n(2),a=n(57),c=n.n(a),i=n(59),s=(n(65),n(64)),o=n(63),u="user",l={create:function(e){return o.a.create(u,e)},update:function(e,t){return o.a.update(u,e,t)},delete:function(e){return o.a.delete(u,e)},autocomplete:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("".concat(u,"/autocomplete?q=").concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),changePassword:function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("".concat(u,"/").concat(t,"/change-password"),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),verificationEmail:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("".concat(u,"/").concat(t,"/verification-email"));case 2:return n=e.sent,r=n.data,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function d(e){return Object(o.c)(u,e)}function p(e){var t=Object(o.b)(u,"".concat(u,"/datatable"),e);return t.mutates=Object(r.a)(Object(r.a)({},t.mutates),{},{verificationEmail:l.verificationEmail}),t}},147:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o}));var r=n(63),a="shipping-provider",c={create:function(e){return r.a.create(a,e)},update:function(e,t){return r.a.update(a,e,t)},delete:function(e){return r.a.delete(a,e)}};function i(e){return Object(r.c)(a,e)}function s(e){return Object(r.b)(a,"".concat(a,"/datatable"),e)}function o(){return Object(r.d)(a)}},163:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o}));var r=n(63),a="coupon",c={create:function(e){return r.a.create(a,e)},update:function(e,t){return r.a.update(a,e,t)},delete:function(e){return r.a.delete(a,e)}};function i(e){return Object(r.c)(a,e)}function s(e){return Object(r.b)(a,"".concat(a,"/datatable"),e)}function o(){return Object(r.d)(a)}},192:function(e,t,n){},194:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o}));var r=n(63),a="city",c={create:function(e){return r.a.create(a,e)},update:function(e,t){return r.a.update(a,e,t)},delete:function(e){return r.a.delete(a,e)}};function i(e){return Object(r.c)(a,e)}function s(e){return Object(r.b)(a,"".concat(a,"/datatable"),e)}function o(){return Object(r.d)(a)}},196:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(1),i=n.n(c);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=Object(r.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,c=e.size,i=void 0===c?24:c,u=o(e,["color","size"]);return a.a.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),a.a.createElement("polyline",{points:"6 9 6 2 18 2 18 9"}),a.a.createElement("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),a.a.createElement("rect",{x:"6",y:"14",width:"12",height:"8"}))}));u.propTypes={color:i.a.string,size:i.a.oneOfType([i.a.string,i.a.number])},u.displayName="Printer",t.a=u},198:function(e,t,n){"use strict";n(0),n(11);var r=n(3);t.a=function(e){var t=e.data;return Object(r.jsx)("a",{className:"text-dark",href:"".concat("http://46.101.120.149:3000","/product/").concat(t.sku),target:"_blank",children:t.name})}},287:function(e,t,n){},560:function(e,t,n){"use strict";var r=n(57),a=n.n(r),c=n(59),i=n(8),s=n(89),o=n(144),u=n(750),l=n(55),d=n(69),p=n(0),j=n(22),b=n(85),f=n(3);t.a=function(e){var t=e.update,n=e.order,r=Object(p.useState)(null),m=Object(i.a)(r,2),h=m[0],v=m[1];Object(p.useEffect)((function(){h||v(null===n||void 0===n?void 0:n.status)}),[n]);var O=[{label:"New Order",value:"PENDING"},{label:"Processing",value:"PROCESSING"},{label:"Completed",value:"COMPLETED"}],x=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(b.a)(Object(c.a)(a.a.mark((function e(){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({status:h});case 3:j.b.success("Success"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),j.b.error(null===(n=e.t0.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(b.b)(Object(c.a)(a.a.mark((function e(){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({status:"CANCELED"});case 3:v("CANCELED"),j.b.success("Success"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),j.b.error(null===(n=e.t0.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(s.a,{className:"invoice-action-wrapper",children:Object(f.jsxs)(o.a,{children:[Object(f.jsx)(u.a,{children:Object(f.jsx)(d.a,{className:"react-select",classNamePrefix:"select",value:O.filter((function(e){return e.value===(h||(null===n||void 0===n?void 0:n.status))})),options:O,onChange:function(e){return v(null===e||void 0===e?void 0:e.value)}})}),Object(f.jsx)(l.a.Ripple,{color:"primary",block:!0,onClick:x,children:"Update Status"}),"PENDING"===(null===n||void 0===n?void 0:n.status)&&Object(f.jsx)(l.a.Ripple,{color:"danger",outline:!0,className:"mt-1",block:!0,onClick:g,children:"Delete Order"})]})})}},561:function(e,t,n){"use strict";var r=n(828),a=n(103),c=n(0),i=n(3);t.a=function(e){var t=e.form,n=e.order,s=e.isCompleted,o=t.watch("options.taxed"),u=t.watch("options.tax_exempt");return Object(c.useEffect)((function(){o?t.setValue("options.price_offer",!1):(t.setValue("options.tax_exempt",!1),t.setValue("options.tax_zero",!1)),u||t.setValue("options.tax_zero",!1)}),[o,u]),Object(i.jsxs)("div",{className:"mt-1",children:[Object(i.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(i.jsx)(r.a,{id:"order-taxed",type:"switch",disabled:!!(null===n||void 0===n?void 0:n.tax_number)||s,name:"options.taxed",innerRef:t.register()}),Object(i.jsx)(a.a,{className:"mb-0 font-medium-1",for:"order-taxed",children:Object(i.jsx)("strong",{children:"\u0641\u0627\u062a\u0648\u0631\u0629 \u0636\u0631\u064a\u0628\u064a\u0629"})})]}),Object(i.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[Object(i.jsx)(r.a,{disabled:!o||s,id:"order-tax-exempt",type:"switch",name:"options.tax_exempt",innerRef:t.register()}),Object(i.jsx)(a.a,{className:"mb-0 font-medium-1",for:"order-tax-exempt",children:Object(i.jsx)("strong",{children:"\u0645\u0639\u0641\u064a \u0645\u0646 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"})})]}),Object(i.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[Object(i.jsx)(r.a,{disabled:!o||s||!u,id:"order-tax-zero",type:"switch",name:"options.tax_zero",innerRef:t.register()}),Object(i.jsx)(a.a,{className:"mb-0 font-medium-1",for:"order-tax-exempt",children:Object(i.jsx)("strong",{children:"\u0645\u0639\u0641\u064a \u0628\u0646\u0633\u0628\u0629 \u0627\u0644\u0635\u0641\u0631"})})]}),Object(i.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[Object(i.jsx)(r.a,{disabled:s,id:"order-dept",type:"switch",name:"options.dept",innerRef:t.register()}),Object(i.jsx)(a.a,{className:"mb-0 font-medium-1",for:"order-dept",children:Object(i.jsx)("strong",{children:"\u0641\u0627\u062a\u0648\u0631\u0629 \u0630\u0645\u0645"})})]}),Object(i.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[Object(i.jsx)(r.a,{disabled:o||s,id:"order-price-offer",type:"switch",name:"options.price_offer",innerRef:t.register()}),Object(i.jsx)(a.a,{className:"mb-0 font-medium-1",for:"order-price-offer",children:Object(i.jsx)("strong",{children:"\u0639\u0631\u0636 \u0633\u0639\u0631"})})]})]})}},562:function(e,t,n){"use strict";var r=n(8),a=n(89),c=n(286),i=n(828),s=n(144),o=n(750),u=n(99),l=n(103),d=n(69),p=n(58),j=n(194),b=n(147),f=n(0),m=n(3);t.a=function(e){var t,n,h=e.form,v=e.isCompleted,O=Object(f.useState)({}),x=Object(r.a)(O,2),g=x[0],y=x[1],w=Object(j.d)().data,N=Object(b.d)().data,k=w.map((function(e){return{label:e.name,value:e.id,cost:e.shipping_cost}})),C=N.map((function(e){return{label:e.name,value:e.id}})),_=h.watch("has_shipping"),S=[{label:"Waiting for shipping",value:"WAITING"},{label:"On The Way",value:"SHIPPED"},{label:"Delivered",value:"DELIVERED"}];return Object(m.jsxs)(a.a,{children:[Object(m.jsxs)(c.a,{children:["Shipping",Object(m.jsx)(i.a,{disabled:v,id:"order-has-shipping",type:"switch",name:"has_shipping",innerRef:h.register(),onChange:function(e){e.target.checked?g&&(h.setValue("shipping",g.shipping),h.setValue("city_id",g.city),h.setValue("shipping_provider_id",g.shipping_provider)):(y({city:h.getValues("city_id"),shipping_provider:h.getValues("shipping_provider_id"),shipping:{cost:h.getValues("shipping.cost"),address:h.getValues("shipping.address"),status:h.getValues("shipping.status")}}),h.setValue("shipping.cost",null),h.setValue("shipping.address",null),h.setValue("shipping.status",null),h.setValue("city_id",null),h.setValue("shipping_provider_id",null))}})]}),Object(m.jsxs)(s.a,{children:[Object(m.jsx)(o.a,{children:Object(m.jsx)(p.a,{control:h.control,defaultValue:null,name:"city_id",render:function(e){var t=e.onChange,n=e.value,r=(e.name,e.ref);return Object(m.jsx)(d.a,{className:"react-select",classNamePrefix:"select",value:k.filter((function(e){return e.value===n})),inputRef:r,placeholder:"Select City...",options:k,onChange:function(e){var n;t((null===e||void 0===e?void 0:e.value)||null),n=e,h.setValue("shipping.cost",(null===n||void 0===n?void 0:n.cost)||0)},isClearable:!0,isDisabled:!_||v})}})}),Object(m.jsx)(o.a,{children:Object(m.jsx)(p.a,{control:h.control,defaultValue:null,name:"shipping_provider_id",render:function(e){var t=e.onChange,n=e.value,r=(e.name,e.ref);return Object(m.jsx)(d.a,{className:"react-select",classNamePrefix:"select",placeholder:"Select Shipping Provider...",value:C.filter((function(e){return e.value===n})),inputRef:r,options:C,onChange:function(e){return t((null===e||void 0===e?void 0:e.value)||null)},isClearable:!0,isDisabled:!_||v})}})}),Object(m.jsx)(o.a,{children:Object(m.jsx)(u.a,{disabled:!_||v,type:"textarea",name:"shipping.address",placeholder:"Shipping Address",innerRef:h.register({required:_}),invalid:(null===(t=h.errors.shipping)||void 0===t?void 0:t.address)&&!0})}),Object(m.jsx)(o.a,{children:Object(m.jsx)(u.a,{disabled:!_||v,type:"number",name:"shipping.cost",placeholder:"Cost",step:"0.1",innerRef:h.register({required:_}),invalid:(null===(n=h.errors.shipping)||void 0===n?void 0:n.cost)&&!0})}),Object(m.jsx)(o.a,{children:Object(m.jsx)(p.a,{control:h.control,defaultValue:"WAITING",name:"shipping.status",render:function(e){var t=e.onChange,n=e.value,r=(e.name,e.ref);return Object(m.jsx)(d.a,{isDisabled:!_||v,className:"react-select",classNamePrefix:"select",value:S.filter((function(e){return e.value===n})),inputRef:r,options:S,onChange:function(e){return t(null===e||void 0===e?void 0:e.value)}})}})}),Object(m.jsx)(o.a,{children:Object(m.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[Object(m.jsx)(l.a,{className:"mb-0",for:"order-free-shipping",children:"Free Shipping"}),Object(m.jsx)(i.a,{disabled:!_||v,id:"order-free-shipping",type:"switch",name:"shipping.free",innerRef:h.register()})]})})]})]})}},563:function(e,t,n){"use strict";var r=n(2),a=n(88),c=n(84),i=n(57),s=n.n(i),o=n(59),u=n(8),l=n(0),d=n(530),p=n(110),j=n(109),b=n(99),f=n(55),m=n(106),h=n(89),v=n(286),O=n(144),x=n(546),g=n(116),y=n(64),w=n(3);function N(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*r));return t}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var n=1024,r=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],c=Math.floor(Math.log(e)/Math.log(n));return"".concat(parseFloat((e/Math.pow(n,c)).toFixed(r))," ").concat(a[c])}t.a=function(e){var t=e.onChange,n=e.files,i=void 0===n?[]:n,C=Object(l.useState)([]),_=Object(u.a)(C,2),S=_[0],E=_[1],V=function(){var e=Object(o.a)(s.a.mark((function e(n){var r,a,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",n.file),r.append("id",n.id),e.next=5,y.a.post("media/order",r);case 5:a=e.sent,c=a.data,o=i.map((function(e){return e.id===c.id&&(e.url=c.url,e.key=c.key,e.name=c.name,e.new=!0),e})),t(o);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=Object(d.a)({maxFiles:5,multiple:!0,onDropAccepted:function(e){e=e.map((function(e){return{id:N(),file:e}})),t([].concat(Object(c.a)(i),Object(c.a)(e))),E(e)}}),P=(z.acceptedFiles,z.getRootProps),R=z.getInputProps;Object(l.useEffect)((function(){var e,t=Object(a.a)(S);try{for(t.s();!(e=t.n()).done;){var n=e.value;V(n)}}catch(r){t.e(r)}finally{t.f()}}),[S]),Object(l.useEffect)((function(){t(i)}),[i]);var D=i.filter((function(e){return!e.deleted})).map((function(e,n){var r=e.file,a=e.id,s=e.url,o=e.name,u=e.size;return Object(w.jsxs)("section",{children:[Object(w.jsxs)(p.a,{className:"justify-content-between align-items-center",children:[Object(w.jsx)(j.a,{md:10,className:"mb-1",children:Object(w.jsx)(b.a,{type:"text",disabled:!0,value:"[".concat(k(u||r.size),"] - ").concat(o||s||r.path)})}),Object(w.jsx)(j.a,{md:1,className:"text-center mb-1",children:Object(w.jsx)("a",{href:s,target:"_blank",children:Object(w.jsx)(f.a.Ripple,{block:!0,className:"btn-icon",color:"light",children:s?Object(w.jsx)(x.a,{size:20}):Object(w.jsx)(m.a,{size:"sm"})})})}),Object(w.jsx)(j.a,{md:1,className:"text-center mb-1",children:Object(w.jsx)(f.a.Ripple,{block:!0,className:"btn-icon",color:"light",onClick:function(){return function(e){var n=Object(c.a)(i);n[e].new?n.splice(e,1):n[e].deleted=!0,t(n)}(n)},children:Object(w.jsx)(g.a,{size:20})})})]}),Object(w.jsx)("hr",{className:"m-0 mb-1"})]},a)}));return Object(w.jsxs)(h.a,{children:[Object(w.jsx)(v.a,{children:Object(w.jsx)("h4",{children:"Attachments"})}),Object(w.jsxs)(O.a,{children:[Object(w.jsxs)("div",Object(r.a)(Object(r.a)({},P({className:"dropzone"})),{},{children:[Object(w.jsx)("input",Object(r.a)({},R())),Object(w.jsx)("p",{className:"attachments-box",children:"Drag 'n' drop some files here, or click to select files"})]})),D]})]})}},584:function(e,t,n){"use strict";var r=n(88),a=n(8),c=n(89),i=n(144),s=n(55),o=n(57),u=n.n(o),l=n(59),d=n(84),p=n(529),j=n(527),b=n(99),f=n(528),m=n(197),h=n(4),v=n(5),O=n(0),x=n.n(O),g=n(1),y=n.n(g),w=n(11),N=n.n(w),k=n(12),C={tag:k.q,"aria-label":y.a.string,className:y.a.string,cssModule:y.a.object,role:y.a.string,size:y.a.string,vertical:y.a.bool},_=function(e){var t=e.className,n=e.cssModule,r=e.size,a=e.vertical,c=e.tag,i=Object(v.a)(e,["className","cssModule","size","vertical","tag"]),s=Object(k.m)(N()(t,!!r&&"btn-group-"+r,a?"btn-group-vertical":"btn-group"),n);return x.a.createElement(c,Object(h.a)({},i,{className:s}))};_.propTypes=C,_.defaultProps={tag:"div",role:"group"};var S=_,E=n(668),V=n(662),z=n(663),P=n(750),R=n(664),D=n(58),q=n(116),I=n(306),B=n(173),T=n(85),F=n(145),M=n(132),A=function(e,t){var n=e.price,r=e.min_price,a=e.normal_price;return"min"===t?r:"normal"===t?a:n},W=n(198),L=n(3),J=function(e){var t=e.disabled,n=e.form,r=function(e,n,r,a){t||a(e.map((function(e){return e.id===n&&(e[r.name]=r.value),e})))},a=n.watch("options.pricing"),c=function(){var e=Object(l.a)(u.a.mark((function e(n,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:r(n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(L.jsxs)(p.a,{striped:!0,hover:!0,size:"sm",children:[Object(L.jsx)("thead",{children:Object(L.jsxs)("tr",{children:[Object(L.jsx)("th",{children:"Product"}),Object(L.jsx)("th",{width:"15%",children:"Quantity"}),Object(L.jsx)("th",{width:"15%",children:"Price"}),Object(L.jsx)("th",{width:"15%",className:"text-center",children:"Actions"})]})}),Object(L.jsx)("tbody",{children:Object(L.jsx)(D.a,{control:n.control,defaultValue:null,name:"products",render:function(e){var i=e.onChange,o=e.value;e.name,e.ref;return Object(L.jsxs)(L.Fragment,{children:[(o||[]).map((function(e){return Object(L.jsxs)("tr",{children:[Object(L.jsxs)("td",{children:[Object(L.jsx)("img",{className:"mr-75",src:e.image,alt:"angular",height:"60",width:"60"}),Object(L.jsx)("span",{className:"align-middle font-weight-bold",children:Object(L.jsx)(W.a,{data:e})})]}),Object(L.jsx)("td",{children:Object(L.jsx)(F.a,{disabled:t,value:e.quantity,name:"quantity",type:"number",required:!0,onChange:function(t){return r(o,e.id,{name:"quantity",value:t},i)}})}),Object(L.jsx)("td",{children:Object(L.jsxs)(j.a,{children:[Object(L.jsx)(b.a,{disabled:t,value:A(e,a),name:"price",type:"number",step:1,required:!0,onChange:function(t){r(o,e.id,t.target,i),n.setValue("options.pricing","custom")}}),Object(L.jsx)(f.a,{addonType:"append",children:Object(L.jsx)(m.a,{children:"$"})})]})}),Object(L.jsx)("td",{className:"text-center",children:Object(L.jsx)(q.a,{className:"cursor-pointer",size:20,onClick:function(){return function(e,n,r){if(!t){var a=e.filter((function(e){return e.id!==n})).map((function(e){return e}));Object(T.a)((function(){r(a)}))}}(o,e.id,i)}})})]},e.id)})),Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{colSpan:3,children:Object(L.jsx)(D.a,{control:n.control,defaultValue:null,name:"options.pricing",render:function(e){var t=e.onChange,n=e.value;e.name,e.ref;return Object(L.jsxs)(S,{children:[Object(L.jsx)(s.a,{outline:!0,color:"primary",onClick:function(){return c("normal",t)},active:"normal"===n||!n,size:"sm",children:"Normal"}),Object(L.jsx)(s.a,{outline:!0,color:"primary",onClick:function(){return c("min",t)},active:"min"===n,size:"sm",children:"Distributor"}),Object(L.jsx)(s.a,{outline:!0,color:"primary",onClick:function(){return c("custom",t)},active:"custom"===n,size:"sm",children:"Custom"})]})}})}),Object(L.jsx)("td",{className:"text-center p-2",children:Object(L.jsx)(G,{products:[],onSubmit:function(e){return function(e,n,r){var a,c;t||(e=null!==(a=e)&&void 0!==a?a:[],n.quantity=1,(null===(c=e)||void 0===c?void 0:c.some((function(e){return e.id===n.id})))||r([].concat(Object(d.a)(e),[n])))}(o,e,i)}})})]})]})}})})]})};function G(e){e.products;var t=e.onSubmit,n=Object(O.useState)(!1),r=Object(a.a)(n,2),c=r[0],i=r[1],o=Object(O.useState)(null),d=Object(a.a)(o,2),p=d[0],j=d[1],b=function(e){e.id;var t=e.name,n=e.image,r=(e.price,e.stock);return Object(L.jsxs)("div",{className:"d-flex justify-content-left align-items-center",children:[Object(L.jsx)("div",{className:"avatar mr-50",width:"32",height:"32",children:Object(L.jsx)("img",{src:n,height:"32",width:"32"})}),Object(L.jsxs)("div",{className:"d-flex flex-column",children:[Object(L.jsx)("h6",{className:"user-name text-truncate mb-0",children:t}),Object(L.jsxs)("small",{className:"text-truncate text-muted mb-0",children:["Available Quantity: ",r]})]})]})},f=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.autocomplete(t);case 2:return n=e.sent,e.abrupt("return",n.map((function(e){var t=e.id,n=e.name,r=e.image,a=e.price,c=e.stock,i=e.min_price,s=e.normal_price,o=e.sku;return{label:b({id:t,name:n,image:r,price:a,stock:c}),value:t,item:{id:t,name:n,image:r,stock:c,price:a,min_price:i,normal_price:s,sku:o}}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(I.a,{className:"cursor-pointer",size:22,onClick:function(){return i(!0)}}),Object(L.jsxs)(E.a,{isOpen:c,toggle:function(){return i(!c)},className:"modal-dialog-centered",children:[Object(L.jsx)(V.a,{toggle:function(){return i(!c)},children:"Add Product"}),Object(L.jsx)(z.a,{children:Object(L.jsx)(P.a,{children:Object(L.jsx)(B.a,{isClearable:!0,className:"react-select",classNamePrefix:"select",loadOptions:f,cacheOptions:!0,onChange:function(e,t){t.action,t.removedValue;j(null===e||void 0===e?void 0:e.item)}})})}),Object(L.jsxs)(R.a,{children:[Object(L.jsx)(s.a,{color:"primary",onClick:function(){t&&p&&t(p)},children:"Save"})," "]})]})]})}var H=n(67),U=n.n(H),Y=n(196),Q=n(307),$=n(550),K=n(143),Z=n(61),X=n(110),ee=n(109),te=n(103),ne=n(146),re=function(e){var t,n,r,c=e.form,i=e.order,s=e.disabled,o=Object(O.useState)(),d=Object(a.a)(o,2),p=d[0],j=d[1];Object(O.useEffect)((function(){p||j(null===i||void 0===i?void 0:i.user)}),[i]);var f=function(e){return Object(L.jsx)("div",{className:"d-flex justify-content-left align-items-center",children:Object(L.jsxs)("div",{className:"d-flex flex-column",children:[Object(L.jsx)("h6",{className:"user-name text-truncate mb-0",children:null===e||void 0===e?void 0:e.name}),Object(L.jsx)("small",{className:"text-truncate text-muted mb-0",children:null===e||void 0===e?void 0:e.email})]})})},m=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.autocomplete(t);case 2:return n=e.sent,e.abrupt("return",n.map((function(e){var t=e.id,n=e.name,r=e.email,a=e.phone;return{label:f({id:t,name:n,email:r,phone:a}),value:t,item:{id:t,name:n,email:r,phone:a}}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(L.jsxs)(X.a,{children:[Object(L.jsx)(ee.a,{sm:"12",children:Object(L.jsx)(P.a,{children:Object(L.jsx)(D.a,{control:c.control,defaultValue:null,name:"user_id",render:function(e){var t=e.onChange,n=e.value;e.name,e.ref;return Object(L.jsx)(B.a,{isClearable:!0,className:"react-select",classNamePrefix:"select",defaultOptions:!0,isDisabled:s,value:{value:n,label:f(p)},loadOptions:m,cacheOptions:!0,onChange:function(e,n){t(null===e||void 0===e?void 0:e.item.id),function(e,t){t.action,t.removedValue,j(null===e||void 0===e?void 0:e.item),(null===e||void 0===e?void 0:e.item)&&(c.setValue("customer.name",e.item.name),c.setValue("customer.email",e.item.email),c.setValue("customer.phone",e.item.phone))}(e,n)}})}})})}),Object(L.jsx)(ee.a,{sm:"4",children:Object(L.jsxs)(P.a,{children:[Object(L.jsx)(te.a,{for:"customerName",children:"Name"}),Object(L.jsx)(b.a,{disabled:s,type:"text",id:"customerName",name:"customer.name",innerRef:c.register({required:!0}),invalid:(null===(t=c.errors.customer)||void 0===t?void 0:t.name)&&!0})]})}),Object(L.jsx)(ee.a,{sm:"4",children:Object(L.jsxs)(P.a,{children:[Object(L.jsx)(te.a,{for:"customerPhone",children:"Phone"}),Object(L.jsx)(b.a,{disabled:s,type:"text",id:"customerName",name:"customer.phone",innerRef:c.register({required:!0}),invalid:(null===(n=c.errors.customer)||void 0===n?void 0:n.phone)&&!0})]})}),Object(L.jsx)(ee.a,{sm:"4",children:Object(L.jsxs)(P.a,{children:[Object(L.jsx)(te.a,{for:"customerEmail",children:"Email"}),Object(L.jsx)(b.a,{disabled:s,type:"text",id:"customerEmail",name:"customer.email",innerRef:c.register({required:!1}),invalid:(null===(r=c.errors.customer)||void 0===r?void 0:r.email)&&!0})]})}),Object(L.jsx)(ee.a,{sm:"12",children:Object(L.jsxs)(P.a,{children:[Object(L.jsx)(te.a,{for:"notes",children:"Notes"}),Object(L.jsx)(b.a,{disabled:s,id:"notes",type:"textarea",name:"notes",innerRef:c.register({required:!1}),invalid:c.errors.notes&&!0})]})}),Object(L.jsx)(ee.a,{sm:"12",children:Object(L.jsxs)(P.a,{children:[Object(L.jsx)(te.a,{for:"notes",children:"Invoice Notes"}),Object(L.jsx)(b.a,{disabled:s,id:"invoiceNotes",type:"textarea",name:"invoice_notes",innerRef:c.register({required:!1}),invalid:c.errors.notes&&!0})]})})]})},ae=n(7),ce=n(2);function ie(e){var t=e.form,n=e.disabled,r=e.fieldName,a=e.onUpdate,c={price:1,quantity:1,name:""},i=t.watch(r),s=function(e,t,n,r,c){var s=i;s[e]=Object(ce.a)(Object(ce.a)({},t),{},Object(ae.a)({},n,r)),c(s),a()};return Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(p.a,{striped:!0,hover:!0,size:"sm",children:[Object(L.jsx)("thead",{children:Object(L.jsxs)("tr",{children:[Object(L.jsx)("th",{children:"Extra"}),Object(L.jsx)("th",{width:"15%",children:"Quantity"}),Object(L.jsx)("th",{width:"15%",children:"Price"}),Object(L.jsx)("th",{width:"15%",className:"text-center",children:"Actions"})]})}),Object(L.jsxs)("tbody",{children:[Object(L.jsx)(D.a,{control:t.control,defaultValue:[],name:r,render:function(e){var t=e.value,r=e.onChange;return Object(L.jsx)(L.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:Object(L.jsx)(b.a,{disabled:n,type:"text",name:"name",placeholder:"Name",value:e.name,required:!0,onChange:function(n){return s(t,e,"name",n.target.value,r)}})}),Object(L.jsx)("td",{children:Object(L.jsx)(F.a,{disabled:n,value:e.quantity,name:"quantity",type:"number",required:!0,onChange:function(n){return s(t,e,"quantity",n,r)}})}),Object(L.jsx)("td",{children:Object(L.jsx)(F.a,{disabled:n,value:e.price,name:"price",type:"number",required:!0,onChange:function(n){return s(t,e,"price",n,r)}})}),Object(L.jsx)("td",{className:"text-center",children:Object(L.jsx)(q.a,{className:"cursor-pointer",size:20,onClick:function(){return function(e,t){var n=i;n.splice(e,1),t(n),a()}(t,r)}})})]},t)}))})}}),Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{colSpan:3}),Object(L.jsx)("td",{className:"text-center py-2",children:Object(L.jsx)(I.a,{className:"cursor-pointer",size:22,onClick:function(){if(!n){var e=i||[];t.setValue(r,[].concat(Object(d.a)(e),[c]))}}})})]})]})]})})}var se=n(163),oe=n(69),ue=function(e){var t=e.form,n=e.calculations,r=e.disabled,a=e.setCoupon,c=Object(se.d)().data,s=c.map((function(e){return{label:e.name,value:e.id,data:e}})),o=t.watch("coupon_id");return Object(O.useEffect)((function(){var e=c.filter((function(e){return o===e.id}));e.length>0&&a(e[0])}),[o,c]),Object(L.jsx)(i.a,{className:"pb-2",children:Object(L.jsx)(X.a,{className:"justify-content-end",children:Object(L.jsxs)(ee.a,{md:"6",children:[Object(L.jsxs)(P.a,{row:!0,children:[Object(L.jsx)(te.a,{sm:"3",for:"order",children:Object(L.jsx)("strong",{children:"Subtotal"})}),Object(L.jsx)(ee.a,{sm:"9",children:Object(L.jsxs)(j.a,{children:[Object(L.jsx)(b.a,{value:(null===n||void 0===n?void 0:n.subtotal)||0,disabled:!0}),Object(L.jsx)(f.a,{addonType:"append",children:Object(L.jsx)(m.a,{children:"$"})})]})})]}),Object(L.jsxs)(P.a,{row:!0,children:[Object(L.jsx)(te.a,{sm:"3",for:"order",children:Object(L.jsx)("strong",{children:"Discount"})}),Object(L.jsx)(ee.a,{sm:"3",children:Object(L.jsx)(b.a,{disabled:r,name:"discount",type:"number",min:0,step:"0.1",defaultValue:0,innerRef:t.register({required:!0}),invalid:t.errors.discount&&!0})}),Object(L.jsx)(ee.a,{sm:"6",children:Object(L.jsx)(D.a,{control:t.control,name:"coupon_id",render:function(e){var t=e.onChange,n=e.value,a=(e.name,e.ref);return Object(L.jsx)(oe.a,{isDisabled:r,className:"react-select",classNamePrefix:"select",placeholder:"Coupon",value:s.filter((function(e){return e.value===n})),inputRef:a,isClearable:!0,options:s,onChange:function(e){return t((null===e||void 0===e?void 0:e.value)||null)}})}})})]}),Object(L.jsx)("hr",{className:"invoice-spacing"}),Object(L.jsxs)(P.a,{row:!0,children:[Object(L.jsx)(te.a,{sm:"3",for:"order",children:Object(L.jsx)("strong",{children:"Total"})}),Object(L.jsx)(ee.a,{sm:"9",children:Object(L.jsxs)(j.a,{children:[Object(L.jsx)(b.a,{value:(null===n||void 0===n?void 0:n.total)||0,disabled:!0}),Object(L.jsx)(f.a,{addonType:"append",children:Object(L.jsx)(m.a,{children:"$"})})]})})]}),o&&Object(L.jsxs)(P.a,{row:!0,children:[Object(L.jsx)(te.a,{sm:"3",for:"order",children:Object(L.jsx)("strong",{children:"With Coupon"})}),Object(L.jsx)(ee.a,{sm:"9",children:Object(L.jsxs)(j.a,{children:[Object(L.jsx)(b.a,{value:(null===n||void 0===n?void 0:n.totalWithCoupon)||0,disabled:!0}),Object(L.jsx)(f.a,{addonType:"append",children:Object(L.jsx)(m.a,{children:"$"})})]})})]})]})})})},le=n(19);t.a=function(e){var t=e.order,n=e.form,o=e.isCompleted,u=e.isReorder,l=Object(O.useState)(),d=Object(a.a)(l,2),p=d[0],j=d[1],b=Object(O.useState)(0),f=Object(a.a)(b,2),m=f[0],h=f[1],v=Object(O.useState)(!0),x=Object(a.a)(v,2),g=x[0],y=x[1],w=n.watch("products"),N=n.watch("extra_items"),k=n.watch("discount"),C=n.watch("shipping.cost"),_=n.watch("shipping.free"),S=n.watch("options.pricing"),E=Object(K.h)(),V=le.a.can("read","order_reorder"),z=le.a.can("read","order_print"),P=function(){var e,t=0,n=Object(r.a)(w||[]);try{for(n.s();!(e=n.n()).done;){var a=e.value;t+=A(a,S)*a.quantity}}catch(l){n.e(l)}finally{n.f()}var c,i=Object(r.a)(N||[]);try{for(i.s();!(c=i.n()).done;){var s=c.value;t+=s.quantity*s.price}}catch(l){i.e(l)}finally{i.f()}var o=p?p.is_percentage?t*((100-p.amount)/100):p.amount:0,u=t+Number.parseFloat(_?0:C||0)-Number.parseFloat(k||0);h({subtotal:t.toFixed(2),total:u.toFixed(2),totalWithCoupon:o.toFixed(2)})};return Object(O.useEffect)((function(){P(),y((t&&"PENDING"!==(null===t||void 0===t?void 0:t.status)||o)&&!u)}),[t,w,N,k,C,_,S,p]),Object(L.jsxs)(c.a,{children:[Object(L.jsx)(i.a,{className:"px-2 pb-0",children:Object(L.jsxs)("div",{className:"d-flex justify-content-between flex-md-row flex-column",children:[Object(L.jsx)("div",{children:Object(L.jsx)("strong",{children:(null===t||void 0===t?void 0:t.number)?"Order: #".concat(null===t||void 0===t?void 0:t.number," | ").concat((null===t||void 0===t?void 0:t.tax_number)||"--"):"New Order"})}),Object(L.jsxs)("div",{children:["Date: ",Object(L.jsx)("span",{className:"invoice-number",children:U()().format("Y-MM-DD")})]})]})}),Object(L.jsx)("hr",{className:"invoice-spacing"}),Object(L.jsx)(i.a,{className:"px-2 pt-0",children:Object(L.jsx)(re,{form:n,order:t,disabled:o})}),Object(L.jsx)(J,{form:n,disabled:g}),Object(L.jsx)(ie,{form:n,fieldName:"extra_items",disabled:g,onUpdate:P}),Object(L.jsx)("hr",{className:"m-0"}),Object(L.jsx)(ue,{form:n,calculations:m,disabled:o,setCoupon:j}),Object(L.jsx)("hr",{className:"invoice-spacing"}),Object(L.jsxs)(i.a,{className:"invoice-padding pt-0 d-flex",children:[Object(L.jsx)("div",{className:"mr-auto",children:t&&z&&Object(L.jsx)(Z.b,{to:"/order/print/".concat(t.id),id:"pw-tooltip-".concat(t.id),target:"_blank",children:Object(L.jsxs)(s.a.Ripple,{color:"dark",children:[Object(L.jsx)(Y.a,{size:14}),Object(L.jsx)("span",{className:"align-middle ml-25",children:"Print"})]})})}),Object(L.jsx)("div",{className:"mr-auto",children:t&&E.pathname.includes("edit")&&V&&Object(L.jsx)(Z.b,{to:"/order/create/".concat(t.id),id:"pw-tooltip-".concat(t.id),target:"_blank",children:Object(L.jsxs)(s.a.Ripple,{color:"primary",children:[Object(L.jsx)(Q.a,{size:14}),Object(L.jsx)("span",{className:"align-middle ml-25",children:"Reorder"})]})})}),Object(L.jsxs)(s.a.Ripple,{color:"secondary",type:"submit",children:[Object(L.jsx)($.a,{size:14}),Object(L.jsx)("span",{className:"align-middle ml-25",children:"Save Changes"})]})]})]})}},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return j}));var r=n(57),a=n.n(r),c=n(59),i=n(65),s=n(64),o=function(e){return s.a.get(e).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.data}))},u={create:function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post(t,n);case 2:return r=e.sent,c=r.data,e.abrupt("return",null===c||void 0===c?void 0:c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),update:function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){var c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.put("".concat(t,"/").concat(n),r);case 2:return c=e.sent,i=c.data,e.abrupt("return",null===i||void 0===i?void 0:i.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),delete:function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.delete("".concat(t,"/").concat(n));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};function l(e,t){var n=Object(i.a)("".concat(e,"/").concat(t),o),r=n.data,s=n.mutate,l=n.error;return{loading:!r&&!l,error:l,data:r,mutate:s,update:function(){var n=Object(c.a)(a.a.mark((function n(r){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.update(e,t,r);case 2:return n.next=4,s();case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}function d(e){var t=Object(i.a)(e,o,{revalidateOnFocus:!1,revalidateOnReconnect:!1,refreshWhenOffline:!1,refreshWhenHidden:!1,refreshInterval:0}),n=t.data,r=t.mutate,s=t.error;return{loading:!n&&!s,error:s,data:n||[],mutate:r,create:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.create(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}function p(e,t,n){var r=n.page,s=n.limit,l=n.search,d=n.order,p=void 0===d?{}:d,j=n.conditions,b=void 0===j?{}:j,f="".concat(t,"?page=").concat(r,"&limit=").concat(s,"&search=").concat(l,"&order=").concat(JSON.stringify(p),"&conditions=").concat(JSON.stringify(b)),m=Object(i.a)(f,o),h=m.data,v=m.mutate,O=m.error;return{loading:!h&&!O,error:O,data:(null===h||void 0===h?void 0:h.items)||[],total:(null===h||void 0===h?void 0:h.total)||0,mutate:v,mutates:{delete:function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.delete(e,n);case 2:return t.next=4,v(f);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}}function j(e,t){var n=t.conditions,r="".concat(e,"?conditions=").concat(JSON.stringify(n)),a=Object(i.a)(r,o),c=a.data,s=a.mutate,u=a.error;return{loading:!c&&!u,error:u,data:(null===c||void 0===c?void 0:c.items)||[],total:(null===c||void 0===c?void 0:c.total)||0,mutate:s}}},783:function(e,t,n){"use strict";n.r(t);var r=n(88),a=n(57),c=n.n(a),i=n(59),s=n(8),o=n(760),u=n(110),l=n(109),d=(n(287),n(0)),p=n(143),j=n(58),b=n(129),f=n(22),m=n(584),h=n(560),v=n(561),O=n(562),x=n(563),g=n(19),y=n(3),w=["customer","notes","invoice_notes","products","shipping","city_id","coupon_id","shipping_provider_id","options","discount","extra_items","user_id","attachments"];t.default=function(){var e=Object(p.i)().id,t=Object(b.c)(e),n=t.data,a=t.update,N=t.updateStatus,k=Object(j.b)(),C=Object(d.useState)(!1),_=Object(s.a)(C,2),S=_[0],E=_[1],V=Object(d.useState)(!1),z=Object(s.a)(V,2),P=z[0],R=z[1],D=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.products=(null===(n=t.products)||void 0===n?void 0:n.map((function(e){return{id:e.id,price:e.price,quantity:e.quantity}})))||[],e.next=4,a(t);case 4:f.b.success("Order Updated"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f.b.error(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){if(!S&&n){var e;E(!0);var t,a=Object(r.a)(w);try{for(a.s();!(t=a.n()).done;){var c=t.value;k.setValue(c,n[c])}}catch(s){a.e(s)}finally{a.f()}k.setValue("has_shipping",!!(null===(e=n.shipping)||void 0===e?void 0:e.address))}var i="COMPLETED"===(null===n||void 0===n?void 0:n.status);R(i)}),[n]),Object(y.jsx)(o.a,{onSubmit:k.handleSubmit(D),children:Object(y.jsxs)(u.a,{children:[Object(y.jsxs)(l.a,{md:9,sm:12,children:[Object(y.jsx)(m.a,{order:n,form:k,isCompleted:P}),Object(y.jsx)(j.a,{control:k.control,defaultValue:[],name:"attachments",render:function(e){var t=e.value,n=e.onChange;return Object(y.jsx)(x.a,{onChange:n,files:t})}})]}),Object(y.jsxs)(l.a,{md:3,sm:12,children:[(g.a.can("read","order_completed_update_status")||g.a.can("read","order_deleted_update_status")||g.a.can("read","order_returned_update_status")||n&&"COMPLETED"!==(null===n||void 0===n?void 0:n.status)&&"CANCELED"!==(null===n||void 0===n?void 0:n.status))&&Object(y.jsx)(h.a,{update:N,order:n}),Object(y.jsx)(O.a,{form:k,order:n,isCompleted:P}),Object(y.jsx)(v.a,{form:k,order:n,isCompleted:P})]})]})})}},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n(57),a=n.n(r),c=n(59),i=n(111),s=n.n(i),o=n(112),u=n.n(o)()(s.a),l=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, do it!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1}).then((function(e){e.value&&t()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.fire({title:"Are you sure want to delete?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",customClass:{confirmButton:"btn btn-danger",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1}).then((function(e){e.value&&t()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=39.d7e597aa.chunk.js.map