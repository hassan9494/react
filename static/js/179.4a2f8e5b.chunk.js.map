{"version":3,"sources":["views/dashboard/SessionByDevice.js","views/dashboard/ProductOrders.js","views/dashboard/Customers.js","views/dashboard/Sales.js","views/dashboard/SupportTracker.js","views/dashboard/RevenueReport.js","views/dashboard/Revenue.js","views/dashboard/GoalOverview.js","views/dashboard/AvgSessions.js","data/use-stats.js","views/dashboard/Sales2.js","views/dashboard/Earnings.js","services/taskService.js","views/task-manager/AddTaskButton.js","views/task-manager/TaskItem.js","views/task-manager/TaskColumn.js","views/task-manager/WeeklyGroupedTaskColumn.js","services/boardService.js","views/task-manager/TaskBoard.js","views/task-manager/AttachmentSection.js","views/task-manager/Linkify.js","views/task-manager/TaskModal.js","views/task-manager/DeletedTasks.js","services/filterService.js","views/task-manager/TaskFilter.js","views/task-manager/DeletedBoards.js","views/task-manager/BoardManager.js","views/task-manager/index.js","data/use-tasks-fixed.js","views/dashboard/index.js","data/use-user.js","data/use-data.js","@core/components/breadcrumbs/index.js"],"names":["SessionByDevice","props","useState","data","setData","useEffect","last_days","chart_info","icon","name","iconColor","usage","upDown","options","chart","toolbar","show","labels","dataLabels","enabled","legend","comparedResult","stroke","width","colors","primary","warning","danger","Card","CardHeader","className","CardTitle","tag","UncontrolledDropdown","DropdownToggle","color","DropdownMenu","right","map","item","DropdownItem","CardBody","series","type","height","index","IconTag","Icon","classnames","length","size","ProductOrders","finished","pending","rejected","plotOptions","radialBar","hollow","track","strokeWidth","margin","value","fontSize","fontWeight","offsetY","total","label","formatter","lineCap","dropShadow","blur","left","top","opacity","Customers","listData","text","result","Sales","background","foreColor","info","radar","polygons","strokeColors","connectorColors","fill","gradient","shade","gradientToColors","shadeIntensity","opacityFrom","opacityTo","stops","markers","yaxis","grid","padding","bottom","CardText","SupportTracker","title","totalTicket","newTicket","openTicket","responseTime","startAngle","endAngle","fontFamily","inverseColors","dashArray","Row","Col","sm","id","RevenueReport","years","price","budget","revenueOptions","stacked","lines","xaxis","categories","style","axisTicks","axisBorder","bar","columnWidth","endingShape","distributed","budgetOptions","zoom","sparkline","curve","tooltip","md","xs","UncontrolledButtonDropdown","outline","caret","Button","Revenue","thisMonth","lastMonth","offsetX","hover","tickPlacement","tickAmount","val","toFixed","borderColor","x","GoalOverview","completed","inProgress","success","AvgSessions","sessions","growth","goal","users","retention","duration","states","filter","order","kFormatter","Progress","api","sales","params","a","axios","get","Sales2","Earnings","pie","donut","parseInt","w","responsive","breakpoint","taskService","this","create","baseURL","process","headers","Accept","interceptors","request","use","config","authData","localStorage","getItem","token","auth","JSON","parse","accessToken","e","console","error","Authorization","Promise","reject","response","status","removeItem","warn","taskId","extractTaskId","post","delete","task","includes","Error","message","updates","put","commentId","content","cleanTaskId","numId","isNaN","undefined","numericKey","Object","keys","find","key","cleanId","userId","user_id","file","formData","FormData","append","attachmentId","defaults","responseType","AddTaskButton","onAddTask","board","availableUsers","currentUser","isAdding","setIsAdding","taskTitle","setTaskTitle","isPublic","setIsPublic","selectedAssignees","setSelectedAssignees","inputRef","useRef","current","focus","resetForm","handleConfirm","stopPropagation","trim","taskData","board_id","description","priority","is_public","assignees","log","handleCancel","handleInputClick","filteredUsers","user","onClick","Form","InputGroup","Input","ref","placeholder","onChange","target","onKeyPress","autoFocus","FormGroup","check","checked","publicStatus","Label","for","maxHeight","overflowY","prev","email","disabled","borderRadius","display","alignItems","justifyContent","TaskItem","onUpdate","onDelete","isEditing","setIsEditing","showDeleteConfirm","setShowDeleteConfirm","editedTitle","setEditedTitle","attachmentCount","attachments_count","creatorInfo","creator_name","creator_email","creator","getCreatorInfo","isCurrentUserCreator","handleSave","handleConfirmDelete","handleCancelDelete","isCompleted","priorityInfo","getPriorityInfo","commentCount","comments","cursor","transition","borderLeft","closest","onMouseEnter","currentTarget","transform","boxShadow","onMouseLeave","minWidth","onBlur","lineHeight","Badge","due_date","backgroundColor","dateString","date","Date","now","toDateString","toLocaleDateString","month","day","formatDate","Modal","isOpen","toggle","ModalHeader","ModalBody","ModalFooter","TaskColumn","tasks","onUpdateTask","onDeleteTask","onTaskClick","superAdminIds","handleUpdateTask","handleDeleteTask","handleTaskClick","sortedTasks","Array","isArray","sort","b","dateA","created_at","pill","flexDirection","WeeklyGroupedTaskColumn","useExternalTasks","Set","expandedWeeks","setExpandedWeeks","getWeekLabel","startDate","endDate","start","end","year","lastWeek","setDate","getDate","groupedWeeks","useMemo","weeksMap","forEach","completed_at","completedDate","weekStart","getDay","weekKey","toISOString","split","weekEnd","week_start","week_end","week_label","task_count","push","weeksArray","values","week","isWeekExpanded","has","handleTaskUpdate","handleTaskDelete","totalTasks","reduce","allWeekStarts","minHeight","newSet","add","Collapse","boardService","boardData","boards","TaskBoard","onRefresh","loading","setBoards","boardsLoading","setBoardsLoading","boardsError","setBoardsError","boardTasks","setBoardTasks","isSuperAdmin","roles","permissions","defaultBoardNames","loadBoards","getBoards","boardsData","boardTasksMap","errorMessage","updatedBoardTasks","boardId","visibleBoards","shouldShowBoard","Spinner","Alert","boardTasksList","lg","AttachmentSection","onAttachmentsCountChange","attachments","setAttachments","setLoading","uploading","setUploading","setError","setSuccess","deleteModal","setDeleteModal","selectedAttachment","setSelectedAttachment","fileInputRef","formatAttachmentDate","isToday","isYesterday","toLocaleTimeString","hour","minute","loadAttachments","getAttachments","attachmentsData","handleDownload","attachment","downloadAttachment","blob","Blob","mime_type","url","window","URL","createObjectURL","link","document","createElement","href","download","original_name","body","appendChild","click","removeChild","revokeObjectURL","handleFileUpload","uploadAttachment","updatedAttachments","handleDeleteConfirm","deleteAttachment","att","getFileIcon","iconProps","file_icon","isMyAttachment","canDeleteAttachment","setTimeout","event","files","accept","ListGroup","flush","ListGroupItem","formatted_size","handleDeleteClick","Linkify","urlRegex","parts","part","match","rel","TaskModal","userAccessibleBoards","setTaskData","setVisibleBoards","setUsers","assigneeDropdownOpen","setAssigneeDropdownOpen","menuOpen","setMenuOpen","newComment","setNewComment","activeTab","setActiveTab","isEditingDescription","setIsEditingDescription","attachmentsCount","setAttachmentsCount","commentToDelete","setCommentToDelete","taskDeleteModal","setTaskDeleteModal","editingComment","setEditingComment","editedCommentContent","setEditedCommentContent","commentsListRef","mainContentRef","sidebarRef","priorityOptions","Flag","TrendingUp","Zap","allBoards","filteredBoards","getStatusDisplayName","replace","str","toUpperCase","formatTaskDate","formatCommentDate","diffDays","Math","ceil","abs","weekday","formatDueDate","isTomorrow","scrollToBottom","scrollTop","scrollHeight","canRemoveAssignee","assigneeId","handleUpdateComment","updateComment","confirmDeleteComment","deleteComment","handleDeleteComment","cancelEditingComment","loadTaskDetails","getTask","handleTogglePublic","togglePublic","handleAddAssignee","addAssignee","handleRemoveAssignee","removeAssignee","handleAddComment","addComment","handleStatusChange","newStatus","selectedBoard","isDefaultCompletedBoard","is_default","completeTask","reopenTask","updateTask","handlePriorityChange","newPriority","confirmDeleteTask","deleteTask","currentPriority","option","currentBoard","centered","maxWidth","updated_at","getPriorityColor","getPriorityText","getStatusColor","Dropdown","rows","whiteSpace","tasks_count","newDate","comment","user_name","charAt","edited","startEditingComment","resize","updatedTask","count","canAddAssignees","direction","position","zIndex","u","isMe","substring","DeletedTasks","deletedTasks","setDeletedTasks","restoreModal","setRestoreModal","selectedTask","setSelectedTask","actionLoading","setActionLoading","loadDeletedTasks","getDeletedTasks","clearMessages","handleRestore","confirmRestore","restoreTask","handleForceDelete","confirmForceDelete","forceDeleteTask","toLocaleString","getStatusBadge","todo","Table","deleted_at","jsx","filterService","defaultFilters","userRole","createdDateFrom","createdDateTo","dueDateFrom","dueDateTo","searchTerm","hasAttachments","filters","toLowerCase","titleMatch","descMatch","some","userIdNum","taskCreated","filterTo","setHours","taskDue","activeFilters","selectedUsers","toString","userText","join","roleText","getUserRoleText","priorityLabels","0","1","2","dateText","baseStatuses","customStatuses","slice","TaskFilter","onFiltersChange","filteredTasks","allTasks","isExpanded","setIsExpanded","localFilters","setLocalFilters","hasActiveFilters","filterSummary","getFilterSummary","userRoleOptions","getUserRoleOptions","getUserAccessibleBoards","statusOptions","getStatusOptions","userOptions","handleFilterChange","newFilters","handleApplyFilters","handleResetFilters","resetFilters","handleClearFilter","filterKey","handleQuickFilter","filterType","today","nextWeek","selectStyles","control","base","menu","multiValue","multiValueLabel","accessibleBoards","isUserFilter","startsWith","isMulti","selectedOptions","selectedValues","styles","isSearchable","isClearable","DeletedBoards","deletedBoards","setDeletedBoards","setSelectedBoard","loadDeletedBoards","getTrashedBoards","restoreBoard","forceDeleteBoard","BoardManager","modalOpen","setModalOpen","editingBoard","setEditingBoard","setFormData","toggleTab","tab","handleSubmit","updateBoard","createBoard","confirmDelete","deleteBoard","Nav","tabs","NavItem","NavLink","active","TabContent","TabPane","tabId","handleEdit","handleDelete","handleColorSelect","TaskManager","setTasks","loadTasks","useCallback","getBoardData","addTask","createTask","refreshTasks","useTasks","updateTaskSilently","isModalOpen","setIsModalOpen","actionError","setActionError","actionSuccess","setActionSuccess","setAvailableUsers","setSuperAdminIds","usersLoading","setUsersLoading","setFilters","useAuth","authLoading","authenticated","fetchAvailableUsers","getAvailableUsers","super_admins","createFallbackUsers","fallbackUsers","userApi","autocomplete","usersWithRoles","superAdmins","flattenedTasks","applyFilters","filteredTasksByBoard","grouped","getCurrentUserFromStorage","userData","parsed","handleAddTask","effectiveUser","taskWithCreator","isSilent","handleModalUpdate","AnalyticsCards","context","useContext","ThemeColors","breadCrumbTitle","breadCrumbParent","breadCrumbActive","main","apiCalls","update","q","autocompleteUserForTaxExempt","autocompleteCashier","autocompleteTaxExempt","changePassword","verificationEmail","useModel","model","useDatatable","datatable","mutates","useEmployeeDatatable","fetcher","then","res","useSWR","mutate","models","revalidateOnFocus","revalidateOnReconnect","refreshWhenOffline","refreshWhenHidden","refreshInterval","endpoint","page","limit","search","conditions","stringify","items","datatableWithData","from","to","table","BreadCrumbs","breadCrumbParent2","breadCrumbParent3"],"mappings":"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","file":"static/js/179.4a2f8e5b.chunk.js","sourcesContent":["import { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport classnames from 'classnames'\nimport {\n  Card,\n  CardHeader,\n  CardTitle,\n  CardBody,\n  UncontrolledDropdown,\n  DropdownMenu,\n  DropdownItem,\n  DropdownToggle\n} from 'reactstrap'\nimport Chart from 'react-apexcharts'\nimport * as Icon from 'react-feather'\n\nconst SessionByDevice = props => {\n  const [data, setData] = useState(null)\n\n  useEffect(() => {\n      setData({\n          last_days: ['Last 28 Days', 'Last Month', 'Last Year'],\n          chart_info: [\n              {\n                  icon: 'Monitor',\n                  name: 'Desktop',\n                  iconColor: 'text-primary',\n                  usage: 58.6,\n                  upDown: 2\n              },\n              {\n                  icon: 'Tablet',\n                  name: 'Mobile',\n                  iconColor: 'text-warning',\n                  usage: 34.9,\n                  upDown: 8\n              },\n              {\n                  icon: 'Tablet',\n                  name: 'Tablet',\n                  iconColor: 'text-danger',\n                  usage: 6.5,\n                  upDown: -5\n              }\n          ]\n      })\n    // axios.get('/card/card-analytics/sessions-device').then(res => setData(res.data))\n  }, [])\n\n  const options = {\n      chart: {\n        toolbar: {\n          show: false\n        }\n      },\n      labels: ['Desktop', 'Mobile', 'Tablet'],\n      dataLabels: {\n        enabled: false\n      },\n      legend: { show: false },\n      comparedResult: [2, -3, 8],\n      stroke: { width: 0 },\n      colors: [props.primary, props.warning, props.danger]\n    },\n    series = [58.6, 34.9, 6.5]\n\n  const renderChartInfo = () => {\n    return data.chart_info.map((item, index) => {\n      const IconTag = Icon[item.icon]\n      return (\n        <div\n          key={index}\n          className={classnames('d-flex justify-content-between', {\n            'mb-1': index !== data.chart_info.length - 1\n          })}\n        >\n          <div className='d-flex align-items-center'>\n            <IconTag\n              size={17}\n              className={classnames({\n                [item.iconColor]: item.iconColor\n              })}\n            />\n            <span className='font-weight-bold ml-75 mr-25'>{item.name}</span>\n            <span>- {item.usage}%</span>\n          </div>\n          <div>\n            <span>{item.upDown}%</span>\n            {item.upDown > 0 ? (\n              <Icon.ArrowUp size={14} className='ml-25 text-success' />\n            ) : (\n              <Icon.ArrowDown size={14} className='ml-25 text-danger' />\n            )}\n          </div>\n        </div>\n      )\n    })\n  }\n\n  return data !== null ? (\n    <Card>\n      <CardHeader className='align-items-end'>\n        <CardTitle tag='h4'>Session By Device</CardTitle>\n        <UncontrolledDropdown className='chart-dropdown'>\n          <DropdownToggle color='' className='bg-transparent btn-sm border-0 p-50'>\n            Last 7 days\n          </DropdownToggle>\n          <DropdownMenu right>\n            {data.last_days.map(item => (\n              <DropdownItem className='w-100' key={item}>\n                {item}\n              </DropdownItem>\n            ))}\n          </DropdownMenu>\n        </UncontrolledDropdown>\n      </CardHeader>\n      <CardBody>\n        <Chart className='my-1' options={options} series={series} type='donut' height={300} />\n        {renderChartInfo()}\n      </CardBody>\n    </Card>\n  ) : null\n}\nexport default SessionByDevice\n","import { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport {\n  Card,\n  CardHeader,\n  CardTitle,\n  CardBody,\n  UncontrolledDropdown,\n  DropdownMenu,\n  DropdownItem,\n  DropdownToggle\n} from 'reactstrap'\nimport Chart from 'react-apexcharts'\nimport { Circle } from 'react-feather'\n\nconst ProductOrders = props => {\n  const [data, setData] = useState(null)\n\n  useEffect(() => {\n    setData({\n      last_days: ['Last 28 Days', 'Last Month', 'Last Year'],\n      chart_info: { finished: 23043, pending: 14658, rejected: 4758 }\n    })\n    // axios.get('/card/card-analytics/product-orders').then(res => setData(res.data))\n  }, [])\n\n  const options = {\n      labels: ['Finished', 'Pending', 'Rejected'],\n      plotOptions: {\n        radialBar: {\n          size: 150,\n          hollow: {\n            size: '20%'\n          },\n          track: {\n            strokeWidth: '100%',\n            margin: 15\n          },\n          dataLabels: {\n            value: {\n              fontSize: '1rem',\n              colors: '#5e5873',\n              fontWeight: '500',\n              offsetY: 5\n            },\n            total: {\n              show: true,\n              label: 'Total',\n              fontSize: '1.286rem',\n              colors: '#5e5873',\n              fontWeight: '500',\n\n              formatter() {\n                // By default this function returns the average of all series. The below is just an example to show the use of custom formatter function\n                return 42459\n              }\n            }\n          }\n        }\n      },\n      colors: [props.primary, props.warning, props.danger],\n      stroke: {\n        lineCap: 'round'\n      },\n      chart: {\n        height: 355,\n        dropShadow: {\n          enabled: true,\n          blur: 3,\n          left: 1,\n          top: 1,\n          opacity: 0.1\n        }\n      }\n    },\n    series = [70, 52, 26]\n\n  return data !== null ? (\n    <Card>\n      <CardHeader>\n        <CardTitle tag='h4'>Product Orders</CardTitle>\n        <UncontrolledDropdown className='chart-dropdown'>\n          <DropdownToggle color='' className='bg-transparent btn-sm border-0 p-50'>\n            Last 7 days\n          </DropdownToggle>\n          <DropdownMenu right>\n            {data.last_days.map(item => (\n              <DropdownItem className='w-100' key={item}>\n                {item}\n              </DropdownItem>\n            ))}\n          </DropdownMenu>\n        </UncontrolledDropdown>\n      </CardHeader>\n      <CardBody>\n        <Chart options={options} series={series} type='radialBar' height={325} />\n        <div className='d-flex justify-content-between mb-1'>\n          <div className='d-flex align-items-center'>\n            <Circle size={15} className='text-primary' />\n            <span className='font-weight-bold ml-75'>Finished</span>\n          </div>\n          <span>{data.chart_info.finished}</span>\n        </div>\n        <div className='d-flex justify-content-between mb-1'>\n          <div className='d-flex align-items-center'>\n            <Circle size={15} className='text-warning' />\n            <span className='font-weight-bold ml-75'>Pending</span>\n          </div>\n          <span>{data.chart_info.pending}</span>\n        </div>\n        <div className='d-flex justify-content-between'>\n          <div className='d-flex align-items-center'>\n            <Circle size={15} className='text-danger' />\n            <span className='font-weight-bold ml-75'>Rejected</span>\n          </div>\n          <span>{data.chart_info.rejected}</span>\n        </div>\n      </CardBody>\n    </Card>\n  ) : null\n}\nexport default ProductOrders\n","import { useEffect, useState } from 'react'\nimport classnames from 'classnames'\nimport axios from 'axios'\nimport {\n  Card,\n  CardHeader,\n  CardTitle,\n  CardBody,\n  UncontrolledDropdown,\n  DropdownMenu,\n  DropdownItem,\n  DropdownToggle\n} from 'reactstrap'\nimport * as Icon from 'react-feather'\nimport Chart from 'react-apexcharts'\n\nconst Customers = props => {\n  const [data, setData] = useState(null)\n\n  useEffect(() => {\n      setData({\n          last_days: ['Last 28 Days', 'Last Month', 'Last Year'],\n          listData: [\n              {\n                  icon: 'Circle',\n                  iconColor: 'text-primary',\n                  text: 'New',\n                  result: 690\n              },\n              {\n                  icon: 'Circle',\n                  iconColor: 'text-warning',\n                  text: 'Returning',\n                  result: 258\n              },\n              {\n                  icon: 'Circle',\n                  iconColor: 'text-danger',\n                  text: 'Referrals',\n                  result: 149\n              }\n          ]\n      })\n    // axios.get('/card/card-analytics/customers').then(res => setData(res.data))\n  }, [])\n\n  const options = {\n      chart: {\n        toolbar: {\n          show: false\n        }\n      },\n      labels: ['New', 'Returning', 'Referrals'],\n      dataLabels: {\n        enabled: false\n      },\n      legend: { show: false },\n      stroke: {\n        width: 4\n      },\n      colors: [props.primary, props.warning, props.danger]\n    },\n    series = [690, 258, 149]\n\n  const renderChartInfo = () => {\n    return data.listData.map((item, index) => {\n      const IconTag = Icon[item.icon]\n\n      return (\n        <div\n          key={index}\n          className={classnames('d-flex justify-content-between', {\n            'mb-1': index !== data.listData.length - 1\n          })}\n        >\n          <div className='d-flex align-items-center'>\n            <IconTag\n              size={15}\n              className={classnames({\n                [item.iconColor]: item.iconColor\n              })}\n            />\n            <span className='font-weight-bold ml-75'>{item.text}</span>\n          </div>\n          <span>{item.result}</span>\n        </div>\n      )\n    })\n  }\n\n  return data !== null ? (\n    <Card>\n      <CardHeader className='align-items-end'>\n        <CardTitle tag='h4'>Customers</CardTitle>\n        <UncontrolledDropdown className='chart-dropdown'>\n          <DropdownToggle color='' className='bg-transparent btn-sm border-0 p-50'>\n            Last 7 days\n          </DropdownToggle>\n          <DropdownMenu right>\n            {data.last_days.map(item => (\n              <DropdownItem className='w-100' key={item}>\n                {item}\n              </DropdownItem>\n            ))}\n          </DropdownMenu>\n        </UncontrolledDropdown>\n      </CardHeader>\n      <CardBody>\n        <Chart options={options} series={series} type='pie' height={325} />\n        <div className='pt-25'>{renderChartInfo()}</div>\n      </CardBody>\n    </Card>\n  ) : null\n}\nexport default Customers\n","import Chart from 'react-apexcharts'\nimport { MoreVertical, Circle } from 'react-feather'\nimport {\n  Card,\n  CardHeader,\n  CardTitle,\n  CardBody,\n  CardText,\n  UncontrolledDropdown,\n  DropdownMenu,\n  DropdownItem,\n  DropdownToggle\n} from 'reactstrap'\n\nconst Sales = props => {\n  const options = {\n      chart: {\n        height: 300,\n        type: 'radar',\n        dropShadow: {\n          enabled: true,\n          blur: 8,\n          left: 1,\n          top: 1,\n          opacity: 0.2\n        },\n        toolbar: {\n          show: false\n        },\n        offsetY: 5\n      },\n      stroke: {\n        width: 0\n      },\n      dataLabels: {\n        background: {\n          foreColor: ['#ebe9f1']\n        }\n      },\n      legend: { show: false },\n      colors: [props.primary, props.info],\n      plotOptions: {\n        radar: {\n          polygons: {\n            strokeColors: ['#ebe9f1', 'transparent', 'transparent', 'transparent', 'transparent', 'transparent'],\n            connectorColors: 'transparent'\n          }\n        }\n      },\n      fill: {\n        type: 'gradient',\n        gradient: {\n          shade: 'dark',\n          gradientToColors: [props.primary, props.info],\n          shadeIntensity: 1,\n          type: 'horizontal',\n          opacityFrom: 1,\n          opacityTo: 1,\n          stops: [0, 100, 100, 100]\n        }\n      },\n      labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],\n      markers: {\n        size: 0\n      },\n      yaxis: {\n        show: false\n      },\n      grid: {\n        show: false,\n        padding: {\n          bottom: -27\n        }\n      }\n    },\n    series = [\n      {\n        name: 'Sales',\n        data: [90, 50, 86, 40, 100, 20]\n      },\n      {\n        name: 'Visit',\n        data: [70, 75, 70, 76, 20, 85]\n      }\n    ]\n  return (\n    <Card>\n      <CardHeader className='d-flex justify-content-between align-items-start pb-1'>\n        <div>\n          <CardTitle className='mb-25' tag='h4'>\n            Sales\n          </CardTitle>\n          <CardText>Last 6 months</CardText>\n        </div>\n\n        <UncontrolledDropdown className='chart-dropdown'>\n          <DropdownToggle color='' className='bg-transparent btn-sm border-0 p-50'>\n            <MoreVertical size={18} className='cursor-pointer' />\n          </DropdownToggle>\n          <DropdownMenu right>\n            <DropdownItem className='w-100'>Last 28 Days</DropdownItem>\n            <DropdownItem className='w-100'>Last Month</DropdownItem>\n            <DropdownItem className='w-100'>Last Year</DropdownItem>\n          </DropdownMenu>\n        </UncontrolledDropdown>\n      </CardHeader>\n\n      <CardBody>\n        <div className='d-inline-block mr-1'>\n          <div className='d-flex align-items-center'>\n            <Circle size={13} className='text-primary mr-50' />\n            <h6 className='mb-0'>Sales</h6>\n          </div>\n        </div>\n        <div className='d-inline-block'>\n          <div className='d-flex align-items-center'>\n            <Circle size={13} className='text-info mr-50' />\n            <h6 className='mb-0'>Visits</h6>\n          </div>\n        </div>\n        <Chart options={options} series={series} type='radar' height={300} />\n      </CardBody>\n    </Card>\n  )\n}\nexport default Sales\n","import { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport {\n  Card,\n  CardHeader,\n  CardTitle,\n  CardBody,\n  CardText,\n  UncontrolledDropdown,\n  DropdownMenu,\n  DropdownItem,\n  DropdownToggle,\n  Row,\n  Col\n} from 'reactstrap'\nimport Chart from 'react-apexcharts'\n\nconst SupportTracker = props => {\n  const [data, setData] = useState(null)\n\n  useEffect(() => {\n    setData({\n      title: 'Support Tracker',\n      last_days: ['Last 28 Days', 'Last Month', 'Last Year'],\n      totalTicket: 163,\n      newTicket: 29,\n      openTicket: 63,\n      responseTime: 1\n    })\n    // axios.get('/card/card-analytics/support-tracker').then(res => setData(res.data))\n  }, [])\n\n  const options = {\n      plotOptions: {\n        radialBar: {\n          size: 150,\n          offsetY: 20,\n          startAngle: -150,\n          endAngle: 150,\n          hollow: {\n            size: '65%'\n          },\n          track: {\n            background: '#fff',\n            strokeWidth: '100%'\n          },\n          dataLabels: {\n            name: {\n              offsetY: -5,\n              fontFamily: 'Montserrat',\n              fontSize: '1rem'\n            },\n            value: {\n              offsetY: 15,\n              fontFamily: 'Montserrat',\n              fontSize: '1.714rem'\n            }\n          }\n        }\n      },\n      colors: [props.danger],\n      fill: {\n        type: 'gradient',\n        gradient: {\n          shade: 'dark',\n          type: 'horizontal',\n          shadeIntensity: 0.5,\n          gradientToColors: [props.primary],\n          inverseColors: true,\n          opacityFrom: 1,\n          opacityTo: 1,\n          stops: [0, 100]\n        }\n      },\n      stroke: {\n        dashArray: 8\n      },\n      labels: ['Completed Tickets']\n    },\n    series = [83]\n\n  return data !== null ? (\n    <Card>\n      <CardHeader className='pb-0'>\n        <CardTitle tag='h4'>{data.title}</CardTitle>\n        <UncontrolledDropdown className='chart-dropdown'>\n          <DropdownToggle color='' className='bg-transparent btn-sm border-0 p-50'>\n            Last 7 days\n          </DropdownToggle>\n          <DropdownMenu right>\n            {data.last_days.map(item => (\n              <DropdownItem className='w-100' key={item}>\n                {item}\n              </DropdownItem>\n            ))}\n          </DropdownMenu>\n        </UncontrolledDropdown>\n      </CardHeader>\n      <CardBody>\n        <Row>\n          <Col sm='2' className='d-flex flex-column flex-wrap text-center'>\n            <h1 className='font-large-2 font-weight-bolder mt-2 mb-0'>{data.totalTicket}</h1>\n            <CardText>Tickets</CardText>\n          </Col>\n          <Col sm='10' className='d-flex justify-content-center'>\n            <Chart options={options} series={series} type='radialBar' height={270} id='support-tracker-card' />\n          </Col>\n        </Row>\n        <div className='d-flex justify-content-between mt-1'>\n          <div className='text-center'>\n            <CardText className='mb-50'>New Tickets</CardText>\n            <span className='font-large-1 font-weight-bold'>{data.newTicket}</span>\n          </div>\n          <div className='text-center'>\n            <CardText className='mb-50'>Open Tickets</CardText>\n            <span className='font-large-1 font-weight-bold'>{data.openTicket}</span>\n          </div>\n          <div className='text-center'>\n            <CardText className='mb-50'>Response Time</CardText>\n            <span className='font-large-1 font-weight-bold'>{data.responseTime}d</span>\n          </div>\n        </div>\n      </CardBody>\n    </Card>\n  ) : null\n}\nexport default SupportTracker\n","import { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport {\n  Card,\n  CardTitle,\n  Row,\n  Col,\n  Button,\n  UncontrolledButtonDropdown,\n  DropdownMenu,\n  DropdownItem,\n  DropdownToggle\n} from 'reactstrap'\nimport Chart from 'react-apexcharts'\n\nconst RevenueReport = props => {\n  const [data, setData] = useState(null)\n\n  useEffect(() => {\n    setData({\n      years: ['2020', '2019', '2018'],\n      price: '25,852',\n      budget: '56,800'\n    })\n    // axios.get('/card/card-analytics/revenue-report').then(res => setData(res.data))\n  }, [])\n\n  const revenueOptions = {\n      chart: {\n        stacked: true,\n        type: 'bar',\n        toolbar: { show: false }\n      },\n      grid: {\n        padding: {\n          top: -20,\n          bottom: -10\n        },\n        yaxis: {\n          lines: { show: false }\n        }\n      },\n      xaxis: {\n        categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep'],\n        labels: {\n          style: {\n            colors: '#b9b9c3',\n            fontSize: '0.86rem'\n          }\n        },\n        axisTicks: {\n          show: false\n        },\n        axisBorder: {\n          show: false\n        }\n      },\n      legend: {\n        show: false\n      },\n      dataLabels: {\n        enabled: false\n      },\n      colors: [props.primary, props.warning],\n      plotOptions: {\n        bar: {\n          columnWidth: '17%',\n          endingShape: 'rounded'\n        },\n        distributed: true\n      },\n      yaxis: {\n        labels: {\n          style: {\n            colors: '#b9b9c3',\n            fontSize: '0.86rem'\n          }\n        }\n      }\n    },\n    revenueSeries = [\n      {\n        name: 'Earning',\n        data: [95, 177, 284, 256, 105, 63, 168, 218, 72]\n      },\n      {\n        name: 'Expense',\n        data: [-145, -80, -60, -180, -100, -60, -85, -75, -100]\n      }\n    ]\n\n  const budgetSeries = [\n      {\n        data: [61, 48, 69, 52, 60, 40, 79, 60, 59, 43, 62]\n      },\n      {\n        data: [20, 10, 30, 15, 23, 0, 25, 15, 20, 5, 27]\n      }\n    ],\n    budgetOptions = {\n      chart: {\n        toolbar: { show: false },\n        zoom: { enabled: false },\n        type: 'line',\n        sparkline: { enabled: true }\n      },\n      stroke: {\n        curve: 'smooth',\n        dashArray: [0, 5],\n        width: [2]\n      },\n      colors: [props.primary, '#dcdae3'],\n      tooltip: {\n        enabled: false\n      }\n    }\n\n  return data !== null ? (\n    <Card className='card-revenue-budget'>\n      <Row className='mx-0'>\n        <Col className='revenue-report-wrapper' md='8' xs='12'>\n          <div className='d-sm-flex justify-content-between align-items-center mb-3'>\n            <CardTitle className='mb-50 mb-sm-0'>Revenue Report</CardTitle>\n            <div className='d-flex align-items-center'>\n              <div className='d-flex align-items-center mr-2'>\n                <span className='bullet bullet-primary mr-50 cursor-pointer'></span>\n                <span>Earning</span>\n              </div>\n              <div className='d-flex align-items-center'>\n                <span className='bullet bullet-warning mr-50 cursor-pointer'></span>\n                <span>Expense</span>\n              </div>\n            </div>\n          </div>\n          <Chart id='revenue-report-chart' type='bar' height='230' options={revenueOptions} series={revenueSeries} />\n        </Col>\n        <Col className='budget-wrapper' md='4' xs='12'>\n          <UncontrolledButtonDropdown>\n            <DropdownToggle className='budget-dropdown' outline color='primary' size='sm' caret>\n              2020\n            </DropdownToggle>\n            <DropdownMenu>\n              {data.years.map(item => (\n                <DropdownItem className='w-100' key={item}>\n                  {item}\n                </DropdownItem>\n              ))}\n            </DropdownMenu>\n          </UncontrolledButtonDropdown>\n          <h2 className='mb-25'>${data.price}</h2>\n          <div className='d-flex justify-content-center'>\n            <span className='font-weight-bolder mr-25'>Budget:</span>\n            <span>{data.budget}</span>\n          </div>\n          <Chart id='budget-chart' type='line' height='80' options={budgetOptions} series={budgetSeries} />\n          <Button color='primary'>Increase Budget</Button>\n        </Col>\n      </Row>\n    </Card>\n  ) : null\n}\n\nexport default RevenueReport\n","import { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport Chart from 'react-apexcharts'\nimport { Settings } from 'react-feather'\nimport { Card, CardHeader, CardTitle, CardBody, CardText } from 'reactstrap'\n\nconst Revenue = props => {\n  const [data, setData] = useState(null)\n\n  useEffect(() => {\n      setData({\n          thisMonth: '86,589',\n          lastMonth: '73,683'\n      })\n    // axios.get('/card/card-analytics/revenue').then(res => setData(res.data))\n  }, [])\n\n  const options = {\n      chart: {\n        toolbar: { show: false },\n        zoom: { enabled: false },\n        type: 'line',\n        offsetX: -10\n      },\n      stroke: {\n        curve: 'smooth',\n        dashArray: [0, 12],\n        width: [4, 3]\n      },\n      legend: {\n        show: false\n      },\n      colors: ['#d0ccff', '#ebe9f1'],\n      fill: {\n        type: 'gradient',\n        gradient: {\n          shade: 'dark',\n          inverseColors: false,\n          gradientToColors: [props.primary, '#ebe9f1'],\n          shadeIntensity: 1,\n          type: 'horizontal',\n          opacityFrom: 1,\n          opacityTo: 1,\n          stops: [0, 100, 100, 100]\n        }\n      },\n      markers: {\n        size: 0,\n        hover: {\n          size: 5\n        }\n      },\n      xaxis: {\n        labels: {\n          style: {\n            colors: '#b9b9c3',\n            fontSize: '1rem'\n          }\n        },\n        axisTicks: {\n          show: false\n        },\n        categories: ['01', '05', '09', '13', '17', '21', '26', '31'],\n        axisBorder: {\n          show: false\n        },\n        tickPlacement: 'on'\n      },\n      yaxis: {\n        tickAmount: 5,\n        labels: {\n          style: {\n            colors: '#b9b9c3',\n            fontSize: '1rem'\n          },\n          formatter(val) {\n            return val > 999 ? `${(val / 1000).toFixed(0)}k` : val\n          }\n        }\n      },\n      grid: {\n        borderColor: '#e7eef7',\n        padding: {\n          top: -20,\n          bottom: -10,\n          left: 20\n        }\n      },\n      tooltip: {\n        x: { show: false }\n      }\n    },\n    series = [\n      {\n        name: 'This Month',\n        data: [45000, 47000, 44800, 47500, 45500, 48000, 46500, 48600]\n      },\n      {\n        name: 'Last Month',\n        data: [46000, 48000, 45500, 46600, 44500, 46500, 45000, 47000]\n      }\n    ]\n  return data !== null ? (\n    <Card>\n      <CardHeader>\n        <CardTitle tag='h4'>Revenue</CardTitle>\n        <Settings size={18} className='text-muted cursor-pointer' />\n      </CardHeader>\n      <CardBody>\n        <div className='d-flex justify-content-start mb-3'>\n          <div className='mr-2'>\n            <CardText className='mb-50'>This Month</CardText>\n            <h3 className='font-weight-bolder'>\n              <sup className='font-medium-1 font-weight-bold mr-25'>$</sup>\n              <span className='text-primary'>86,589</span>\n            </h3>\n          </div>\n          <div>\n            <CardText className='mb-50'>Last Month</CardText>\n            <h3 className='font-weight-bolder'>\n              <sup className='font-medium-1 font-weight-bold mr-25'>$</sup>\n              <span>73,683</span>\n            </h3>\n          </div>\n        </div>\n        <Chart options={options} series={series} type='line' height={240} />\n      </CardBody>\n    </Card>\n  ) : null\n}\nexport default Revenue\n","import { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport Chart from 'react-apexcharts'\nimport { HelpCircle } from 'react-feather'\nimport { Card, CardHeader, CardTitle, CardBody, CardText, Row, Col } from 'reactstrap'\n\nconst GoalOverview = props => {\n  const [data, setData] = useState(null)\n\n  useEffect(() => {\n      setData({\n          completed: '786,617',\n          inProgress: '13,561'\n      })\n    // axios.get('/card/card-analytics/goal-overview').then(res => setData(res.data))\n  }, [])\n\n  const options = {\n      chart: {\n        sparkline: {\n          enabled: true\n        },\n        dropShadow: {\n          enabled: true,\n          blur: 3,\n          left: 1,\n          top: 1,\n          opacity: 0.1\n        }\n      },\n      colors: ['#51e5a8'],\n      plotOptions: {\n        radialBar: {\n          offsetY: 10,\n          startAngle: -150,\n          endAngle: 150,\n          hollow: {\n            size: '77%'\n          },\n          track: {\n            background: '#ebe9f1',\n            strokeWidth: '50%'\n          },\n          dataLabels: {\n            name: {\n              show: false\n            },\n            value: {\n              color: '#5e5873',\n              fontFamily: 'Montserrat',\n              fontSize: '2.86rem',\n              fontWeight: '600'\n            }\n          }\n        }\n      },\n      fill: {\n        type: 'gradient',\n        gradient: {\n          shade: 'dark',\n          type: 'horizontal',\n          shadeIntensity: 0.5,\n          gradientToColors: [props.success],\n          inverseColors: true,\n          opacityFrom: 1,\n          opacityTo: 1,\n          stops: [0, 100]\n        }\n      },\n      stroke: {\n        lineCap: 'round'\n      },\n      grid: {\n        padding: {\n          bottom: 30\n        }\n      }\n    },\n    series = [83]\n\n  return data !== null ? (\n    <Card>\n      <CardHeader>\n        <CardTitle tag='h4'>Goal Overview</CardTitle>\n        <HelpCircle size={18} className='text-muted cursor-pointer' />\n      </CardHeader>\n      <CardBody className='p-0'>\n        <Chart options={options} series={series} type='radialBar' height={245} />\n      </CardBody>\n      <Row className='border-top text-center mx-0'>\n        <Col xs='6' className='border-right py-1'>\n          <CardText className='text-muted mb-0'>Completed</CardText>\n          <h3 className='font-weight-bolder mb-0'>{data.completed}</h3>\n        </Col>\n        <Col xs='6' className='py-1'>\n          <CardText className='text-muted mb-0'>In Progress</CardText>\n          <h3 className='font-weight-bolder mb-0'>{data.inProgress}</h3>\n        </Col>\n      </Row>\n    </Card>\n  ) : null\n}\nexport default GoalOverview\n","import { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport { kFormatter } from '@utils'\nimport {\n  Card,\n  CardBody,\n  CardText,\n  Row,\n  Col,\n  Button,\n  UncontrolledDropdown,\n  DropdownMenu,\n  DropdownItem,\n  DropdownToggle,\n  Progress\n} from 'reactstrap'\nimport Chart from 'react-apexcharts'\n\nconst AvgSessions = props => {\n  const [data, setData] = useState(null)\n\n  useEffect(() => {\n    setData({\n      sessions: 2700,\n      last_days: ['Last 28 Days', 'Last Month', 'Last Year'],\n      growth: '+5.2%',\n      goal: 100000,\n      users: 100000,\n      retention: 90,\n      duration: 1\n    })\n    // axios.get('/card/card-analytics/avg-sessions').then(res => setData(res.data))\n  }, [])\n\n  const options = {\n      chart: {\n        sparkline: { enabled: true },\n        toolbar: { show: false }\n      },\n      grid: {\n        show: false,\n        padding: {\n          left: 0,\n          right: 0\n        }\n      },\n      states: {\n        hover: {\n          filter: 'none'\n        }\n      },\n      colors: ['#ebf0f7', '#ebf0f7', props.primary, '#ebf0f7', '#ebf0f7', '#ebf0f7'],\n      plotOptions: {\n        bar: {\n          columnWidth: '45%',\n          distributed: true,\n          endingShape: 'rounded'\n        }\n      },\n      tooltip: {\n        x: { show: false }\n      },\n      xaxis: {\n        type: 'numeric'\n      }\n    },\n    series = [\n      {\n        name: 'Sessions',\n        data: [75, 125, 225, 175, 125, 75, 25]\n      }\n    ]\n\n  return data !== null ? (\n    <Card>\n      <CardBody>\n        <Row className='pb-50'>\n          <Col\n            sm={{ size: 6, order: 1 }}\n            xs={{ order: 2 }}\n            className='d-flex justify-content-between flex-column mt-lg-0 mt-2'\n          >\n            <div className='session-info mb-1 mb-lg-0'>\n              <h2 className='font-weight-bold mb-25'>{kFormatter(data.sessions)}</h2>\n              <CardText className='font-weight-bold mb-2'>Avg Sessions</CardText>\n              <h5 className='font-medium-2'>\n                <span className='text-success mr-50'>{data.growth}</span>\n                <span className='font-weight-normal'>vs last 7 days</span>\n              </h5>\n            </div>\n            <Button color='primary'>View Details</Button>\n          </Col>\n          <Col\n            sm={{ size: 6, order: 2 }}\n            xs={{ order: 1 }}\n            className='d-flex justify-content-between flex-column text-right'\n          >\n            <UncontrolledDropdown className='chart-dropdown'>\n              <DropdownToggle color='' className='bg-transparent btn-sm border-0 p-50'>\n                Last 7 days\n              </DropdownToggle>\n              <DropdownMenu right>\n                {data.last_days.map(item => (\n                  <DropdownItem className='w-100' key={item}>\n                    {item}\n                  </DropdownItem>\n                ))}\n              </DropdownMenu>\n            </UncontrolledDropdown>\n            <Chart options={options} series={series} type='bar' height={200} />\n          </Col>\n        </Row>\n        <hr />\n        <Row className='pt-50'>\n          <Col className='mb-2' md='6' sm='12'>\n            <p className='mb-50'>Goal: ${data.goal}</p>\n            <Progress className='avg-session-progress mt-25' value='50' />\n          </Col>\n          <Col className='mb-2' md='6' sm='12'>\n            <p className='mb-50'>Users: {kFormatter(data.users)}</p>\n            <Progress className='avg-session-progress progress-bar-warning mt-25' value='60' />\n          </Col>\n          <Col md='6' sm='12'>\n            <p className='mb-50'>Retention: {data.retention}%</p>\n            <Progress className='avg-session-progress progress-bar-danger mt-25' value='70' />\n          </Col>\n          <Col md='6' sm='12'>\n            <p className='mb-50'>Duration: {data.duration}yr</p>\n            <Progress className='avg-session-progress progress-bar-success mt-25' value='80' />\n          </Col>\n        </Row>\n      </CardBody>\n    </Card>\n  ) : null\n}\nexport default AvgSessions\n","import axios from '../utility/axiosIsntance'\n\nconst url = 'stats'\n\nexport const api = {\n    sales: async (params) => {\n        const { data } = await axios.get(`${url}/sales`)\n        return data?.data\n    }\n}\n","import Chart from 'react-apexcharts'\nimport { Settings } from 'react-feather'\nimport { Card, CardHeader, CardTitle, CardBody, CardText } from 'reactstrap'\nimport { api  } from '@data/use-stats'\nimport { useEffect } from \"react\"\n\nconst Sales2 = props => {\n\n    const sales = async () => {\n        await api.sales()\n    }\n\n    useEffect(() => {\n        sales()\n    }, [])\n\n    const options = {\n      chart: {\n        toolbar: { show: false },\n        zoom: { enabled: false },\n        type: 'line',\n        dropShadow: {\n          enabled: true,\n          top: 18,\n          left: 2,\n          blur: 5,\n          opacity: 0.2\n        },\n        offsetX: -10\n      },\n      stroke: {\n        curve: 'smooth',\n        width: 4\n      },\n      grid: {\n        borderColor: '#ebe9f1',\n        padding: {\n          top: -20,\n          bottom: 5,\n          left: 20\n        }\n      },\n      legend: {\n        show: false\n      },\n      colors: ['#df87f2'],\n      fill: {\n        type: 'gradient',\n        gradient: {\n          shade: 'dark',\n          inverseColors: false,\n          gradientToColors: [props.primary],\n          shadeIntensity: 1,\n          type: 'horizontal',\n          opacityFrom: 1,\n          opacityTo: 1,\n          stops: [0, 100, 100, 100]\n        }\n      },\n      markers: {\n        size: 0,\n        hover: {\n          size: 5\n        }\n      },\n      xaxis: {\n        labels: {\n          offsetY: 5,\n          style: {\n            colors: '#b9b9c3',\n            fontSize: '0.857rem',\n            fontFamily: 'Montserrat'\n          }\n        },\n        axisTicks: {\n          show: false\n        },\n        categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'July', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n        axisBorder: {\n          show: false\n        },\n        tickPlacement: 'on'\n      },\n      yaxis: {\n        tickAmount: 5,\n        labels: {\n          style: {\n            colors: '#b9b9c3',\n            fontSize: '0.857rem',\n            fontFamily: 'Montserrat'\n          },\n          formatter(val) {\n            return val > 999 ? `${(val / 1000).toFixed(1)}k` : val\n          }\n        }\n      },\n      tooltip: {\n        x: { show: false }\n      }\n    },\n    series = [\n      {\n        name: 'Sales',\n        data: [140, 180, 150, 205, 160, 295, 125, 255, 205, 305, 240, 295]\n      }\n    ]\n  return (\n    <Card>\n      <CardHeader className='align-items-start'>\n        <div>\n          <CardTitle className='mb-25' tag='h4'>\n            Sales\n          </CardTitle>\n          <CardText className='mb-0'>2020 Total Sales: 12.84k</CardText>\n        </div>\n        {/*<Settings size={18} className='text-muted cursor-pointer' />*/}\n      </CardHeader>\n      <CardBody className='pb-0'>\n        <Chart options={options} series={series} type='line' height={240} />\n      </CardBody>\n    </Card>\n  )\n}\nexport default Sales2\n","import Chart from 'react-apexcharts'\nimport { Card, CardTitle, CardText, CardBody, Row, Col } from 'reactstrap'\n\nconst Earnings = ({ success }) => {\n  const options = {\n    chart: {\n      toolbar: {\n        show: false\n      }\n    },\n    dataLabels: {\n      enabled: false\n    },\n    legend: { show: false },\n    comparedResult: [2, -3, 8],\n    labels: ['App', 'Service', 'Product'],\n    stroke: { width: 0 },\n    colors: ['#28c76f66', '#28c76f33', success],\n    grid: {\n      padding: {\n        right: -20,\n        bottom: -8,\n        left: -20\n      }\n    },\n    plotOptions: {\n      pie: {\n        startAngle: -10,\n        donut: {\n          labels: {\n            show: true,\n            name: {\n              offsetY: 15\n            },\n            value: {\n              offsetY: -15,\n              formatter(val) {\n                return `${parseInt(val)} %`\n              }\n            },\n            total: {\n              show: true,\n              offsetY: 15,\n              label: 'App',\n              formatter(w) {\n                return '53%'\n              }\n            }\n          }\n        }\n      }\n    },\n    responsive: [\n      {\n        breakpoint: 1325,\n        options: {\n          chart: {\n            height: 100\n          }\n        }\n      },\n      {\n        breakpoint: 1200,\n        options: {\n          chart: {\n            height: 120\n          }\n        }\n      },\n      {\n        breakpoint: 1065,\n        options: {\n          chart: {\n            height: 100\n          }\n        }\n      },\n      {\n        breakpoint: 992,\n        options: {\n          chart: {\n            height: 120\n          }\n        }\n      }\n    ]\n  }\n\n  return (\n    <Card className='earnings-card'>\n      <CardBody>\n        <Row>\n          <Col xs='6'>\n            <CardTitle className='mb-1'>Earnings</CardTitle>\n            <div className='font-small-2'>This Month</div>\n            <h5 className='mb-1'>$4055.56</h5>\n            <CardText className='text-muted font-small-2'>\n              <span className='font-weight-bolder'>68.2%</span>\n              <span> more earnings than last month.</span>\n            </CardText>\n          </Col>\n          <Col xs='6'>\n            <Chart options={options} series={[53, 16, 31]} type='donut' height={120} />\n          </Col>\n        </Row>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default Earnings\n","// src/services/taskService.js (Updated with togglePublic)\nimport axios from 'axios'\n\nclass TaskService {\n\n  constructor() {\n    this.api = axios.create({\n      baseURL: `${process.env.REACT_APP_ADMIN_API}/tasks`,\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json'\n      }\n    })\n\n    this.api.interceptors.request.use(\n      (config) => {\n        const authData = localStorage.getItem('auth')\n        let token = null\n        \n        if (authData) {\n          try {\n            const auth = JSON.parse(authData)\n            token = auth.token || auth.accessToken\n          } catch (e) {\n            console.error('Error parsing auth data:', e)\n          }\n        }\n        \n        if (!token) {\n          token = localStorage.getItem('token') || localStorage.getItem('accessToken')\n        }\n\n        // console.log(' Token found:', !!token)\n        \n        if (token) {\n          config.headers.Authorization = `Bearer ${token}`\n        }\n        \n        return config\n      },\n      (error) => Promise.reject(error)\n    )\n\n    this.api.interceptors.response.use(\n      (response) => response,\n      (error) => {\n        if (error.response?.status === 401) {\n          localStorage.removeItem('auth')\n          localStorage.removeItem('token')\n          localStorage.removeItem('accessToken')\n          console.warn(' Unauthorized. Tokens cleared.')\n        }\n        return Promise.reject(error)\n      }\n    )\n  }\n  \n  async getAvailableUsers() {\n    try {\n      // console.log(' Fetching available users...')\n      const response = await this.api.get('/available-users')\n      // console.log(' Available users response:', response.data)\n      return response.data\n    } catch (error) {\n      console.error(' Error fetching available users:', error)\n      console.error(' Error details:', error.response?.data)\n      throw error\n    }\n  }\n\n   async getDeletedTasks() {\n    try {\n      // console.log(' Fetching deleted tasks...')\n      const response = await this.api.get('/deleted')\n      // console.log(' Deleted tasks response:', response.data)\n      return response.data\n    } catch (error) {\n      console.error(' Error fetching deleted tasks:', error)\n      console.error(' Error details:', error.response?.data)\n      throw error\n    }\n  }\n\n  async restoreTask(id) {\n    const taskId = this.extractTaskId(id)\n    const response = await this.api.post(`/${taskId}/restore`)\n    return response.data\n  }\n\n  async forceDeleteTask(id) {\n    const taskId = this.extractTaskId(id)\n    const response = await this.api.delete(`/${taskId}/force-delete`)\n    return response.data\n  }\n\n\n  async getBoardData() {\n    try {\n      // console.log(' Fetching board data from:', `${this.api.defaults.baseURL}/board`)\n      const response = await this.api.get('/board')\n      // console.log(' Board data response:', response.data)\n      return response.data\n    } catch (error) {\n      console.error(' Error fetching board data:', error)\n      console.error(' Error details:', error.response?.data)\n      throw error\n    }\n  }\n\n// src/services/taskService.js - Update createTask method\nasync createTask(task) {\n  try {\n    // console.log(' Creating task:', task)\n    const response = await this.api.post('/', task)\n    // console.log(' Task creation response:', response.data)\n    return response.data\n  } catch (error) {\n    console.error(' Task creation failed:', error)\n    console.error(' Error details:', error.response?.data)\n    \n    // Provide more user-friendly error messages\n    if (error.response?.data?.error?.includes('Data truncated for column')) {\n      throw new Error('Database configuration error. Please contact administrator.')\n    }\n    \n    throw new Error(error.response?.data?.message || 'Failed to create task')\n  }\n}\n\nasync updateTask(id, updates) {\n  const taskId = this.extractTaskId(id)\n  // console.log(' Update task - Final ID:', taskId, 'Type:', typeof taskId, 'Updates:', updates)\n  \n  try {\n    const response = await this.api.put(`/${taskId}`, updates)\n    // console.log(' Update task response:', response.data)\n    return response.data\n  } catch (error) {\n    console.error(' Update task error:', error)\n    console.error(' Error response:', error.response?.data)\n    throw error\n  }\n}\n\n  async deleteTask(id) {\n    const taskId = this.extractTaskId(id)\n    // console.log(' Delete task - Final ID:', taskId, 'Type:', typeof taskId)\n    const response = await this.api.delete(`/${taskId}`)\n    return response.data\n  }\n\nasync getTask(id) {\n  const taskId = this.extractTaskId(id)\n  // console.log(' Get task - Final ID:', taskId, 'Type:', typeof taskId)\n  \n  try {\n    const response = await this.api.get(`/${taskId}`)\n    // console.log(' Get task response:', response.data)\n    return response.data\n  } catch (error) {\n    console.error(' Get task error:', error)\n    console.error(' Error response:', error.response?.data)\n    throw error\n  }\n}\n\nasync getCompletedTasksGroupedByWeek() {\n    try {\n        // console.log(' Fetching completed tasks grouped by week...')\n        const response = await this.api.get('/completed-grouped-by-week')\n        // console.log(' Completed tasks grouped by week response:', response.data)\n        return response.data\n    } catch (error) {\n        console.error(' Error fetching completed tasks grouped by week:', error)\n        console.error(' Error details:', error.response?.data)\n        throw error\n    }\n}\n\n  async togglePublic(id, data) {\n    const taskId = this.extractTaskId(id)\n    const response = await this.api.post(`/${taskId}/toggle-public`, data)\n    return response.data\n  }\n\n// Update the completeTask method\nasync completeTask(id) {\n    const taskId = this.extractTaskId(id)\n    const response = await this.api.post(`/${taskId}/complete`)\n    return response.data\n}\n\n// Update the reopenTask method  \nasync reopenTask(id) {\n    const taskId = this.extractTaskId(id)\n    const response = await this.api.post(`/${taskId}/reopen`)\n    return response.data\n}\n\nasync updateComment(taskId, commentId, content) {\n  const cleanTaskId = this.extractTaskId(taskId)\n  // console.log(' Update comment - Task ID:', cleanTaskId, 'Comment ID:', commentId, 'Content:', content)\n  \n  try {\n    const response = await this.api.post(`/${cleanTaskId}/comments/${commentId}`, { content })\n    // console.log(' Update comment response:', response.data)\n    return response.data\n  } catch (error) {\n    console.error(' Update comment error:', error)\n    console.error(' Error response:', error.response?.data)\n    throw error\n  }\n}\n\nasync deleteComment(taskId, commentId) {\n  const cleanTaskId = this.extractTaskId(taskId)\n  // console.log(' Delete comment - Task ID:', cleanTaskId, 'Comment ID:', commentId)\n  \n  try {\n    const response = await this.api.delete(`/${cleanTaskId}/comments/${commentId}`)\n    // console.log(' Delete comment response:', response.data)\n    return response.data\n  } catch (error) {\n    console.error(' Delete comment error:', error)\n    console.error(' Error response:', error.response?.data)\n    throw error\n  }\n}\n  // Helper method to extract task ID from various formats\n  extractTaskId(id) {\n    // console.log(' extractTaskId input:', id, 'Type:', typeof id)\n    \n    if (typeof id === 'number') {\n      return id\n    }\n    \n    if (typeof id === 'string') {\n      const numId = parseInt(id, 10)\n      if (!isNaN(numId)) {\n        return numId\n      }\n      return id\n    }\n    \n    if (typeof id === 'object' && id !== null) {\n      if (id.id !== undefined) {\n        return this.extractTaskId(id.id)\n      }\n      const keys = Object.keys(id)\n      const numericKey = keys.find(key => !isNaN(parseInt(key, 10)))\n      if (numericKey) {\n        return parseInt(numericKey, 10)\n      }\n    }\n    \n    console.warn(' Could not extract proper task ID from:', id)\n    return id\n  }\n\n  async addComment(taskId, content) {\n    const cleanId = this.extractTaskId(taskId)\n    const response = await this.api.post(`/${cleanId}/comments`, { content })\n    return response.data\n  }\n\n  async addAssignee(taskId, userId) {\n    const cleanId = this.extractTaskId(taskId)\n    const response = await this.api.post(`/${cleanId}/assignees`, { user_id: userId })\n    return response.data\n  }\n\n  async removeAssignee(taskId, userId) {\n    const cleanId = this.extractTaskId(taskId)\n    const response = await this.api.delete(`/${cleanId}/assignees`, { \n      data: { user_id: userId } \n    })\n    return response.data\n  }\n  async getAttachments(taskId) {\n    const cleanId = this.extractTaskId(taskId)\n    const response = await this.api.get(`/${cleanId}/attachments`)\n    return response.data\n  }\n\n  async uploadAttachment(taskId, file) {\n    const cleanId = this.extractTaskId(taskId)\n    const formData = new FormData()\n    formData.append('file', file)\n\n    const response = await this.api.post(`/${cleanId}/attachments`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    })\n    return response.data\n  }\n\n  async deleteAttachment(taskId, attachmentId) {\n    const cleanId = this.extractTaskId(taskId)\n    const response = await this.api.delete(`/${cleanId}/attachments/${attachmentId}`)\n    return response.data\n  }\n\n  getDownloadUrl(taskId, attachmentId) {\n    const cleanId = this.extractTaskId(taskId)\n    return `${this.api.defaults.baseURL}/${cleanId}/attachments/${attachmentId}/download`\n  }\n  \nasync downloadAttachment(taskId, attachmentId) {\n  const cleanId = this.extractTaskId(taskId)\n  \n  const response = await this.api.get(`/${cleanId}/attachments/${attachmentId}/download`, {\n    responseType: 'blob' // Important for file downloads\n  })\n  return response\n}\n}\n\nexport const taskService = new TaskService()","import React, { useState, useRef, useEffect } from 'react'\nimport { Button, Input, InputGroup, FormGroup, Label, Form } from 'reactstrap'\nimport { Plus, Check, X, Users } from 'react-feather'\n\nconst AddTaskButton = ({ onAddTask, board, availableUsers = [], currentUser }) => {\n  const [isAdding, setIsAdding] = useState(false)\n  const [taskTitle, setTaskTitle] = useState('')\n  const [isPublic, setIsPublic] = useState(false)\n  const [selectedAssignees, setSelectedAssignees] = useState([])\n  const inputRef = useRef(null)\n\n  useEffect(() => {\n    if (isAdding && inputRef.current) {\n      inputRef.current.focus()\n    }\n  }, [isAdding])\n\n  const handleAddClick = (e) => {\n    e.stopPropagation()\n    setIsAdding(true)\n  }\n\n  const resetForm = () => {\n    setTaskTitle('')\n    setIsPublic(false)\n    setSelectedAssignees([])\n  }\n\n  const handleConfirm = (e) => {\n    if (e) e.stopPropagation()\n    if (taskTitle.trim() && onAddTask && board) {\n      const taskData = {\n        title: taskTitle.trim(),\n        board_id: board.id,\n        status: board.name,\n        description: '',\n        priority: 0,\n        is_public: isPublic,\n        assignees: selectedAssignees\n      }\n      \n      console.log(' Creating task with data:', taskData)\n      onAddTask(taskData)\n      resetForm()\n    } else {\n      console.error(' Missing required data for task creation:', {\n        taskTitle: taskTitle.trim(),\n        onAddTask: !!onAddTask,\n        board: !!board\n      })\n    }\n    setIsAdding(false)\n  }\n\n  const handleCancel = (e) => {\n    if (e) e.stopPropagation()\n    resetForm()\n    setIsAdding(false)\n  }\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      handleConfirm(e)\n    } else if (e.key === 'Escape') {\n      handleCancel(e)\n    }\n  }\n\n  const handleInputClick = (e) => {\n    e.stopPropagation()\n  }\n\n  const handlePublicToggle = (e) => {\n    const publicStatus = e.target.checked\n    setIsPublic(publicStatus)\n    if (publicStatus) {\n      setSelectedAssignees([])\n    }\n  }\n\n  const handleAssigneeToggle = (userId) => {\n    setSelectedAssignees(prev => {\n      if (prev.includes(userId)) {\n        return prev.filter(id => id !== userId)\n      } else {\n        return [...prev, userId]\n      }\n    })\n  }\n\n  // Filter out current user from available users\n  const filteredUsers = availableUsers.filter(user => user.id !== currentUser?.id)\n\n  if (!isAdding) {\n    return (\n      <Button \n        color=\"primary\" \n        size=\"sm\" \n        onClick={handleAddClick}\n        className=\"add-task-btn\"\n        style={{\n          width: '32px',\n          height: '32px',\n          borderRadius: '50%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          padding: 0\n        }}\n      >\n        <Plus size={16} />\n      </Button>\n    )\n  }\n\n  return (\n    <div className=\"add-task-input mb-2 p-3 border rounded bg-light\" onClick={handleInputClick}>\n      <Form>\n        <InputGroup size=\"sm\" className=\"mb-2\">\n          <Input\n            ref={inputRef}\n            placeholder=\"Type the task title...\"\n            value={taskTitle}\n            onChange={(e) => setTaskTitle(e.target.value)}\n            onKeyPress={handleKeyPress}\n            onClick={handleInputClick}\n            autoFocus\n            style={{ fontSize: '0.875rem' }}\n          />\n        </InputGroup>\n\n        {/* Public/Private Toggle */}\n        <FormGroup check className=\"mb-2\">\n          <Input\n            type=\"checkbox\"\n            checked={isPublic}\n            onChange={handlePublicToggle}\n            id=\"public-toggle\"\n          />\n          <Label check for=\"public-toggle\" className=\"small\">\n            <Users size={14} className=\"me-1\" />\n            Make this task public (all users will be assigned)\n          </Label>\n        </FormGroup>\n\n        {/* Assignee Selection - Only show for private tasks */}\n        {!isPublic && filteredUsers.length > 0 && (\n          <FormGroup className=\"mb-2\">\n            <Label className=\"small fw-bold mb-1\">Assign to specific users:</Label>\n            <div style={{ maxHeight: '100px', overflowY: 'auto' }}>\n              {filteredUsers.map(user => (\n                <FormGroup check key={user.id} className=\"mb-1\">\n                  <Input\n                    type=\"checkbox\"\n                    checked={selectedAssignees.includes(user.id)}\n                    onChange={() => handleAssigneeToggle(user.id)}\n                    id={`assignee-${user.id}`}\n                  />\n                  <Label check for={`assignee-${user.id}`} className=\"small\">\n                    {user.name} ({user.email})\n                  </Label>\n                </FormGroup>\n              ))}\n            </div>\n          </FormGroup>\n        )}\n\n        <div className=\"d-flex justify-content-end mt-2\">\n          <Button \n            color=\"success\" \n            size=\"sm\" \n            onClick={handleConfirm}\n            disabled={!taskTitle.trim()}\n            className=\"me-1\"\n            style={{ \n              borderRadius: '4px',\n              padding: '4px 8px'\n            }}\n          >\n            <Check size={14} />\n          </Button>\n          <Button \n            color=\"danger\" \n            size=\"sm\" \n            onClick={handleCancel}\n            style={{ \n              borderRadius: '4px',\n              padding: '4px 8px'\n            }}\n          >\n            <X size={14} />\n          </Button>\n        </div>\n      </Form>\n    </div>\n  )\n}\n\nexport default AddTaskButton","// src/views/task-manager/TaskItem.js (Updated with cleaner design)\nimport React, { useState } from 'react'\nimport { FormGroup, Input, Button, Badge, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap'\nimport { Circle, CheckCircle, Trash2, Edit3, Check, X, Users, User, Flag, Calendar, MessageSquare, Paperclip  } from 'react-feather'\n\nconst TaskItem = ({ task, onUpdate, onDelete, onClick, availableUsers = [], currentUser }) => {\n  const [isEditing, setIsEditing] = useState(false)\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false)\n  const [editedTitle, setEditedTitle] = useState(task.title)\n\n    const attachmentCount = task.attachments_count || 0\n\n  // Get creator info\n  const getCreatorInfo = () => {\n    if (task.user && task.user.name) {\n      return task.user\n    }\n    \n    if (task.creator_name) {\n      return {\n        name: task.creator_name,\n        email: task.creator_email\n      }\n    }\n    \n    const creator = availableUsers.find(user => user.id === task.user_id)\n    if (creator) {\n      return creator\n    }\n    \n    return {\n      name: `User #${task.user_id}`,\n      email: ''\n    }\n  }\n\n  const creatorInfo = getCreatorInfo()\n\n  // Check if current user is the creator\n  const isCurrentUserCreator = currentUser && task.user_id === currentUser.id\n\n  // Check if current user is an assignee\n  const isCurrentUserAssignee = currentUser && task.assignees && task.assignees.includes(currentUser.id)\n\n  const handleCompleteToggle = async (e) => {\n    e.stopPropagation()\n    const newStatus = task.status === 'completed' ? 'todo' : 'completed'\n    if (onUpdate) {\n      try {\n        await onUpdate(task.id, { status: newStatus })\n      } catch (error) {\n        console.log('Toggle failed due to permissions')\n      }\n    }\n  }\n\n  const handleEdit = (e) => {\n    e.stopPropagation()\n    setIsEditing(true)\n    setEditedTitle(task.title)\n  }\n\n  const handleSave = async (e) => {\n    if (e) e.stopPropagation()\n    if (editedTitle.trim() && onUpdate) {\n      try {\n        await onUpdate(task.id, { title: editedTitle.trim() })\n        setIsEditing(false)\n      } catch (error) {\n        setIsEditing(false)\n        setEditedTitle(task.title)\n      }\n    } else {\n      setIsEditing(false)\n    }\n  }\n\n  const handleCancel = (e) => {\n    if (e) e.stopPropagation()\n    setEditedTitle(task.title)\n    setIsEditing(false)\n  }\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      handleSave(e)\n    } else if (e.key === 'Escape') {\n      handleCancel(e)\n    }\n  }\n\n  const handleDeleteClick = (e) => {\n    e.stopPropagation()\n    setShowDeleteConfirm(true)\n  }\n\n  const handleConfirmDelete = async (e) => {\n    if (e) e.stopPropagation()\n    setShowDeleteConfirm(false)\n    if (onDelete) {\n      try {\n        await onDelete(task.id)\n      } catch (error) {\n        console.log('Delete failed due to permissions')\n      }\n    }\n  }\n\n  const handleCancelDelete = (e) => {\n    if (e) e.stopPropagation()\n    setShowDeleteConfirm(false)\n  }\n\n  const handleInputClick = (e) => {\n    e.stopPropagation()\n  }\n\n  const handleTaskClick = (e) => {\n    if (!isEditing && !e.target.closest('button') && !showDeleteConfirm) {\n      if (onClick) {\n        onClick(task)\n      }\n    }\n  }\n\n  const isCompleted = task.status === 'completed'\n\n  // Get priority color and icon\n  const getPriorityInfo = (priority) => {\n    switch (priority) {\n      case 2: \n        return { color: 'danger', label: 'High' }\n      case 1: \n        return { color: 'warning', label: 'Medium' }\n      default: \n        return { color: 'secondary', label: 'Low' }\n    }\n  }\n\n  const priorityInfo = getPriorityInfo(task.priority)\n\n  // Format date\n  const formatDate = (dateString) => {\n    if (!dateString) return null\n    const date = new Date(dateString)\n    const now = new Date()\n    const isToday = date.toDateString() === now.toDateString()\n    \n    if (isToday) {\n      return 'Today'\n    } else {\n      return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })\n    }\n  }\n\n  // Count comments if available\n  const commentCount = task.comments ? task.comments.length : 0\n\n  return (\n    <>\n      <div \n        className={`task-item p-2 mb-2 border rounded ${isCompleted ? 'bg-light' : 'bg-white'}`}\n        style={{ \n          cursor: 'pointer',\n          transition: 'all 0.2s ease',\n          borderLeft: `3px solid ${\n            task.status === 'completed' ? '#28a745' : task.status === 'inProgress' ? '#ffc107' : '#6c757d'\n          } !important`\n        }}\n        onClick={handleTaskClick}\n        onMouseEnter={(e) => {\n          e.currentTarget.style.transform = 'translateY(-1px)'\n          e.currentTarget.style.boxShadow = '0 2px 4px rgba(0,0,0,0.1)'\n        }}\n        onMouseLeave={(e) => {\n          e.currentTarget.style.transform = 'translateY(0)'\n          e.currentTarget.style.boxShadow = 'none'\n        }}\n      >\n        {/* Top Row: Title and Actions */}\n        <div className=\"d-flex align-items-start justify-content-between mb-0\">\n          <div className=\"flex-grow-1 me-2\" style={{ minWidth: 0 }}>\n            {isEditing ? (\n              <Input\n                value={editedTitle}\n                onChange={(e) => setEditedTitle(e.target.value)}\n                onKeyPress={handleKeyPress}\n                onBlur={handleSave}\n                onClick={handleInputClick}\n                autoFocus\n                size=\"sm\"\n                className=\"mb-1\"\n              />\n            ) : (\n              <h6 className={`mb-1 task-title ${isCompleted ? 'text-muted text-decoration-line-through' : ''}`}\n                  style={{ \n                    fontSize: '0.9rem',\n                    lineHeight: '1.3',\n                    fontWeight: 500\n                  }}>\n                {task.title}\n              </h6>\n            )}\n          </div>\n\n          {!isEditing && (\n            <div className=\"d-flex align-items-center flex-shrink-0\" onClick={(e) => e.stopPropagation()}>\n              <Button\n                color=\"link\"\n                size=\"sm\"\n                onClick={handleEdit}\n                className=\"text-secondary p-0 me-1\"\n                style={{ width: '20px', height: '20px' }}\n                title=\"Edit task\"\n              >\n                <Edit3 size={12} />\n              </Button>\n              <Button\n                color=\"link\"\n                size=\"sm\"\n                onClick={handleDeleteClick}\n                className=\"text-danger p-0\"\n                style={{ width: '20px', height: '20px' }}\n                title=\"Delete task\"\n              >\n                <Trash2 size={12} />\n              </Button>\n            </div>\n          )}\n        </div>\n\n\n         {/* Metadata Row - UPDATED WITH ATTACHMENT COUNT */}\n        <div className=\"d-flex justify-content-between align-items-center\">\n          <div className=\"d-flex align-items-center flex-wrap gap-1\">\n            {/* Priority Badge */}\n            <Badge \n              color={priorityInfo.color} \n              className=\"d-flex align-items-center me-1\"\n              style={{ \n                fontSize: '0.6rem',\n                padding: '2px 6px',\n                fontWeight: 500\n              }}\n            >\n              <Flag size={8} className=\"me-1\" />\n              {priorityInfo.label}\n            </Badge>\n\n            {/* Public Badge */}\n            {task.is_public && (\n              <Badge color=\"success\" className=\"d-flex align-items-center me-1\"\n                     style={{ fontSize: '0.6rem', padding: '2px 6px' }}>\n                <Users size={8} className=\"me-1\" />\n                Public\n              </Badge>\n            )}\n\n            {/* Due Date */}\n            {task.due_date && (\n              <Badge color=\"outline-secondary\" className=\"d-flex align-items-center me-1 text-muted border\"\n                     style={{ \n                       fontSize: '0.6rem', \n                       padding: '2px 6px',\n                       backgroundColor: 'transparent'\n                     }}>\n                <Calendar size={8} className=\"me-1\" />\n                {formatDate(task.due_date)}\n              </Badge>\n            )}\n\n            {/* Comments Count */}\n            {commentCount > 0 && (\n              <Badge color=\"outline-secondary\" className=\"d-flex align-items-center me-1 text-muted border\"\n                     style={{ \n                       fontSize: '0.6rem', \n                       padding: '2px 6px',\n                       backgroundColor: 'transparent'\n                     }}>\n                <MessageSquare size={8} className=\"me-1\" />\n                {commentCount}\n              </Badge>\n            )}\n\n            {/* ATTACHMENT COUNT - NEW BADGE */}\n            {attachmentCount > 0 && (\n              <Badge color=\"outline-info\" className=\"d-flex align-items-center me-1 text-info border\"\n                     style={{ \n                       fontSize: '0.6rem', \n                       padding: '2px 6px',\n                       backgroundColor: 'transparent'\n                     }}>\n                <Paperclip size={8} className=\"me-1\" />\n                {attachmentCount}\n              </Badge>\n            )}\n          </div>\n\n          {/* Assignee Info */}\n          <div className=\"flex-shrink-0\">\n            {task.is_public ? (\n              <Badge color=\"outline-success\" className=\"text-success border\"\n                     style={{ \n                       fontSize: '0.6rem', \n                       padding: '2px 6px',\n                       backgroundColor: 'transparent'\n                     }}>\n                All Users\n              </Badge>\n            ) : task.assignees && task.assignees.length > 0 ? (\n              <div className=\"d-flex align-items-center\">\n                <User size={10} className=\"text-muted me-1\" />\n                <small className=\"text-muted\" style={{ fontSize: '0.7rem' }}>\n                  {task.assignees.length}\n                </small>\n              </div>\n            ) : null}\n          </div>\n        </div>\n\n        {/* Creator Info - Only show on hover or for very compact view */}\n        <div className=\"mt-1\">\n          <small className=\"text-muted d-flex align-items-center\" style={{ fontSize: '0.65rem' }}>\n            By: {creatorInfo.name}\n            {isCurrentUserCreator && <span className=\"text-primary fw-bold ms-1\">(me)</span>}\n          </small>\n        </div>\n      </div>\n\n      {/* Delete Confirmation Modal */}\n      <Modal isOpen={showDeleteConfirm} toggle={handleCancelDelete} size=\"sm\">\n        <ModalHeader toggle={handleCancelDelete}>\n          <Trash2 size={16} className=\"me-2 text-danger\" />\n          Delete Task\n        </ModalHeader>\n        <ModalBody>\n          <div className=\"text-center\">\n            <p className=\"mb-3\">Are you sure you want to delete this task?</p>\n            <div className=\"alert alert-warning p-2 mb-3\">\n              <strong>{task.title}</strong>\n            </div>\n          </div>\n        </ModalBody>\n        <ModalFooter className=\"justify-content-center\">\n          <Button color=\"secondary\" onClick={handleCancelDelete} className=\"px-4\">\n            Cancel\n          </Button>\n          <Button color=\"primary\" onClick={handleConfirmDelete} className=\"px-4\">\n            <Trash2 size={14} className=\"me-1\" />\n            Delete\n          </Button>\n        </ModalFooter>\n      </Modal>\n    </>\n  )\n}\n\nexport default TaskItem","// src/views/task-manager/TaskColumn.js - Updated sorting\nimport React from 'react'\nimport { Card, CardBody, CardHeader, Badge } from 'reactstrap'\nimport AddTaskButton from './AddTaskButton'\nimport TaskItem from './TaskItem'\n\nconst TaskColumn = ({ \n  board, \n  tasks = [], \n  onAddTask, \n  onUpdateTask, \n  onDeleteTask, \n  onTaskClick,\n  availableUsers,\n  currentUser,\n  superAdminIds\n}) => {\n  const handleAddTask = (taskData) => {\n    if (onAddTask && board) {\n      // console.log(' TaskColumn: Adding task to board:', board.id, taskData)\n      onAddTask({ \n        ...taskData, \n        board_id: board.id,\n        status: board.name \n      })\n    } else {\n      console.error(' TaskColumn: Missing onAddTask or board', { onAddTask, board })\n    }\n  }\n\n  const handleUpdateTask = (taskId, updates) => {\n    if (onUpdateTask) {\n      onUpdateTask(taskId, updates)\n    }\n  }\n\n  const handleDeleteTask = (taskId) => {\n    if (onDeleteTask) {\n      onDeleteTask(taskId)\n    }\n  }\n\n  const handleTaskClick = (task) => {\n    if (onTaskClick) {\n      onTaskClick(task)\n    }\n  }\n\n  // Sort tasks by creation date - newest first (on top), oldest last (on bottom)\n  const sortedTasks = Array.isArray(tasks) ? [...tasks].sort((a, b) => {\n     const dateA = a.created_at ? new Date(a.created_at) : new Date(a.id || 0)\n        const dateB = b.created_at ? new Date(b.created_at) : new Date(b.id || 0)\n                return dateB - dateA\n      }) : []\n\n  // console.log(` TaskColumn [${board.name}]:`, sortedTasks.length, 'tasks', sortedTasks)\n\n  return (\n    <Card className=\"task-column h-100\">\n      <CardHeader \n        className=\"d-flex justify-content-between align-items-center py-2\"\n        style={{ \n          borderLeft: `4px solid ${board.color}`,\n          backgroundColor: `${board.color}15`\n        }}\n      >\n        <div className=\"column-title d-flex align-items-center\">\n          <div \n            className=\"color-indicator me-2\"\n            style={{\n              backgroundColor: board.color,\n              width: '12px',\n              height: '12px',\n              borderRadius: '50%'\n            }}\n          ></div>\n          <h6 className=\"mb-0 me-2 text-capitalize\">{board.name}</h6>\n          <Badge color=\"secondary\" pill>{sortedTasks.length}</Badge>\n        </div>\n        <AddTaskButton \n          onAddTask={handleAddTask} \n          board={board}\n          availableUsers={availableUsers}\n          currentUser={currentUser}\n          superAdminIds={superAdminIds}\n        />\n      </CardHeader>\n      \n      <CardBody className=\"p-2\" style={{ \n        height: '500px', \n        overflowY: 'auto',\n        display: 'flex',\n        flexDirection: 'column'\n      }}>\n        <div className=\"task-list flex-grow-1\">\n          {sortedTasks.map((task) => (\n            <TaskItem\n              key={task.id}\n              task={task}\n              onUpdate={handleUpdateTask}\n              onDelete={handleDeleteTask}\n              onClick={handleTaskClick}\n              availableUsers={availableUsers}\n              currentUser={currentUser}\n              superAdminIds={superAdminIds}\n            />\n          ))}\n          \n          {sortedTasks.length === 0 && (\n            <div className=\"text-center text-muted py-3\">\n              <small>No tasks yet</small>\n              <div className=\"mt-1\">\n                <small>Click the + button to add a task</small>\n              </div>\n            </div>\n          )}\n        </div>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default TaskColumn","// Replace the entire WeeklyGroupedTaskColumn component with this:\nimport React, { useState, useEffect, useMemo } from 'react'\nimport {\n  Card,\n  CardBody,\n  CardHeader,\n  Collapse,\n  Button,\n  Badge,\n  Spinner,\n  Alert\n} from 'reactstrap'\nimport { ChevronDown, ChevronUp, Calendar, CheckCircle } from 'react-feather'\nimport TaskItem from './TaskItem'\n\nconst WeeklyGroupedTaskColumn = ({\n                                   board,\n                                   tasks = [],\n                                   onUpdateTask,\n                                   onDeleteTask,\n                                   onTaskClick,\n                                   availableUsers,\n                                   currentUser,\n                                   superAdminIds,\n                                   useExternalTasks = false // New prop to control data source\n                                 }) => {\n  const [weeks, setWeeks] = useState([])\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState(null)\n  const [expandedWeeks, setExpandedWeeks] = useState(new Set())\n\n  const getWeekLabel = (startDate, endDate) => {\n    const start = startDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })\n    const end = endDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })\n\n    const now = new Date()\n    if (startDate <= now && endDate >= now) {\n      return `This Week (${start} - ${end})`\n    }\n\n    const lastWeek = new Date(now)\n    lastWeek.setDate(now.getDate() - 7)\n    if (startDate <= lastWeek && endDate >= lastWeek) {\n      return `Last Week (${start} - ${end})`\n    }\n\n    return `Week of ${start} - ${end}`\n  }\n  // Group tasks by week using useMemo for performance\n  const groupedWeeks = useMemo(() => {\n    if (!tasks || !Array.isArray(tasks)) return []\n\n    const weeksMap = {}\n\n    tasks.forEach((task) => {\n      if (!task.completed_at) return\n\n      const completedDate = new Date(task.completed_at)\n      const weekStart = new Date(completedDate)\n      weekStart.setDate(completedDate.getDate() - completedDate.getDay()) // Start of week (Sunday)\n\n      const weekKey = weekStart.toISOString().split('T')[0]\n\n      if (!weeksMap[weekKey]) {\n        const weekEnd = new Date(weekStart)\n        weekEnd.setDate(weekStart.getDate() + 6) // End of week (Saturday)\n\n        weeksMap[weekKey] = {\n          week_start: weekKey,\n          week_end: weekEnd.toISOString().split('T')[0],\n          week_label: getWeekLabel(weekStart, weekEnd),\n          tasks: [],\n          task_count: 0\n        }\n      }\n\n      weeksMap[weekKey].tasks.push(task)\n      weeksMap[weekKey].task_count++\n    })\n    // Convert to array and sort by week_start (descending)\n    const weeksArray = Object.values(weeksMap).sort((a, b) => new Date(b.week_start) - new Date(a.week_start))\n\n    // NEW: Sort tasks within each week by completed_at (newest first)\n    weeksArray.forEach(week => {\n      week.tasks.sort((a, b) => new Date(b.completed_at) - new Date(a.completed_at))\n    })\n\n    return weeksArray\n  }, [tasks])\n\n\n  // Initialize expanded weeks\n  useEffect(() => {\n    if (groupedWeeks.length > 0 && expandedWeeks.size === 0) {\n      // Auto-expand the first week (most recent)\n      setExpandedWeeks(new Set([groupedWeeks[0].week_start]))\n    }\n  }, [groupedWeeks])\n\n  const toggleWeek = (weekStart) => {\n    setExpandedWeeks(prev => {\n      const newSet = new Set(prev)\n      if (newSet.has(weekStart)) {\n        newSet.delete(weekStart)\n      } else {\n        newSet.add(weekStart)\n      }\n      return newSet\n    })\n  }\n\n  const isWeekExpanded = (weekStart) => {\n    return expandedWeeks.has(weekStart)\n  }\n\n  const expandAll = () => {\n    const allWeekStarts = groupedWeeks.map(week => week.week_start)\n    setExpandedWeeks(new Set(allWeekStarts))\n  }\n\n  const collapseAll = () => {\n    setExpandedWeeks(new Set())\n  }\n\n  const handleTaskUpdate = async (taskId, updates) => {\n    if (onUpdateTask) {\n      await onUpdateTask(taskId, updates)\n    }\n  }\n\n  const handleTaskDelete = async (taskId) => {\n    if (onDeleteTask) {\n      await onDeleteTask(taskId)\n    }\n  }\n\n  const handleTaskClick = (task) => {\n    if (onTaskClick) {\n      onTaskClick(task)\n    }\n  }\n\n  // Calculate total tasks count\n  const totalTasks = groupedWeeks.reduce((total, week) => total + week.task_count, 0)\n\n  return (\n      <Card className=\"task-column h-100 weekly-grouped-column\">\n        <CardHeader\n            className=\"d-flex justify-content-between align-items-center py-2\"\n            style={{\n              borderLeft: `4px solid ${board.color}`,\n              backgroundColor: `${board.color}15`\n            }}\n        >\n          <div className=\"column-title d-flex align-items-center\">\n            <div\n                className=\"color-indicator me-2\"\n                style={{\n                  backgroundColor: board.color,\n                  width: '12px',\n                  height: '12px',\n                  borderRadius: '50%'\n                }}\n            ></div>\n            <h6 className=\"mb-0 me-2 text-capitalize\">{board.name}</h6>\n            <Badge color=\"secondary\" pill>{totalTasks}</Badge>\n          </div>\n          <div className=\"d-flex align-items-center\">\n            <Button\n                color=\"link\"\n                size=\"sm\"\n                onClick={expandAll}\n                title=\"Expand all weeks\"\n                className=\"p-1 me-1 text-secondary\"\n                disabled={groupedWeeks.length === 0}\n            >\n              <ChevronDown size={14} />\n            </Button>\n            <Button\n                color=\"link\"\n                size=\"sm\"\n                onClick={collapseAll}\n                title=\"Collapse all weeks\"\n                className=\"p-1 text-secondary\"\n                disabled={groupedWeeks.length === 0}\n            >\n              <ChevronUp size={14} />\n            </Button>\n          </div>\n        </CardHeader>\n\n        <CardBody className=\"p-2 d-flex flex-column\" style={{ height: '500px' }}>\n          {groupedWeeks.length === 0 ? (\n              <div className=\"text-center text-muted py-3 flex-grow-1 d-flex align-items-center justify-content-center\">\n                <div>\n                  <CheckCircle size={24} className=\"mb-2\" />\n                  <div>No completed tasks found</div>\n                  {tasks.length > 0 && (\n                      <small className=\"text-muted mt-1\">\n                        {tasks.length} task(s) don't have completion dates\n                      </small>\n                  )}\n                </div>\n              </div>\n          ) : (\n              <div\n                  className=\"weeks-list flex-grow-1\"\n                  style={{\n                    overflowY: 'auto',\n                    minHeight: 0\n                  }}\n              >\n                {groupedWeeks.map((week) => (\n                    <div key={week.week_start} className=\"week-group mb-3\">\n                      <div\n                          className=\"week-header d-flex justify-content-between align-items-center p-2 border rounded cursor-pointer\"\n                          onClick={() => toggleWeek(week.week_start)}\n                          style={{\n                            cursor: 'pointer',\n                            background: 'linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)'\n                          }}\n                      >\n                        <div className=\"d-flex align-items-center\">\n                          <Calendar size={14} className=\"me-2 text-primary\" />\n                          <small className=\"fw-bold me-2\">{week.week_label}</small>\n                          <Badge color=\"primary\" pill className=\"fs-12\">\n                            {week.task_count}\n                          </Badge>\n                        </div>\n                        <Button color=\"link\" className=\"p-0 text-secondary\" size=\"sm\">\n                          {isWeekExpanded(week.week_start) ? <ChevronUp size={14} /> : <ChevronDown size={14} />}\n                        </Button>\n                      </div>\n\n                      <Collapse isOpen={isWeekExpanded(week.week_start)}>\n                        <div className=\"week-tasks mt-2\">\n                          {week.tasks.map((task) => (\n                              <TaskItem\n                                  key={task.id}\n                                  task={task}\n                                  onUpdate={handleTaskUpdate}\n                                  onDelete={handleTaskDelete}\n                                  onClick={handleTaskClick}\n                                  availableUsers={availableUsers}\n                                  currentUser={currentUser}\n                                  superAdminIds={superAdminIds}\n                              />\n                          ))}\n                        </div>\n                      </Collapse>\n                    </div>\n                ))}\n              </div>\n          )}\n        </CardBody>\n      </Card>\n  )\n}\n\nexport default WeeklyGroupedTaskColumn","// src/services/boardService.js\n\nimport axios from 'axios'\n\nclass BoardService {\n  constructor() {\n    this.api = axios.create({\n      baseURL: `${process.env.REACT_APP_ADMIN_API}/boards`,\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json'\n      }\n    })\n\n    this.api.interceptors.request.use(\n      (config) => {\n        const authData = localStorage.getItem('auth')\n        let token = null\n        \n        if (authData) {\n          try {\n            const auth = JSON.parse(authData)\n            token = auth.token || auth.accessToken\n          } catch (e) {\n            console.error('Error parsing auth data:', e)\n          }\n        }\n        \n        if (!token) {\n          token = localStorage.getItem('token') || localStorage.getItem('accessToken')\n        }\n\n        if (token) {\n          config.headers.Authorization = `Bearer ${token}`\n        }\n        \n        return config\n      },\n      (error) => Promise.reject(error)\n    )\n  }\n\n  async getBoards() {\n    try {\n      // console.log(' Fetching boards...')\n      const response = await this.api.get('')\n      // console.log(' Boards response:', response.data)\n      return response.data\n    } catch (error) {\n      console.error(' Error fetching boards:', error)\n      throw error\n    }\n  }\n\n  async getTrashedBoards() {\n    try {\n      // console.log(' Fetching trashed boards...')\n      const response = await this.api.get('/trashed')\n      // console.log(' Trashed boards response:', response.data)\n      return response.data\n    } catch (error) {\n      console.error(' Error fetching trashed boards:', error)\n      throw error\n    }\n  }\n\n  async getBoardStats() {\n    try {\n      const response = await this.api.get('/stats')\n      return response.data\n    } catch (error) {\n      console.error(' Error fetching board stats:', error)\n      throw error\n    }\n  }\n\n  async createBoard(boardData) {\n    try {\n      const response = await this.api.post('/', boardData)\n      return response.data\n    } catch (error) {\n      console.error(' Error creating board:', error)\n      throw error\n    }\n  }\n\n  async updateBoard(id, updates) {\n    try {\n      const response = await this.api.put(`/${id}`, updates)\n      return response.data\n    } catch (error) {\n      console.error(' Error updating board:', error)\n      throw error\n    }\n  }\n\n  async deleteBoard(id) {\n    try {\n      const response = await this.api.delete(`/${id}`)\n      return response.data\n    } catch (error) {\n      console.error(' Error deleting board:', error)\n      throw error\n    }\n  }\n\n  async restoreBoard(id) {\n    try {\n      const response = await this.api.post(`/${id}/restore`)\n      return response.data\n    } catch (error) {\n      console.error(' Error restoring board:', error)\n      throw error\n    }\n  }\n\n  async forceDeleteBoard(id) {\n    try {\n      const response = await this.api.delete(`/${id}/force-delete`)\n      return response.data\n    } catch (error) {\n      console.error(' Error force deleting board:', error)\n      throw error\n    }\n  }\n\n  async reorderBoards(boards) {\n    try {\n      const response = await this.api.post('/reorder', { boards })\n      return response.data\n    } catch (error) {\n      console.error(' Error reordering boards:', error)\n      throw error\n    }\n  }\n}\n\nexport const boardService = new BoardService()","// src/views/task-manager/TaskBoard.js (Updated with board visibility logic)\nimport React, { useState, useEffect } from 'react'\nimport { Button, Spinner, Alert, Row, Col, Badge } from 'reactstrap'\nimport { RefreshCw } from 'react-feather'\nimport TaskColumn from './TaskColumn'\nimport WeeklyGroupedTaskColumn from './WeeklyGroupedTaskColumn'\nimport { boardService } from './../../services/boardService'\n\nconst TaskBoard = ({\n                     tasks,\n                     onAddTask,\n                     onUpdateTask,\n                     onDeleteTask,\n                     onTaskClick,\n                     availableUsers,\n                     currentUser,\n                     superAdminIds,\n                     onRefresh,\n                     loading\n                   }) => {\n  const [boards, setBoards] = useState([])\n  const [boardsLoading, setBoardsLoading] = useState(true)\n  const [boardsError, setBoardsError] = useState(null)\n  const [boardTasks, setBoardTasks] = useState({})\n\n  // Check if user is super admin\n  const isSuperAdmin = currentUser?.email === 'super@admin.com' ||\n      currentUser?.roles?.includes('super') ||\n      currentUser?.permissions?.includes('all')\n\n  // Default board names that should always be visible\n  const defaultBoardNames = ['todo', 'inProgress', 'completed']\n\n  // Check if a board should be visible for non-super admin users\n  const shouldShowBoard = (board, boardData) => {\n    // Always show default boards for all users\n    if (defaultBoardNames.includes(board.name)) {\n      return true\n    }\n\n    // Super admins see all boards\n    if (isSuperAdmin) {\n      return true\n    }\n\n    // For non-super admin users, only show custom boards that have tasks\n    const hasTasks = boardData && boardData.tasks && boardData.tasks.length > 0\n    return hasTasks\n  }\n\n  const loadBoards = async () => {\n    try {\n      setBoardsLoading(true)\n      setBoardsError(null)\n      // console.log(' Loading boards...')\n      const response = await boardService.getBoards()\n\n      if (response.success) {\n        const boardsData = response.data.boards || []\n        // console.log(' Loaded boards:', boardsData)\n        setBoards(boardsData)\n\n        // Initialize board tasks structure\n        const boardTasksMap = {}\n        boardsData.forEach(board => {\n          boardTasksMap[board.id] = {\n            board,\n            tasks: []\n          }\n        })\n        setBoardTasks(boardTasksMap)\n      } else {\n        setBoardsError(response.message || 'Failed to load boards')\n      }\n    } catch (err) {\n      const errorMessage = err.response?.data?.message || 'Failed to load boards. Please try again.'\n      setBoardsError(errorMessage)\n      console.error('Error loading boards:', err)\n    } finally {\n      setBoardsLoading(false)\n    }\n  }\n\n  // Update board tasks when tasks prop changes\n  useEffect(() => {\n    if (boards.length > 0 && tasks) {\n      // console.log(' Raw tasks data received:', tasks)\n\n      const updatedBoardTasks = { ...boardTasks }\n\n      // Reset all board tasks first\n      boards.forEach(board => {\n        updatedBoardTasks[board.id] = {\n          board,\n          tasks: []\n        }\n      })\n\n      // Handle different task data structures\n      if (typeof tasks === 'object' && !Array.isArray(tasks)) {\n        // New structure: tasks is an object with board IDs as keys\n        Object.keys(tasks).forEach(boardId => {\n          if (updatedBoardTasks[boardId]) {\n            const boardData = tasks[boardId]\n            // Handle both array format and object with tasks property\n            if (Array.isArray(boardData)) {\n              updatedBoardTasks[boardId].tasks = boardData\n            } else if (boardData && boardData.tasks) {\n              updatedBoardTasks[boardId].tasks = boardData.tasks\n            } else {\n              console.warn(` Unexpected data format for board ${boardId}:`, boardData)\n              updatedBoardTasks[boardId].tasks = []\n            }\n          }\n        })\n      } else if (Array.isArray(tasks)) {\n        // Fallback: group tasks by board_id\n        // console.log(' Grouping tasks by board_id from array')\n        tasks.forEach(task => {\n          if (task.board_id && updatedBoardTasks[task.board_id]) {\n            updatedBoardTasks[task.board_id].tasks.push(task)\n          } else {\n            console.warn(' Task missing board_id or board not found:', task)\n          }\n        })\n      } else {\n        console.warn(' Unexpected tasks format:', typeof tasks, tasks)\n      }\n\n      // console.log(' Final organized board tasks:', updatedBoardTasks)\n      setBoardTasks(updatedBoardTasks)\n    }\n  }, [tasks, boards])\n\n  useEffect(() => {\n    loadBoards()\n  }, [])\n\n  // Filter boards based on user permissions and task assignments\n  const getVisibleBoards = () => {\n    if (!boards.length) return []\n\n    return boards.filter(board => {\n      const boardData = boardTasks[board.id]\n      return shouldShowBoard(board, boardData)\n    })\n  }\n\n  // Separate completed board from other boards\n  const visibleBoards = getVisibleBoards()\n  // const completedBoard = visibleBoards.find(board => board.name === 'completed')\n  // const otherBoards = visibleBoards.filter(board => board.name !== 'completed')\n\n  if (boardsLoading) {\n    return (\n        <div className=\"text-center py-5\">\n          <Spinner color=\"primary\" />\n          <div className=\"mt-2\">Loading boards...</div>\n        </div>\n    )\n  }\n\n  if (boardsError) {\n    return (\n        <Alert color=\"danger\">\n          <h4 className=\"alert-heading\">Error Loading Boards</h4>\n          <p className=\"mb-0\">{boardsError}</p>\n          <Button color=\"primary\" size=\"sm\" className=\"mt-2\" onClick={loadBoards}>\n            Retry\n          </Button>\n        </Alert>\n    )\n  }\n\n  if (visibleBoards.length === 0) {\n    return (\n        <Alert color=\"warning\">\n          <h4 className=\"alert-heading\">No Boards Found</h4>\n          <p className=\"mb-0\">No boards are available for your account.</p>\n        </Alert>\n    )\n  }\n\n  return (\n      <>\n        <div className=\"d-flex justify-content-between align-items-center mb-1\">\n          <div className=\"d-flex align-items-center\">\n          </div>\n          <Button\n              color=\"primary\"\n              size=\"sm\"\n              onClick={onRefresh}\n              disabled={loading}\n              className=\"d-flex align-items-center\"\n          >\n            <RefreshCw size={14} className={loading ? 'spinning' : ''} />\n            <span className=\"ms-1\">Refresh</span>\n          </Button>\n        </div>\n\n        <div className=\"task-board\">\n          <Row>\n            {visibleBoards.map(board => {\n              const boardData = boardTasks[board.id]\n              const boardTasksList = boardData ? boardData.tasks : []\n\n              // Use WeeklyGroupedTaskColumn only for completed board\n              if (board.name === 'completed') {\n                return (\n                    <Col key={board.id} lg={4} md={6} className=\"mb-4\">\n                      <WeeklyGroupedTaskColumn\n                          board={board}\n                          tasks={boardTasksList}\n                          onUpdateTask={onUpdateTask}\n                          onDeleteTask={onDeleteTask}\n                          onTaskClick={onTaskClick}\n                          availableUsers={availableUsers}\n                          currentUser={currentUser}\n                          superAdminIds={superAdminIds}\n                          useExternalTasks={true}\n                      />\n                    </Col>\n                )\n              } else {\n                return (\n                    <Col key={board.id} lg={4} md={6} className=\"mb-4\">\n                      <TaskColumn\n                          board={board}\n                          tasks={boardTasksList}\n                          onAddTask={onAddTask}\n                          onUpdateTask={onUpdateTask}\n                          onDeleteTask={onDeleteTask}\n                          onTaskClick={onTaskClick}\n                          availableUsers={availableUsers}\n                          currentUser={currentUser}\n                          superAdminIds={superAdminIds}\n                      />\n                    </Col>\n                )\n              }\n            })}\n          </Row>\n        </div>\n      </>\n  )\n}\n\nexport default TaskBoard","// src/views/task-manager/AttachmentSection.js (Updated with time display)\nimport React, { useState, useEffect, useRef } from 'react'\nimport {\n  Card,\n  CardBody,\n  Button,\n  ListGroup,\n  ListGroupItem,\n  Badge,\n  Alert,\n  Spinner,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter\n} from 'reactstrap'\nimport {\n  Paperclip,\n  Download,\n  Trash2,\n  Image,\n  Video,\n  FileText,\n  File,\n  Upload,\n  X\n} from 'react-feather'\nimport { taskService } from './../../services/taskService'\n\nconst AttachmentSection = ({ task, currentUser, onUpdate, onAttachmentsCountChange }) => {\n  const [attachments, setAttachments] = useState([])\n  const [loading, setLoading] = useState(false)\n  const [uploading, setUploading] = useState(false)\n  const [error, setError] = useState(null)\n  const [success, setSuccess] = useState(null)\n  const [deleteModal, setDeleteModal] = useState(false)\n  const [selectedAttachment, setSelectedAttachment] = useState(null)\n  const fileInputRef = useRef(null)\n\n  // Add useEffect to notify parent about attachments count changes\n  useEffect(() => {\n    if (onAttachmentsCountChange) {\n      onAttachmentsCountChange(attachments.length)\n    }\n  }, [attachments.length, onAttachmentsCountChange])\n\n  // Add this function to format the date with time\n  const formatAttachmentDate = (dateString) => {\n    if (!dateString) return 'Unknown date'\n    \n    const date = new Date(dateString)\n    const now = new Date()\n    const isToday = date.toDateString() === now.toDateString()\n    const isYesterday = new Date(now.setDate(now.getDate() - 1)).toDateString() === date.toDateString()\n    \n    if (isToday) {\n      return `Today at ${date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`\n    } else if (isYesterday) {\n      return `Yesterday at ${date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`\n    } else {\n      return `${date.toLocaleDateString()} at ${date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`\n    }\n  }\n\n  const loadAttachments = async () => {\n    if (!task) return\n    \n    try {\n      setLoading(true)\n      setError(null)\n      const response = await taskService.getAttachments(task.id)\n      \n      if (response.success) {\n        const attachmentsData = response.data.attachments || []\n        setAttachments(attachmentsData)\n        // Notify parent about the initial count\n        if (onAttachmentsCountChange) {\n          onAttachmentsCountChange(attachmentsData.length)\n        }\n      } else {\n        setError(response.message || 'Failed to load attachments')\n      }\n    } catch (err) {\n      const errorMessage = err.response?.data?.message || 'Failed to load attachments'\n      setError(errorMessage)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleDownload = async (attachment) => {\n    try {\n      setLoading(true)\n      const response = await taskService.downloadAttachment(task.id, attachment.id)\n      \n      // Create blob from response\n      const blob = new Blob([response.data], { \n        type: attachment.mime_type \n      })\n      \n      // Create download link\n      const url = window.URL.createObjectURL(blob)\n      const link = document.createElement('a')\n      link.href = url\n      link.download = attachment.original_name\n      document.body.appendChild(link)\n      link.click()\n      \n      // Cleanup\n      document.body.removeChild(link)\n      window.URL.revokeObjectURL(url)\n      \n    } catch (error) {\n      console.error('Download failed:', error)\n      setError('Failed to download file')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleFileUpload = async (file) => {\n    if (!task) return\n    \n    // Validate file size (100MB)\n    if (file.size > 100 * 1024 * 1024) {\n      setError('File size must be less than 100MB')\n      return\n    }\n\n    try {\n      setUploading(true)\n      setError(null)\n      const response = await taskService.uploadAttachment(task.id, file)\n      \n      if (response.success) {\n        const updatedAttachments = [response.data.attachment, ...attachments]\n        setAttachments(updatedAttachments)\n        setSuccess('File uploaded successfully!')\n        onUpdate?.(task)\n        // Notify parent about the new count\n        if (onAttachmentsCountChange) {\n          onAttachmentsCountChange(updatedAttachments.length)\n        }\n      } else {\n        setError(response.message || 'Failed to upload file')\n      }\n    } catch (err) {\n      const errorMessage = err.response?.data?.message || 'Failed to upload file'\n      setError(errorMessage)\n    } finally {\n      setUploading(false)\n    }\n  }\n\n  const handleDeleteClick = (attachment) => {\n    setSelectedAttachment(attachment)\n    setDeleteModal(true)\n  }\n\n  const handleDeleteConfirm = async () => {\n    if (!selectedAttachment || !task) return\n    \n    try {\n      const response = await taskService.deleteAttachment(task.id, selectedAttachment.id)\n      \n      if (response.success) {\n        const updatedAttachments = attachments.filter(att => att.id !== selectedAttachment.id)\n        setAttachments(updatedAttachments)\n        setSuccess('File deleted successfully!')\n        setDeleteModal(false)\n        setSelectedAttachment(null)\n        onUpdate?.(task)\n        // Notify parent about the new count\n        if (onAttachmentsCountChange) {\n          onAttachmentsCountChange(updatedAttachments.length)\n        }\n      } else {\n        setError(response.message || 'Failed to delete file')\n      }\n    } catch (err) {\n      const errorMessage = err.response?.data?.message || 'Failed to delete file'\n      setError(errorMessage)\n    }\n  }\n\n  const handleFileSelect = (event) => {\n    const file = event.target.files[0]\n    if (file) {\n      handleFileUpload(file)\n    }\n    // Reset file input\n    event.target.value = ''\n  }\n\n  const getFileIcon = (attachment) => {\n    const iconProps = { size: 16, className: 'me-2' }\n    \n    switch (attachment.file_icon) {\n      case 'image':\n        return <Image {...iconProps} className=\"text-success\" />\n      case 'video':\n        return <Video {...iconProps} className=\"text-danger\" />\n      case 'pdf':\n        return <FileText {...iconProps} className=\"text-danger\" />\n      case 'word':\n        return <FileText {...iconProps} className=\"text-primary\" />\n      case 'excel':\n        return <FileText {...iconProps} className=\"text-success\" />\n      case 'powerpoint':\n        return <FileText {...iconProps} className=\"text-warning\" />\n      case 'document':\n        return <FileText {...iconProps} className=\"text-info\" />\n      default:\n        return <File {...iconProps} className=\"text-secondary\" />\n    }\n  }\n\n  // Check if current user uploaded the attachment\n  const isMyAttachment = (attachment) => {\n    return currentUser && attachment.user_id === currentUser.id\n  }\n\n  const canDeleteAttachment = (attachment) => {\n    return currentUser?.id === attachment.user_id || currentUser?.roles?.includes('super')\n  }\n\n  const clearMessages = () => {\n    setTimeout(() => {\n      setError(null)\n      setSuccess(null)\n    }, 5000)\n  }\n\n  useEffect(() => {\n    if (error || success) {\n      clearMessages()\n    }\n  }, [error, success])\n\n  useEffect(() => {\n    if (task && task.id) {\n      loadAttachments()\n    }\n  }, [task])\n\n  if (!task) return null\n\n  return (\n    <div className=\"attachment-section \">\n      <Card>\n        {/* Always expanded content */}\n        <CardBody>\n          {error && (\n            <Alert color=\"primary\" className=\"py-2\">\n              <small>{error}</small>\n            </Alert>\n          )}\n\n          {success && (\n            <Alert color=\"success\" className=\"py-2\">\n              <small>{success}</small>\n            </Alert>\n          )}\n\n          {/* File Upload Area */}\n          <div className=\"mb-3 p-3 border rounded bg-light\">\n            <div className=\"text-center\">\n              <input\n                type=\"file\"\n                ref={fileInputRef}\n                onChange={handleFileSelect}\n                style={{ display: 'none' }}\n                accept=\"*/*\"\n              />\n              <Button\n                color=\"primary\"\n                size=\"sm\"\n                onClick={() => fileInputRef.current?.click()}\n                disabled={uploading}\n                className=\"d-flex align-items-center mx-auto\"\n              >\n                {uploading ? (\n                  <Spinner size=\"sm\" className=\"me-2\" />\n                ) : (\n                  <Upload size={14} className=\"me-2\" />\n                )}\n                {uploading ? 'Uploading...' : 'Upload File'}\n              </Button>\n              <small className=\"text-muted d-block mt-1\">\n                Max file size: 100MB\n              </small>\n            </div>\n          </div>\n\n          {/* Attachments List */}\n          {loading ? (\n            <div className=\"text-center py-3\">\n              <Spinner size=\"sm\" />\n              <div className=\"mt-2\">\n                <small className=\"text-muted\">Loading attachments...</small>\n              </div>\n            </div>\n          ) : attachments.length > 0 ? (\n            <ListGroup flush>\n              {attachments.map((attachment) => (\n                <ListGroupItem key={attachment.id} className=\"px-0\">\n                  <div className=\"d-flex justify-content-between align-items-center\">\n                    <div className=\"d-flex align-items-center flex-grow-1\">\n                      {getFileIcon(attachment)}\n                      <div className=\"flex-grow-1\">\n                        <div className=\"fw-bold small\">{attachment.original_name}</div>\n                        <div className=\"d-flex text-muted small\">\n                          <span className=\"me-2\">{attachment.formatted_size}</span>\n                          <span></span>\n                          {/* Updated date display to show time */}\n                          <span className=\"mx-2\">\n                            {formatAttachmentDate(attachment.created_at)}\n                          </span>\n                          <span></span>\n                          <span className=\"ms-2\">\n                            {attachment.user?.name || 'Unknown'}\n                            {isMyAttachment(attachment) && (\n                              <span className=\" fw-bold\" style={{color: '#fe5e00'}}> (me)</span>\n                            )}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"d-flex\">\n                      <Button\n                        color=\"link\"\n                        size=\"sm\"\n                        onClick={() => handleDownload(attachment)}\n                        className=\"text-primary p-1\"\n                        title=\"Download\"\n                        disabled={loading}\n                      >\n                        <Download size={14} />\n                      </Button>\n                      \n                      {canDeleteAttachment(attachment) && (\n                        <Button\n                          color=\"link\"\n                          size=\"sm\"\n                          onClick={() => handleDeleteClick(attachment)}\n                          className=\"text-danger p-1\"\n                          title={isMyAttachment(attachment) ? \"Delete my file\" : \"Delete file\"}\n                        >\n                          <Trash2 size={14} />\n                        </Button>\n                      )}\n                    </div>\n                  </div>\n                </ListGroupItem>\n              ))}\n            </ListGroup>\n          ) : (\n            <div className=\"text-center py-4 text-muted\">\n              <Paperclip size={32} className=\"mb-2\" />\n              <div>\n                <small>No attachments yet</small>\n              </div>\n            </div>\n          )}\n        </CardBody>\n      </Card>\n\n      {/* Delete Confirmation Modal */}\n      <Modal isOpen={deleteModal} toggle={() => setDeleteModal(false)} size=\"sm\">\n        <ModalHeader toggle={() => setDeleteModal(false)}>\n          Delete Attachment\n        </ModalHeader>\n        <ModalBody>\n          {selectedAttachment && (\n            <div>\n              <p>Are you sure you want to delete this file?</p>\n              <div className=\"alert alert-warning p-2\">\n                <strong>{selectedAttachment.original_name}</strong>\n                <div className=\"small text-muted\">\n                  {selectedAttachment.formatted_size}  {selectedAttachment.mime_type}\n                </div>\n                {/* Updated date display in modal to show time */}\n                <div className=\"small text-muted\">\n                  Uploaded: {formatAttachmentDate(selectedAttachment.created_at)}\n                </div>\n                {isMyAttachment(selectedAttachment) && (\n                  <div className=\"small text-primary fw-bold mt-1\">\n                    This is your file\n                  </div>\n                )}\n              </div>\n              <p className=\"small text-muted mb-0\">\n                This action cannot be undone.\n              </p>\n            </div>\n          )}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={() => setDeleteModal(false)}>\n            Cancel\n          </Button>\n          <Button color=\"primary\" onClick={handleDeleteConfirm}>\n            Delete\n          </Button>\n        </ModalFooter>\n      </Modal>\n    </div>\n  )\n}\n\nexport default AttachmentSection","// src/components/Linkify.js\nimport React from 'react'\n\nconst Linkify = ({ text, className = '' }) => {\n  if (!text) return null\n\n  // Regular expression to match URLs\n  const urlRegex = /(https?:\\/\\/[^\\s]+)/g\n  \n  // Split text into parts (text and URLs)\n  const parts = text.split(urlRegex)\n  \n  return (\n    <span className={className}>\n      {parts.map((part, index) => {\n        if (part.match(urlRegex)) {\n          return (\n            <a \n              key={index}\n              href={part} \n              target=\"_blank\" \n              rel=\"noopener noreferrer\"\n              className=\"text-primary text-decoration-underline\"\n              onClick={(e) => e.stopPropagation()}\n            >\n              {part}\n            </a>\n          )\n        }\n        return part\n      })}\n    </span>\n  )\n}\n\nexport default Linkify","// src/views/task-manager/TaskModal.js (COMPLETE FIXED VERSION)\nimport React, { useState, useEffect, useRef } from 'react'\nimport {\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Button,\n  FormGroup,\n  Label,\n  Input,\n  Row,\n  Col,\n  Badge,\n  Dropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem,\n  Card,\n  CardBody\n} from 'reactstrap'\nimport {\n  X, Plus, MessageSquare, User, Calendar, Flag, MoreVertical,\n  Users, Trash2, Edit, Check, X as XIcon,\n  Paperclip, Eye, EyeOff, AlertCircle, Zap, TrendingUp, Activity,\n  Send, Info\n} from 'react-feather'\nimport { taskService } from './../../services/taskService'\nimport { boardService } from './../../services/boardService'\nimport AttachmentSection from './AttachmentSection'\nimport Linkify from './Linkify'\n\nconst TaskModal = ({\n                     isOpen,\n                     toggle,\n                     task,\n                     onUpdate,\n                     availableUsers = [],\n                     currentUser,\n                     superAdminIds = [],\n                     userAccessibleBoards = [] // NEW: Receive accessible boards from parent\n                   }) => {\n  const [taskData, setTaskData] = useState(null)\n  const [boards, setBoards] = useState([])\n  const [visibleBoards, setVisibleBoards] = useState([])\n  const [users, setUsers] = useState([])\n  const [assigneeDropdownOpen, setAssigneeDropdownOpen] = useState(false)\n  const [menuOpen, setMenuOpen] = useState(false)\n  const [newComment, setNewComment] = useState('')\n  const [loading, setLoading] = useState(false)\n  const [deleteModal, setDeleteModal] = useState(false)\n  const [activeTab, setActiveTab] = useState('details')\n  const [isEditingDescription, setIsEditingDescription] = useState(false)\n  const [attachmentsCount, setAttachmentsCount] = useState(0)\n  const [commentToDelete, setCommentToDelete] = useState(null)\n  const [taskDeleteModal, setTaskDeleteModal] = useState(false)\n  const [editingComment, setEditingComment] = useState(null)\n  const [editedCommentContent, setEditedCommentContent] = useState('')\n\n  // Refs\n  const commentsListRef = useRef(null)\n  const mainContentRef = useRef(null)\n  const sidebarRef = useRef(null)\n\n  // Check if user is super admin\n  const isSuperAdmin = currentUser?.email === 'super@admin.com' ||\n      currentUser?.roles?.includes('super') ||\n      currentUser?.permissions?.includes('all')\n\n  // Default board names that should always be visible\n  const defaultBoardNames = ['todo', 'inProgress', 'completed']\n\n  // Priority options\n  const priorityOptions = [\n    { value: 0, label: 'Low', color: 'success', icon: Flag },\n    { value: 1, label: 'Medium', color: 'warning', icon: TrendingUp },\n    { value: 2, label: 'High', color: 'danger', icon: Zap }\n  ]\n\n  // Load boards and filter based on user permissions\n  const loadBoards = async () => {\n    try {\n      const response = await boardService.getBoards()\n      if (response.success) {\n        const allBoards = response.data.boards || []\n        setBoards(allBoards)\n\n        // If we have userAccessibleBoards from parent, use them\n        // Otherwise, filter boards locally\n        if (userAccessibleBoards && userAccessibleBoards.length > 0) {\n          setVisibleBoards(userAccessibleBoards)\n        } else {\n          // Fallback: filter boards based on current user\n          const filteredBoards = allBoards.filter(board => {\n            // Always show default boards\n            if (defaultBoardNames.includes(board.name)) {\n              return true\n            }\n            // Super admins see all boards\n            if (isSuperAdmin) {\n              return true\n            }\n            // For non-super admin, we can't determine access without task data\n            // So we'll show a limited set or all boards as fallback\n            return true\n          })\n          setVisibleBoards(filteredBoards)\n        }\n      }\n    } catch (error) {\n      console.error('Error loading boards:', error)\n    }\n  }\n\n  // Update visible boards when userAccessibleBoards changes\n  useEffect(() => {\n    if (userAccessibleBoards && userAccessibleBoards.length > 0) {\n      setVisibleBoards(userAccessibleBoards)\n    }\n  }, [userAccessibleBoards])\n\n  // Helper functions\n  const getStatusDisplayName = (status) => {\n    if (!status) return 'Unknown'\n    if (status === 'inProgress') return 'In Progress'\n    if (status === 'todo') return 'To Do'\n    return status.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase())\n  }\n\n  const getStatusColor = (status, boardId) => {\n    if (boardId) {\n      const board = boards.find(b => b.id === boardId)\n      if (board && board.color) {\n        return board.color\n      }\n    }\n    switch (status) {\n      case 'completed': return '#28a745'\n      case 'inProgress': return '#ffc107'\n      case 'todo': return '#6c757d'\n      default: return '#6c757d'\n    }\n  }\n  const handleAttachmentsCountChange = (count) => {\n    setAttachmentsCount(count)\n  }\n\n  const formatTaskDate = (dateString) => {\n    if (!dateString) return 'No date set'\n    const date = new Date(dateString)\n    const now = new Date()\n    const isToday = date.toDateString() === now.toDateString()\n    return isToday ? `Today at ${date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}` : `${date.toLocaleDateString()} at ${date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`\n  }\n\n  const formatCommentDate = (dateString) => {\n    if (!dateString) return ''\n    const date = new Date(dateString)\n    const now = new Date()\n    const isToday = date.toDateString() === now.toDateString()\n    const diffDays = Math.ceil(Math.abs(now - date) / (1000 * 60 * 60 * 24))\n\n    if (isToday) {\n      return `Today at ${date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`\n    } else if (diffDays === 1) {\n      return `Yesterday at ${date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`\n    } else if (diffDays <= 7) {\n      return `${date.toLocaleDateString('en-US', { weekday: 'long' })} at ${date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`\n    } else {\n      return `${date.toLocaleDateString()} at ${date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`\n    }\n  }\n\n  const formatDueDate = (dateString) => {\n    if (!dateString) return 'No due date'\n    const date = new Date(dateString)\n    const now = new Date()\n    const isToday = date.toDateString() === now.toDateString()\n    const isTomorrow = new Date(now.setDate(now.getDate() + 1)).toDateString() === date.toDateString()\n\n    if (isToday) return 'Today'\n    if (isTomorrow) return 'Tomorrow'\n    return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })\n  }\n\n  const scrollToBottom = () => {\n    if (commentsListRef.current) {\n      commentsListRef.current.scrollTop = commentsListRef.current.scrollHeight\n    }\n  }\n\n  const canRemoveAssignee = (assigneeId) => {\n    if (!taskData || !currentUser) return false\n    if (currentUser.roles?.includes('super')) return true\n    if (currentUser.id === taskData.user_id) return !superAdminIds.includes(assigneeId)\n    return false\n  }\n\n  const canAddAssignees = () => {\n    if (!taskData || !currentUser) return false\n    return currentUser.id === taskData.user_id || currentUser.roles?.includes('super')\n  }\n\n  const getCreatorInfo = () => {\n    if (!taskData) return null\n    if (taskData.user && taskData.user.name) return taskData.user\n    if (taskData.creator_name) {\n      return { name: taskData.creator_name, email: taskData.creator_email }\n    }\n    const creator = availableUsers.find(user => user.id === taskData.user_id)\n    return creator || { name: `User #${taskData.user_id}`, email: '' }\n  }\n\n  const isCurrentUserCreator = currentUser && taskData && taskData.user_id === currentUser.id\n  const isCurrentUserAssignee = currentUser && taskData && taskData.assignees && taskData.assignees.includes(currentUser.id)\n\n  // Comment handlers\n  const handleUpdateComment = async (commentId, content) => {\n    if (!content.trim()) return\n    try {\n      const response = await taskService.updateComment(task.id, commentId, content)\n      if (response.success) {\n        setTaskData(response.data.task)\n        setEditingComment(null)\n        setEditedCommentContent('')\n        onUpdate(response.data.task)\n      }\n    } catch (error) {\n      console.error('Error updating comment:', error)\n    }\n  }\n\n  const confirmDeleteComment = async () => {\n    if (!commentToDelete) return\n    try {\n      const response = await taskService.deleteComment(task.id, commentToDelete)\n      if (response.success) {\n        setTaskData(response.data.task)\n        onUpdate(response.data.task)\n      }\n    } catch (error) {\n      console.error('Error deleting comment:', error)\n    } finally {\n      setDeleteModal(false)\n      setCommentToDelete(null)\n    }\n  }\n\n  const handleDeleteComment = async (commentId) => {\n    setDeleteModal(true)\n    setCommentToDelete(commentId)\n  }\n\n  const startEditingComment = (comment) => {\n    setEditingComment(comment.id)\n    setEditedCommentContent(comment.content)\n  }\n\n  const cancelEditingComment = () => {\n    setEditingComment(null)\n    setEditedCommentContent('')\n  }\n\n  const loadTaskDetails = async () => {\n    try {\n      setLoading(true)\n      const response = await taskService.getTask(task.id)\n      if (response.success) {\n        setTaskData(response.data.task)\n        setAttachmentsCount(response.data.task.attachments_count || 0)\n        setUsers(availableUsers)\n      }\n    } catch (error) {\n      console.error('Error loading task details:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    if (task && isOpen) {\n      loadTaskDetails()\n      loadBoards()\n    }\n  }, [task, isOpen])\n\n  useEffect(() => {\n    if (isOpen && taskData?.comments) {\n      setTimeout(() => scrollToBottom(), 100)\n    }\n  }, [taskData?.comments, isOpen])\n\n  useEffect(() => {\n    if (taskData?.comments && commentsListRef.current) {\n      scrollToBottom()\n    }\n  }, [taskData?.comments?.length])\n\n  // Main action handlers\n  const handleTogglePublic = async () => {\n    if (!taskData) return\n    try {\n      const response = await taskService.togglePublic(task.id, { is_public: !taskData.is_public })\n      if (response.success) {\n        setTaskData(response.data.task)\n        onUpdate(response.data.task)\n      }\n    } catch (error) {\n      console.error('Error toggling public status:', error)\n    }\n  }\n\n  const handleAddAssignee = async (userId) => {\n    try {\n      const response = await taskService.addAssignee(task.id, userId)\n      if (response.success) {\n        setTaskData(response.data.task)\n        onUpdate(response.data.task)\n      }\n    } catch (error) {\n      console.error('Error adding assignee:', error)\n    }\n  }\n\n  const handleRemoveAssignee = async (userId) => {\n    try {\n      const response = await taskService.removeAssignee(task.id, userId)\n      if (response.success) {\n        setTaskData(response.data.task)\n        onUpdate(response.data.task)\n      }\n    } catch (error) {\n      console.error('Error removing assignee:', error)\n    }\n  }\n\n  const handleAddComment = async () => {\n    if (!newComment.trim()) return\n    try {\n      const response = await taskService.addComment(task.id, newComment)\n      if (response.success) {\n        setTaskData(response.data.task)\n        setNewComment('')\n        onUpdate(response.data.task)\n      }\n    } catch (error) {\n      console.error('Error adding comment:', error)\n    }\n  }\n\n  const handleStatusChange = async (newStatus) => {\n    try {\n      const selectedBoard = boards.find(board => board.name === newStatus)\n      if (!selectedBoard) {\n        console.error('No board found for status:', newStatus)\n        return\n      }\n\n      let response\n      const isDefaultCompletedBoard = selectedBoard.name === 'completed' && selectedBoard.is_default\n\n      if (isDefaultCompletedBoard && taskData.status !== 'completed') {\n        response = await taskService.completeTask(task.id)\n      } else if (!isDefaultCompletedBoard && taskData.status === 'completed') {\n        response = await taskService.reopenTask(task.id)\n        if (response.success) {\n          response = await taskService.updateTask(task.id, {\n            status: newStatus,\n            board_id: selectedBoard.id\n          })\n        }\n      } else {\n        response = await taskService.updateTask(task.id, {\n          status: newStatus,\n          board_id: selectedBoard.id\n        })\n      }\n\n      if (response.success) {\n        setTaskData(response.data.task)\n        onUpdate(response.data.task)\n      }\n    } catch (error) {\n      console.error('Error updating status:', error)\n    }\n  }\n\n  const handlePriorityChange = async (newPriority) => {\n    try {\n      const response = await taskService.updateTask(task.id, { priority: parseInt(newPriority) })\n      if (response.success) {\n        setTaskData(response.data.task)\n        onUpdate(response.data.task)\n      }\n    } catch (error) {\n      console.error('Error updating priority:', error)\n    }\n  }\n\n  const handleDeleteTask = async () => {\n    setTaskDeleteModal(true)\n  }\n\n  const confirmDeleteTask = async () => {\n    try {\n      const response = await taskService.deleteTask(task.id)\n      if (response.success) {\n        onUpdate(null)\n        toggle()\n      }\n    } catch (error) {\n      console.error('Error deleting task:', error)\n    } finally {\n      setTaskDeleteModal(false)\n    }\n  }\n\n  const getPriorityColor = (priority) => {\n    switch (priority) {\n      case 2: return 'danger'\n      case 1: return 'warning'\n      default: return 'success'\n    }\n  }\n\n  const getPriorityText = (priority) => {\n    switch (priority) {\n      case 2: return 'High'\n      case 1: return 'Medium'\n      default: return 'Low'\n    }\n  }\n\n  const getCurrentPriorityOption = () => {\n    return priorityOptions.find(option => option.value === taskData?.priority) || priorityOptions[0]\n  }\n\n  const getCurrentBoard = () => {\n    if (!taskData || !boards.length) return null\n    return boards.find(board => board.id === taskData.board_id) || boards.find(board => board.name === taskData.status)\n  }\n\n  const handleTaskUpdate = (updatedTask) => {\n    if (onUpdate) {\n      onUpdate(task.id, updatedTask)\n    }\n  }\n\n  if (!taskData) return null\n\n  const currentPriority = getCurrentPriorityOption()\n  const currentBoard = getCurrentBoard()\n  const creatorInfo = getCreatorInfo()\n\n  return (\n      <>\n        <Modal\n            isOpen={isOpen}\n            toggle={toggle}\n            size=\"lg\"\n            className=\"task-modal modern-modal fixed-modal\"\n            centered\n            style={{ maxWidth: '1200px', width: '95%', height: '90vh' }}\n        >\n          <ModalHeader className=\"modern-modal-header fixed-modal-header\">\n            <div className=\"d-flex align-items-start w-100 justify-content-between\">\n              <div className=\"task-title-section flex-grow-1 me-3\">\n                <div className=\"d-flex align-items-center mb-2\">\n                  <Input\n                      type=\"text\"\n                      value={taskData.title}\n                      onChange={(e) => setTaskData({ ...taskData, title: e.target.value })}\n                      onBlur={() => taskService.updateTask(task.id, { title: taskData.title })}\n                      className=\"modern-task-title border-0 p-0 me-3\"\n                      placeholder=\"Task title...\"\n                      style={{ fontSize: '1.5rem', fontWeight: '600' }}\n                  />\n                </div>\n\n                <div className=\"task-meta-info\">\n                  <div className=\"d-flex flex-wrap align-items-center gap-3 text-muted small\">\n                    <div className=\"d-flex align-items-center\">\n                      <Calendar size={14} className=\"me-1\" />\n                      <span>Created {formatTaskDate(taskData.created_at)}</span>\n                    </div>\n\n                    {taskData.updated_at && taskData.updated_at !== taskData.created_at && (\n                        <div className=\"d-flex align-items-center\">\n                          <span> Updated {formatTaskDate(taskData.updated_at)}</span>\n                        </div>\n                    )}\n\n                    {taskData.due_date && (\n                        <div className=\"d-flex align-items-center text-warning fw-medium\">\n                          <span> Due {formatDueDate(taskData.due_date)}</span>\n                        </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"menu-section flex-shrink-0\">\n                <div className=\"task-header-badges d-flex align-items-center gap-2\">\n                  <Badge\n                      color={getPriorityColor(taskData.priority)}\n                      className=\"priority-badge d-flex align-items-center\"\n                  >\n                    <currentPriority.icon size={14} className=\"me-1\" />\n                    {getPriorityText(taskData.priority)}\n                  </Badge>\n\n                  <Badge\n                      color=\"custom\"\n                      style={{\n                        backgroundColor: getStatusColor(taskData.status, taskData.board_id),\n                        color: 'white'\n                      }}\n                      className=\"status-badge text-capitalize\"\n                  >\n                    {getStatusDisplayName(taskData.status)}\n                  </Badge>\n\n                  <Dropdown isOpen={menuOpen} toggle={() => setMenuOpen(!menuOpen)}>\n                    <DropdownToggle tag=\"span\" className=\"cursor-pointer modern-menu-toggle\">\n                      <MoreVertical size={18} />\n                    </DropdownToggle>\n                    <DropdownMenu end>\n                      <DropdownItem onClick={handleDeleteTask}>\n                        <Trash2 size={14} className=\"me-2\" />\n                        Delete Task\n                      </DropdownItem>\n                    </DropdownMenu>\n                  </Dropdown>\n\n                  <Button\n                      color=\"link\"\n                      onClick={toggle}\n                      className=\"p-0 modern-close-btn\"\n                      style={{ lineHeight: 1 }}\n                  >\n                    <X size={20} />\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </ModalHeader>\n\n          <ModalBody className=\"modern-modal-body fixed-modal-body p-0\">\n            <div className=\"modal-tabs border-bottom bg-white px-3 pt-1\">\n              <div className=\"d-flex\">\n                <Button\n                    color=\"link\"\n                    className={`tab-button ${activeTab === 'details' ? 'active' : ''}`}\n                    onClick={() => setActiveTab('details')}\n                >\n                  Details\n                </Button>\n                <Button\n                    color=\"link\"\n                    className={`tab-button ${activeTab === 'comments' ? 'active' : ''}`}\n                    onClick={() => setActiveTab('comments')}\n                >\n                  <MessageSquare size={16} className=\"me-1\" />\n                  Comments ({taskData.comments?.length || 0})\n                </Button>\n                <Button\n                    color=\"link\"\n                    className={`tab-button ${activeTab === 'attachments' ? 'active' : ''}`}\n                    onClick={() => setActiveTab('attachments')}\n                >\n                  <Paperclip size={16} className=\"me-1\" />\n                  Attachments ({attachmentsCount})\n                </Button>\n              </div>\n            </div>\n\n            <Row className=\"h-100 m-0\">\n              <Col lg={8} className=\"main-content h-100 p-0\">\n                <div\n                    ref={mainContentRef}\n                    className=\"scrollable-content h-100 p-1\"\n                    style={{ overflowY: 'auto', minHeight: '400px' }}\n                >\n                  {activeTab === 'details' && (\n                      <>\n                        <Card className=\"mb-3 modern-card\">\n                          <CardBody>\n                            <Label className=\"fw-semibold text-muted mb-2 d-block\">Description</Label>\n                            {isEditingDescription ? (\n                                <Input\n                                    type=\"textarea\"\n                                    rows={4}\n                                    value={taskData.description || ''}\n                                    onChange={(e) => setTaskData({ ...taskData, description: e.target.value })}\n                                    onBlur={() => {\n                                      taskService.updateTask(task.id, { description: taskData.description })\n                                      setIsEditingDescription(false)\n                                    }}\n                                    placeholder=\"Add a description for this task...\"\n                                    className=\"modern-textarea border-0 bg-light\"\n                                    autoFocus\n                                />\n                            ) : (\n                                <div\n                                    className=\"description-view bg-light p-2 rounded\"\n                                    style={{ whiteSpace: 'pre-line', minHeight: '100px', cursor: 'pointer' }}\n                                    onClick={() => setIsEditingDescription(true)}\n                                >\n                                  {taskData.description ? (\n                                      <Linkify text={taskData.description} />\n                                  ) : (\n                                      <span className=\"text-muted\">Click to add a description...</span>\n                                  )}\n                                </div>\n                            )}\n                          </CardBody>\n                        </Card>\n\n                        <Card className=\"mb-3 modern-card priority-section\">\n                          <CardBody>\n                            <Label className=\"fw-semibold text-muted mb-2 d-block\">\n                              <Activity size={16} className=\"me-2\" />\n                              Priority\n                            </Label>\n                            <div className=\"d-flex gap-2 flex-wrap\">\n                              {priorityOptions.map((option) => (\n                                  <Button\n                                      key={option.value}\n                                      color={taskData.priority === option.value ? option.color : 'outline-secondary'}\n                                      size=\"sm\"\n                                      onClick={() => handlePriorityChange(option.value)}\n                                      className=\"d-flex align-items-center\"\n                                  >\n                                    <option.icon size={14} className=\"me-1\" />\n                                    {option.label}\n                                  </Button>\n                              ))}\n                            </div>\n                          </CardBody>\n                        </Card>\n\n                        <Card className=\"mb-3 modern-card\">\n                          <CardBody>\n                            <Label className=\"fw-semibold text-muted mb-2 d-block\">Quick Actions</Label>\n                            <div className=\"d-flex flex-wrap gap-3\">\n                              {/* UPDATED: Status dropdown with properly filtered boards */}\n                              <div className=\"action-item\">\n                                <Label className=\"small text-muted mb-1\">Status</Label>\n                                <Input\n                                    type=\"select\"\n                                    value={taskData.status}\n                                    onChange={(e) => handleStatusChange(e.target.value)}\n                                    className=\"modern-select\"\n                                >\n                                  {visibleBoards.map((board) => (\n                                      <option key={board.id} value={board.name}>\n                                        {getStatusDisplayName(board.name)}\n                                        {board.is_default ? ' (Default)' : ' (Custom)'}\n                                      </option>\n                                  ))}\n                                </Input>\n                                {currentBoard && (\n                                    <div className=\"small text-muted mt-1 d-flex align-items-center\">\n                                      <div\n                                          className=\"color-indicator me-2\"\n                                          style={{\n                                            backgroundColor: currentBoard.color,\n                                            width: '12px',\n                                            height: '12px',\n                                            borderRadius: '2px'\n                                          }}\n                                      ></div>\n                                      <span>\n                                  {currentBoard.is_default ? 'Default Board' : 'Custom Board'}  {currentBoard.tasks_count || 0} tasks\n                                </span>\n                                    </div>\n                                )}\n                                {!isSuperAdmin && (\n                                    <small className=\"text-info mt-1 d-block\">\n                                      <Info size={12} className=\"me-1\" />\n                                      Only showing boards with your tasks\n                                    </small>\n                                )}\n                              </div>\n\n                              <div className=\"action-item\">\n                                <Label className=\"small text-muted mb-1\">Due Date</Label>\n                                <Input\n                                    type=\"date\"\n                                    value={taskData.due_date ? taskData.due_date.split('T')[0] : ''}\n                                    onChange={(e) => {\n                                      const newDate = e.target.value ? new Date(e.target.value).toISOString() : null\n                                      setTaskData({ ...taskData, due_date: newDate })\n                                      taskService.updateTask(task.id, { due_date: newDate })\n                                    }}\n                                    className=\"modern-select\"\n                                />\n                                {taskData.due_date && (\n                                    <div className=\"small text-muted mt-1\">\n                                      <Calendar size={12} className=\"me-1\" />\n                                      {formatDueDate(taskData.due_date)}\n                                    </div>\n                                )}\n                              </div>\n\n                              <div className=\"action-item\">\n                                <Label className=\"small text-muted mb-1\">Visibility</Label>\n                                <div className=\"d-flex align-items-center\">\n                                  <Button\n                                      color={taskData.is_public ? \"success\" : \"secondary\"}\n                                      size=\"sm\"\n                                      onClick={handleTogglePublic}\n                                      className=\"d-flex align-items-center modern-toggle-btn\"\n                                  >\n                                    {taskData.is_public ? (\n                                        <>\n                                          <Eye size={14} className=\"me-1\" />\n                                          Public\n                                        </>\n                                    ) : (\n                                        <>\n                                          <EyeOff size={14} className=\"me-1\" />\n                                          Private\n                                        </>\n                                    )}\n                                  </Button>\n                                </div>\n                                <small className=\"text-muted mt-1 d-block\">\n                                  {taskData.is_public ? \"Visible to all users\" : \"Only assigned users\"}\n                                </small>\n                              </div>\n                            </div>\n                          </CardBody>\n                        </Card>\n                      </>\n                  )}\n\n                  {activeTab === 'comments' && (\n                      <div className=\"comments-container h-100 d-flex flex-column\">\n                        <div\n                            ref={commentsListRef}\n                            className=\"comments-list flex-grow-1 p-1\"\n                            style={{ overflowY: 'auto', minHeight: '200px' }}\n                        >\n                          {taskData.comments?.map((comment, index) => (\n                              <div key={index} className=\"comment-item mb-1\">\n                                <div className=\"d-flex align-items-start\">\n                                  <div className=\"comment-avatar me-3 flex-shrink-0\">\n                                    <div className=\"avatar-circle bg-primary text-white d-flex align-items-center justify-content-center\">\n                                      {comment.user_name?.charAt(0)?.toUpperCase() || 'U'}\n                                    </div>\n                                  </div>\n\n                                  <div className=\"comment-content flex-grow-1\">\n                                    <div className=\"d-flex align-items-center justify-content-between mb-2\">\n                                      <div className=\"d-flex align-items-center\">\n                                        <strong className=\"comment-author me-2 ml-1\">\n                                          {comment.user_name}\n                                          {currentUser && comment.user_id === currentUser.id && (\n                                              <span className=\"text-primary ms-1\">(me)</span>\n                                          )}\n                                        </strong>\n                                        <small className=\"text-muted comment-time ml-1\">\n                                          {formatCommentDate(comment.created_at)}\n                                          {comment.edited && <span className=\"ms-1 text-muted\"> edited</span>}\n                                        </small>\n                                      </div>\n\n                                      {currentUser && comment.user_id === currentUser.id && (\n                                          <div className=\"d-flex\">\n                                            {editingComment === comment.id ? (\n                                                <>\n                                                  <Button\n                                                      color=\"primary\"\n                                                      size=\"sm\"\n                                                      className=\"me-1 action-btn\"\n                                                      onClick={() => handleUpdateComment(comment.id, editedCommentContent)}\n                                                  >\n                                                    <Check size={12} />\n                                                  </Button>\n                                                  <Button\n                                                      color=\"secondary\"\n                                                      size=\"sm\"\n                                                      onClick={cancelEditingComment}\n                                                      className=\"action-btn\"\n                                                  >\n                                                    <XIcon size={12} />\n                                                  </Button>\n                                                </>\n                                            ) : (\n                                                <>\n                                                  <Button\n                                                      color=\"link\"\n                                                      size=\"sm\"\n                                                      className=\"text-secondary p-1 me-1\"\n                                                      onClick={() => startEditingComment(comment)}\n                                                  >\n                                                    <Edit size={12} />\n                                                  </Button>\n                                                  <Button\n                                                      color=\"link\"\n                                                      size=\"sm\"\n                                                      className=\"p-1\"\n                                                      onClick={() => handleDeleteComment(comment.id)}\n                                                  >\n                                                    <Trash2 size={12} />\n                                                  </Button>\n                                                </>\n                                            )}\n                                          </div>\n                                      )}\n                                    </div>\n\n                                    {editingComment === comment.id ? (\n                                        <div className=\"editing-comment\">\n                                          <Input\n                                              type=\"textarea\"\n                                              rows={3}\n                                              value={editedCommentContent}\n                                              onChange={(e) => setEditedCommentContent(e.target.value)}\n                                              className=\"modern-textarea mb-1\"\n                                              autoFocus\n                                          />\n                                        </div>\n                                    ) : (\n                                        <div className=\"comment-text bg-light p-1 rounded\" style={{ whiteSpace: 'pre-line' }}>\n                                          <Linkify text={comment.content} />\n                                        </div>\n                                    )}\n                                  </div>\n                                </div>\n                              </div>\n                          ))}\n\n                          {(!taskData.comments || taskData.comments.length === 0) && (\n                              <div className=\"text-center text-muted py-5\">\n                                <MessageSquare size={48} className=\"mb-3 opacity-25\" />\n                                <h6 className=\"text-muted\">No comments yet</h6>\n                                <p className=\"small mb-0\">Be the first to add a comment</p>\n                              </div>\n                          )}\n                        </div>\n\n                        <div className=\"add-comment-section border-top bg-white p-1\">\n                          <div className=\"comment-input-container\">\n                            <div className=\"d-flex align-items-start gap-2\">\n                              <div className=\"flex-grow-1\">\n                                <Input\n                                    type=\"textarea\"\n                                    rows={3}\n                                    value={newComment}\n                                    onChange={(e) => setNewComment(e.target.value)}\n                                    placeholder=\"Type your comment here...\"\n                                    className=\"modern-textarea\"\n                                    style={{ resize: 'none' }}\n                                />\n                              </div>\n                              <Button\n                                  color=\"primary\"\n                                  onClick={handleAddComment}\n                                  disabled={!newComment.trim()}\n                                  className=\"comment-submit-btn align-self-end\"\n                                  style={{ borderRadius: '8px', padding: '0.75rem 1.5rem' }}\n                              >\n                                <Send size={16} className=\"me-1\" />\n                                Send\n                              </Button>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                  )}\n\n                  {activeTab === 'attachments' && (\n                      <div className=\"attachments-tab-content\" style={{ minHeight: '400px' }}>\n                        <AttachmentSection\n                            task={taskData}\n                            currentUser={currentUser}\n                            onUpdate={handleTaskUpdate}\n                            onAttachmentsCountChange={handleAttachmentsCountChange}\n                        />\n                      </div>\n                  )}\n                </div>\n              </Col>\n\n              <Col lg={4} className=\"sidebar h-100 p-0 border-start\">\n                <div\n                    ref={sidebarRef}\n                    className=\"scrollable-content h-100 p-3\"\n                    style={{ overflowY: 'auto' }}\n                >\n                  <div className=\"sticky-sidebar\">\n                    <Card className=\"modern-card mb-1\">\n                      <CardBody>\n                        <h6 className=\"sidebar-title mb-1\">Task Information</h6>\n\n                        <div className=\"info-item mb-2\">\n                          <Label className=\"small text-muted mb-1\">Created By</Label>\n                          <div className=\"creator-info d-flex align-items-center p-2 bg-light rounded\">\n                            <Badge color=\"primary\" className=\"user-avatar me-2\">\n                              {creatorInfo?.name?.charAt(0) || 'U'}\n                            </Badge>\n                            <div>\n                              <div className=\"fw-medium\">\n                                {creatorInfo?.name || 'Unknown'}\n                                {isCurrentUserCreator && <span className=\"text-primary\"> (me)</span>}\n                              </div>\n                              {creatorInfo?.email && (\n                                  <div className=\"small text-muted\">{creatorInfo.email}</div>\n                              )}\n                            </div>\n                          </div>\n                        </div>\n\n                        <div className=\"info-item\">\n                          <Label className=\"small text-muted mb-1 d-flex justify-content-between align-items-center\">\n                            <span>Assignees</span>\n                            {canAddAssignees() && !taskData.is_public && (\n                                <Dropdown\n                                    isOpen={assigneeDropdownOpen}\n                                    toggle={() => setAssigneeDropdownOpen(!assigneeDropdownOpen)}\n                                    direction=\"start\"\n                                >\n                                  <DropdownToggle color=\"link\" size=\"sm\" className=\"text-primary p-0\">\n                                    <Plus size={14} />\n                                  </DropdownToggle>\n                                  <DropdownMenu\n                                      style={{\n                                        position: 'fixed',\n                                        top: 'auto',\n                                        bottom: '90px',\n                                        right: '90px',\n                                        left: 'auto',\n                                        maxHeight: '300px',\n                                        overflowY: 'auto',\n                                        zIndex: 9999\n                                      }}\n                                  >\n                                    {users\n                                        .filter(user => user.id !== taskData.user_id)\n                                        .map(user => (\n                                            <DropdownItem\n                                                key={user.id}\n                                                onClick={() => handleAddAssignee(user.id)}\n                                                disabled={taskData.assignees?.includes(user.id)}\n                                            >\n                                              <div className=\"d-flex align-items-center\">\n                                                <Badge color=\"secondary\" className=\"me-2 small-avatar\">\n                                                  {user.name?.charAt(0)}\n                                                </Badge>\n                                                <div>\n                                                  <div>{user.name}</div>\n                                                  <small className=\"text-muted\">{user.email}</small>\n                                                </div>\n                                              </div>\n                                            </DropdownItem>\n                                        ))}\n                                  </DropdownMenu>\n                                </Dropdown>\n                            )}\n                          </Label>\n\n                          <div className=\"assignees-list\">\n                            {taskData.is_public ? (\n                                <div className=\"public-assignees text-center p-0 bg-opacity-10 rounded border\">\n                                  <Users size={20} className=\"text-success mb-0\" />\n                                  <div className=\"small fw-medium text-success\">Public Task</div>\n                                  <div className=\"small text-muted text-center\">All users can access</div>\n                                </div>\n                            ) : (\n                                <div className=\"private-assignees\">\n                                  {taskData.assignees && taskData.assignees.length > 0 ? (\n                                      taskData.assignees.map(assigneeId => {\n                                        const user = users.find(u => u.id === assigneeId)\n                                        if (!user) return null\n                                        const isMe = currentUser && user.id === currentUser.id\n                                        const isSuperAdmin = superAdminIds.includes(user.id)\n                                        return (\n                                            <div\n                                                key={assigneeId}\n                                                className={`assignee-item d-flex align-items-center justify-content-between p-2 mb-2 bg-light rounded ${isSuperAdmin ? 'super-admin' : ''}`}\n                                            >\n                                              <div className=\"d-flex align-items-center\">\n                                                <div className={`avatar me-2 ${isSuperAdmin ? 'super-admin-avatar' : 'regular-avatar'}`}>\n                                                  {user.name?.charAt(0).toUpperCase()}\n                                                </div>\n                                                <div>\n                                                  <div className=\"small fw-medium\">\n                                                    {user.name}\n                                                    {isMe && <span className=\"text-primary\"> (me)</span>}\n                                                  </div>\n                                                  <div className=\"small text-muted\">{user.email}</div>\n                                                </div>\n                                              </div>\n                                              {canRemoveAssignee(assigneeId) && (\n                                                  <Button\n                                                      color=\"link\"\n                                                      size=\"sm\"\n                                                      className=\"text-danger p-0\"\n                                                      onClick={() => handleRemoveAssignee(assigneeId)}\n                                                  >\n                                                    <X size={14} />\n                                                  </Button>\n                                              )}\n                                            </div>\n                                        )\n                                      })\n                                  ) : (\n                                      <div className=\"text-center text-muted p-3 bg-light rounded border\">\n                                        <User size={20} className=\"mb-2 opacity-50\" />\n                                        <div className=\"small\">No assignees</div>\n                                      </div>\n                                  )}\n                                </div>\n                            )}\n                          </div>\n                        </div>\n                      </CardBody>\n                    </Card>\n                  </div>\n                </div>\n              </Col>\n            </Row>\n          </ModalBody>\n        </Modal>\n\n        {/* Delete Comment Modal */}\n        <Modal isOpen={deleteModal} toggle={() => setDeleteModal(false)} size=\"sm\" className=\"modern-modal\">\n          <ModalHeader toggle={() => setDeleteModal(false)} className=\"modern-modal-header\">\n            <Trash2 size={16} className=\"me-2\" color='primary' />\n            Delete Comment\n          </ModalHeader>\n          <ModalBody>\n            <div className=\"text-center\">\n              <AlertCircle size={32} className=\"r mb-1\" />\n              <p className=\"mb-1\">Are you sure you want to delete this comment?</p>\n              <p className=\"small text-muted\">This action cannot be undone.</p>\n            </div>\n          </ModalBody>\n          <ModalFooter className=\"justify-content-center\">\n            <Button color=\"secondary\" onClick={() => setDeleteModal(false)} className=\"modern-btn\">Cancel</Button>\n            <Button color=\"primary\" onClick={confirmDeleteComment} className=\"modern-btn\">\n              <Trash2 size={14} className=\"me-1\" />Delete\n            </Button>\n          </ModalFooter>\n        </Modal>\n\n        {/* Delete Task Modal */}\n        <Modal isOpen={taskDeleteModal} toggle={() => setTaskDeleteModal(false)} className=\"modern-modal\">\n          <ModalHeader toggle={() => setTaskDeleteModal(false)} className=\"modern-modal-header\">\n            <Trash2 size={16} className=\"me-2\" color='primary' />\n            Delete Task\n          </ModalHeader>\n          <ModalBody>\n            <div className=\"text-center\">\n              <AlertCircle size={32} className=\"mb-0\" color='primary'/>\n              <p className=\"mb-1\">Are you sure you want to delete this task?</p>\n              <div className=\"alert alert-warning p-1 mb-1 text-start\">\n                <strong>{taskData.title}</strong>\n                {taskData.description && (\n                    <div className=\"mt-0 small\">{taskData.description.substring(0, 100)}...</div>\n                )}\n                <div className=\"mt-1 small text-muted\">\n                  Created: {taskData.created_at ? formatTaskDate(taskData.created_at) : 'Unknown'}\n                </div>\n              </div>\n            </div>\n          </ModalBody>\n          <ModalFooter className=\"justify-content-center\">\n            <Button color=\"secondary\" onClick={() => setTaskDeleteModal(false)} className=\"modern-btn\">Cancel</Button>\n            <Button color=\"primary\" onClick={confirmDeleteTask} className=\"modern-btn\">\n              <Trash2 size={14} className=\"me-1\" />Delete Task\n            </Button>\n          </ModalFooter>\n        </Modal>\n      </>\n  )\n}\n\nexport default TaskModal","// src/views/task-manager/DeletedTasks.js\nimport React, { useState, useEffect } from 'react'\nimport {\n  Card,\n  CardBody,\n  CardHeader,\n  Table,\n  Button,\n  Badge,\n  Alert,\n  Spinner,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter\n} from 'reactstrap'\nimport { Trash2, RefreshCw, Eye, Calendar, User, Shield } from 'react-feather'\nimport { taskService } from './../../services/taskService'\n\nconst DeletedTasks = () => {\n  const [deletedTasks, setDeletedTasks] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(null)\n  const [success, setSuccess] = useState(null)\n  const [restoreModal, setRestoreModal] = useState(false)\n  const [deleteModal, setDeleteModal] = useState(false)\n  const [selectedTask, setSelectedTask] = useState(null)\n  const [actionLoading, setActionLoading] = useState(false)\n\n  const loadDeletedTasks = async () => {\n    try {\n      setLoading(true)\n      setError(null)\n      const response = await taskService.getDeletedTasks()\n\n      if (response.success) {\n        setDeletedTasks(response.data.tasks || [])\n      } else {\n        setError(response.message || 'Failed to load deleted tasks')\n      }\n    } catch (err) {\n      const errorMessage = err.response?.data?.message || 'Failed to load deleted tasks. Please try again.'\n      setError(errorMessage)\n      console.error('Error loading deleted tasks:', err)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const clearMessages = () => {\n    setTimeout(() => {\n      setError(null)\n      setSuccess(null)\n    }, 5000)\n  }\n\n  const handleRestore = async (task) => {\n    setSelectedTask(task)\n    setRestoreModal(true)\n  }\n\n  const confirmRestore = async () => {\n    if (!selectedTask) return\n\n    try {\n      setActionLoading(true)\n      const response = await taskService.restoreTask(selectedTask.id)\n\n      if (response.success) {\n        setSuccess('Task restored successfully!')\n        setDeletedTasks(prev => prev.filter(task => task.id !== selectedTask.id))\n        setRestoreModal(false)\n        setSelectedTask(null)\n        clearMessages()\n      } else {\n        setError(response.message || 'Failed to restore task')\n        clearMessages()\n      }\n    } catch (err) {\n      const errorMessage = err.response?.data?.message || 'Failed to restore task'\n      setError(errorMessage)\n      clearMessages()\n    } finally {\n      setActionLoading(false)\n    }\n  }\n\n  const handleForceDelete = async (task) => {\n    setSelectedTask(task)\n    setDeleteModal(true)\n  }\n\n  const confirmForceDelete = async () => {\n    if (!selectedTask) return\n\n    try {\n      setActionLoading(true)\n      const response = await taskService.forceDeleteTask(selectedTask.id)\n\n      if (response.success) {\n        setSuccess('Task permanently deleted!')\n        setDeletedTasks(prev => prev.filter(task => task.id !== selectedTask.id))\n        setDeleteModal(false)\n        setSelectedTask(null)\n        clearMessages()\n      } else {\n        setError(response.message || 'Failed to delete task')\n        clearMessages()\n      }\n    } catch (err) {\n      const errorMessage = err.response?.data?.message || 'Failed to delete task'\n      setError(errorMessage)\n      clearMessages()\n    } finally {\n      setActionLoading(false)\n    }\n  }\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'N/A'\n    return new Date(dateString).toLocaleString()\n  }\n\n  const getStatusBadge = (status) => {\n    const colors = {\n      todo: 'secondary',\n      inProgress: 'warning',\n      completed: 'success'\n    }\n    return colors[status] || 'secondary'\n  }\n\n  useEffect(() => {\n    loadDeletedTasks()\n  }, [])\n\n  if (loading) {\n    return (\n      <Card>\n        <CardBody className=\"text-center\">\n          <Spinner color=\"primary\" />\n          <div className=\"mt-2\">Loading deleted tasks...</div>\n        </CardBody>\n      </Card>\n    )\n  }\n\n  return (\n    <div className=\"deleted-tasks\">\n      <Card>\n        <CardHeader className=\"d-flex justify-content-between align-items-center\">\n          <div>\n            <h4 className=\"mb-0\">Deleted Tasks</h4>\n            <small className=\"text-muted\">Only visible to Super Admins</small>\n          </div>\n          <div className=\"d-flex align-items-center\">\n            <Badge color=\"dark\" className=\"me-2\">\n              {deletedTasks.length} deleted task{deletedTasks.length !== 1 ? 's' : ''}\n            </Badge>\n            <Button color=\"primary\" size=\"sm\" onClick={loadDeletedTasks} disabled={loading}>\n              <RefreshCw size={14} className={loading ? 'spinning' : ''} />\n            </Button>\n          </div>\n        </CardHeader>\n\n        <CardBody>\n          {error && (\n            <Alert color=\"primary\">\n              <h4 className=\"alert-heading\">Error</h4>\n              <p className=\"mb-0\">{error}</p>\n            </Alert>\n          )}\n\n          {success && (\n            <Alert color=\"success\">\n              <strong>Success!</strong> {success}\n            </Alert>\n          )}\n\n          {deletedTasks.length === 0 ? (\n            <div className=\"text-center py-5\">\n              <Trash2 size={48} className=\"text-muted mb-3\" />\n              <h5>No deleted tasks found</h5>\n              <p className=\"text-muted\">There are no tasks in the trash.</p>\n            </div>\n          ) : (\n            <div className=\"table-responsive\">\n              <Table hover>\n                <thead>\n                  <tr>\n                    <th>Title</th>\n                    <th>Status</th>\n                    <th>Creator</th>\n                    <th>Deleted At</th>\n                    <th>Created At</th>\n                    <th>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {deletedTasks.map((task) => (\n                    <tr key={task.id}>\n                      <td>\n                        <div>\n                          <strong>{task.title}</strong>\n                          {task.description && (\n                            <div className=\"text-muted small mt-1\">\n                              {task.description.substring(0, 100)}...\n                            </div>\n                          )}\n                        </div>\n                      </td>\n                      <td>\n                        <Badge color={getStatusBadge(task.status)}>\n                          {task.status}\n                        </Badge>\n                      </td>\n                      <td>\n                        {task.user ? (\n                          <div>\n                            <div className=\"fw-bold\">{task.user.name}</div>\n                            <div className=\"small text-muted\">{task.user.email}</div>\n                          </div>\n                        ) : (\n                          <span className=\"text-muted\">Unknown</span>\n                        )}\n                      </td>\n                      <td>\n                        <div className=\"d-flex align-items-center\">\n                          <Calendar size={14} className=\"me-1 text-danger\" />\n                          {formatDate(task.deleted_at)}\n                        </div>\n                      </td>\n                      <td>\n                        <div className=\"d-flex align-items-center\">\n                          <Calendar size={14} className=\"me-1 text-muted\" />\n                          {formatDate(task.created_at)}\n                        </div>\n                      </td>\n                      <td>\n                        <div className=\"d-flex\">\n                          <Button\n                            color=\"success\"\n                            size=\"sm\"\n                            className=\"me-1\"\n                            onClick={() => handleRestore(task)}\n                            disabled={actionLoading}\n                          >\n                            <RefreshCw size={14} />\n                          </Button>\n                          <Button\n                            color=\"primary\"\n                            size=\"sm\"\n                            onClick={() => handleForceDelete(task)}\n                            disabled={actionLoading}\n                          >\n                            <Trash2 size={14} />\n                          </Button>\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </Table>\n            </div>\n          )}\n        </CardBody>\n      </Card>\n\n      {/* Restore Confirmation Modal */}\n      <Modal isOpen={restoreModal} toggle={() => setRestoreModal(false)}>\n        <ModalHeader toggle={() => setRestoreModal(false)}>\n          Restore Task\n        </ModalHeader>\n        <ModalBody>\n          {selectedTask && (\n            <div>\n              <p>Are you sure you want to restore this task?</p>\n              <div className=\"alert alert-info\">\n                <strong>{selectedTask.title}</strong>\n                {selectedTask.description && (\n                  <div className=\"mt-1\">{selectedTask.description.substring(0, 200)}...</div>\n                )}\n              </div>\n              <div className=\"small text-muted\">\n                <div>Status: <Badge color={getStatusBadge(selectedTask.status)}>{selectedTask.status}</Badge></div>\n                <div>Deleted: {formatDate(selectedTask.deleted_at)}</div>\n              </div>\n            </div>\n          )}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={() => setRestoreModal(false)} disabled={actionLoading}>\n            Cancel\n          </Button>\n          <Button color=\"success\" onClick={confirmRestore} disabled={actionLoading}>\n            {actionLoading ? <Spinner size=\"sm\" /> : 'Restore Task'}\n          </Button>\n        </ModalFooter>\n      </Modal>\n\n      {/* Permanent Delete Confirmation Modal */}\n      <Modal isOpen={deleteModal} toggle={() => setDeleteModal(false)}>\n        <ModalHeader toggle={() => setDeleteModal(false)}>\n          Permanently Delete Task\n        </ModalHeader>\n        <ModalBody>\n          {selectedTask && (\n            <div>\n              <Alert color=\"primary\">\n                <h5 className=\"alert-heading\">Warning!</h5>\n                <p className=\"mb-0\">\n                  This action cannot be undone. The task will be permanently deleted from the system.\n                </p>\n              </Alert>\n              <p>Are you sure you want to permanently delete this task?</p>\n              <div className=\"alert alert-warning\">\n                <strong>{selectedTask.title}</strong>\n                {selectedTask.description && (\n                  <div className=\"mt-1\">{selectedTask.description.substring(0, 200)}...</div>\n                )}\n              </div>\n              <div className=\"small text-muted\">\n                <div>Status: <Badge color={getStatusBadge(selectedTask.status)}>{selectedTask.status}</Badge></div>\n                <div>Creator: {selectedTask.user?.name || 'Unknown'}</div>\n                <div>Deleted: {formatDate(selectedTask.deleted_at)}</div>\n              </div>\n            </div>\n          )}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={() => setDeleteModal(false)} disabled={actionLoading}>\n            Cancel\n          </Button>\n          <Button color=\"primary\" onClick={confirmForceDelete} disabled={actionLoading}>\n            {actionLoading ? <Spinner size=\"sm\" /> : 'Permanently Delete'}\n          </Button>\n        </ModalFooter>\n      </Modal>\n\n      <style jsx>{`\n        .spinning {\n          animation: spin 1s linear infinite;\n        }\n        \n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n      `}</style>\n    </div>\n  )\n}\n\nexport default DeletedTasks","// src/services/filterService.js - Updated with multi-user and role filtering\n\nclass FilterService {\n  constructor() {\n    this.defaultFilters = {\n      users: [], // Array of user IDs for multi-select\n      userRole: 'both', // 'creator', 'assignee', 'both'\n      priority: null,\n      createdDateFrom: null,\n      createdDateTo: null,\n      dueDateFrom: null,\n      dueDateTo: null,\n      searchTerm: '',\n      status: null,\n      hasAttachments: null,\n      isPublic: null\n    }\n  }\n\n  // Check if user is super admin\n  isSuperAdmin(currentUser) {\n    return currentUser?.email === 'super@admin.com' || \n           currentUser?.roles?.includes('super') || \n           currentUser?.permissions?.includes('all')\n  }\n\n  // Check if user is admin or has elevated privileges\n  isAdmin(currentUser) {\n    return this.isSuperAdmin(currentUser) || \n           currentUser?.roles?.includes('admin') ||\n           currentUser?.roles?.includes('Manager')\n  }\n\n  // Enhanced filter logic for multi-user and role-based filtering\n  applyFilters(tasks, filters, availableUsers = [], currentUser = null) {\n    if (!tasks || !Array.isArray(tasks)) return []\n\n    return tasks.filter(task => {\n      // Search term filter (title and description)\n      if (filters.searchTerm && filters.searchTerm.trim() !== '') {\n        const searchTerm = filters.searchTerm.toLowerCase()\n        const titleMatch = task.title?.toLowerCase().includes(searchTerm) || false\n        const descMatch = task.description?.toLowerCase().includes(searchTerm) || false\n        if (!titleMatch && !descMatch) return false\n      }\n\n      // Enhanced User Filter - Multi-user with role support\n      if (filters.users && filters.users.length > 0 && this.isSuperAdmin(currentUser)) {\n        const hasMatchingUser = filters.users.some(userId => {\n          const userIdNum = parseInt(userId)\n          \n          switch (filters.userRole) {\n            case 'creator':\n              // Filter by task creator only\n              return task.user_id === userIdNum\n            \n            case 'assignee':\n              // Filter by assignees only\n              return task.assignees && task.assignees.includes(userIdNum)\n            \n            case 'both':\n            default:\n              // Filter by either creator or assignee\n              return task.user_id === userIdNum || \n                     (task.assignees && task.assignees.includes(userIdNum))\n          }\n        })\n        \n        if (!hasMatchingUser) return false\n      }\n\n      // Priority filter\n      if (filters.priority !== null && filters.priority !== '') {\n        if (task.priority !== parseInt(filters.priority)) return false\n      }\n\n      // Status filter\n      if (filters.status && filters.status !== 'all') {\n        if (task.status !== filters.status) return false\n      }\n\n      // Created date range filter\n      if (filters.createdDateFrom) {\n        const taskCreated = new Date(task.created_at)\n        const filterFrom = new Date(filters.createdDateFrom)\n        if (taskCreated < filterFrom) return false\n      }\n\n      if (filters.createdDateTo) {\n        const taskCreated = new Date(task.created_at)\n        const filterTo = new Date(filters.createdDateTo)\n        filterTo.setHours(23, 59, 59, 999) // End of day\n        if (taskCreated > filterTo) return false\n      }\n\n      // Due date range filter\n      if (task.due_date) {\n        if (filters.dueDateFrom) {\n          const taskDue = new Date(task.due_date)\n          const filterFrom = new Date(filters.dueDateFrom)\n          if (taskDue < filterFrom) return false\n        }\n\n        if (filters.dueDateTo) {\n          const taskDue = new Date(task.due_date)\n          const filterTo = new Date(filters.dueDateTo)\n          filterTo.setHours(23, 59, 59, 999) // End of day\n          if (taskDue > filterTo) return false\n        }\n      } else if (filters.dueDateFrom || filters.dueDateTo) {\n        // If task has no due date but filters are set, exclude it\n        return false\n      }\n\n      // Attachment filter\n      if (filters.hasAttachments !== null) {\n        const hasAttachments = (task.attachments_count || 0) > 0\n        if (filters.hasAttachments !== hasAttachments) return false\n      }\n\n      // Public/Private filter\n      if (filters.isPublic !== null) {\n        if (task.is_public !== filters.isPublic) return false\n      }\n\n      return true\n    })\n  }\n\n  // Get filter summary text with enhanced user info\n  getFilterSummary(filters, availableUsers = [], currentUser = null) {\n    const activeFilters = []\n\n    if (filters.searchTerm) {\n      activeFilters.push(`Search: \"${filters.searchTerm}\"`)\n    }\n\n    if (filters.users && filters.users.length > 0 && this.isSuperAdmin(currentUser)) {\n      const selectedUsers = availableUsers.filter(u => filters.users.includes(u.id.toString())\n      )\n      \n      if (selectedUsers.length > 0) {\n        let userText = 'Users: '\n        if (selectedUsers.length <= 2) {\n          userText += selectedUsers.map(u => u.name).join(', ')\n        } else {\n          userText += `${selectedUsers.length} users`\n        }\n        \n        // Add role information\n        const roleText = this.getUserRoleText(filters.userRole)\n        userText += ` (${roleText})`\n        \n        activeFilters.push(userText)\n      }\n    }\n\n    if (filters.priority !== null && filters.priority !== '') {\n      const priorityLabels = { 0: 'Low', 1: 'Medium', 2: 'High' }\n      activeFilters.push(`Priority: ${priorityLabels[filters.priority]}`)\n    }\n\n    if (filters.status && filters.status !== 'all') {\n      activeFilters.push(`Status: ${filters.status}`)\n    }\n\n    if (filters.createdDateFrom || filters.createdDateTo) {\n      let dateText = 'Created: '\n      if (filters.createdDateFrom && filters.createdDateTo) {\n        dateText += `${this.formatDate(filters.createdDateFrom)} to ${this.formatDate(filters.createdDateTo)}`\n      } else if (filters.createdDateFrom) {\n        dateText += `from ${this.formatDate(filters.createdDateFrom)}`\n      } else if (filters.createdDateTo) {\n        dateText += `until ${this.formatDate(filters.createdDateTo)}`\n      }\n      activeFilters.push(dateText)\n    }\n\n    if (filters.dueDateFrom || filters.dueDateTo) {\n      let dateText = 'Due: '\n      if (filters.dueDateFrom && filters.dueDateTo) {\n        dateText += `${this.formatDate(filters.dueDateFrom)} to ${this.formatDate(filters.dueDateTo)}`\n      } else if (filters.dueDateFrom) {\n        dateText += `from ${this.formatDate(filters.dueDateFrom)}`\n      } else if (filters.dueDateTo) {\n        dateText += `until ${this.formatDate(filters.dueDateTo)}`\n      }\n      activeFilters.push(dateText)\n    }\n\n    if (filters.hasAttachments !== null) {\n      activeFilters.push(`Attachments: ${filters.hasAttachments ? 'Has Files' : 'No Files'}`)\n    }\n\n    if (filters.isPublic !== null) {\n      activeFilters.push(`Visibility: ${filters.isPublic ? 'Public' : 'Private'}`)\n    }\n\n    return activeFilters\n  }\n\n  // Helper to get user role display text\n  getUserRoleText(userRole) {\n    switch (userRole) {\n      case 'creator':\n        return 'Creator Only'\n      case 'assignee':\n        return 'Assignee Only'\n      case 'both':\n        return 'Creator or Assignee'\n      default:\n        return 'Any Role'\n    }\n  }\n\n  formatDate(dateString) {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    })\n  }\n\n  // Reset filters to default\n  resetFilters() {\n    return { ...this.defaultFilters }\n  }\n\n  // Check if any filter is active\n  hasActiveFilters(filters) {\n    return Object.keys(filters).some(key => {\n      if (key === 'searchTerm') return filters[key] !== ''\n      if (key === 'users') return filters[key] && filters[key].length > 0\n      return filters[key] !== null && filters[key] !== ''\n    })\n  }\n\n  // Get available status options based on boards\n  getStatusOptions(boards = []) {\n    const baseStatuses = [\n      { value: 'all', label: 'All Statuses' },\n      { value: 'todo', label: 'To Do' },\n      { value: 'inProgress', label: 'In Progress' },\n      { value: 'completed', label: 'Completed' }\n    ]\n\n    // Add custom board statuses\n    const customStatuses = boards\n      .filter(board => !['todo', 'inProgress', 'completed'].includes(board.name))\n      .map(board => ({\n        value: board.name,\n        label: board.name.charAt(0).toUpperCase() + board.name.slice(1)\n      }))\n\n    return [...baseStatuses, ...customStatuses]\n  }\n\n  // Get user role options for filtering\n  getUserRoleOptions() {\n    return [\n      { value: 'both', label: 'Creator or Assignee' },\n      { value: 'creator', label: 'Creator Only' },\n      { value: 'assignee', label: 'Assignee Only' }\n    ]\n  }\n}\n\nexport const filterService = new FilterService()","// src/views/task-manager/TaskFilter.js - Updated with board visibility logic\nimport React, { useState, useEffect, useMemo } from 'react'\nimport {\n  Card,\n  CardBody,\n  Row,\n  Col,\n  FormGroup,\n  Label,\n  Input,\n  Button,\n  Badge,\n  Collapse,\n  InputGroup\n} from 'reactstrap'\nimport {\n  Filter,\n  Search,\n  User,\n  Users,\n  Flag,\n  Calendar,\n  X,\n  RefreshCw,\n  ChevronDown,\n  ChevronUp,\n  Paperclip,\n  Eye,\n  EyeOff,\n  Info\n} from 'react-feather'\nimport Select from 'react-select'\nimport { filterService } from '../../services/filterService'\n\nconst TaskFilter = ({\n                      filters,\n                      onFiltersChange,\n                      availableUsers = [],\n                      currentUser,\n                      totalTasks = 0,\n                      filteredTasks = 0,\n                      boards = [],\n                      allTasks = [] // NEW: Receive all tasks to determine board visibility\n                    }) => {\n  const [isExpanded, setIsExpanded] = useState(false)\n  const [localFilters, setLocalFilters] = useState(filters)\n\n  const isSuperAdmin = filterService.isSuperAdmin(currentUser)\n  const hasActiveFilters = filterService.hasActiveFilters(filters)\n  const filterSummary = filterService.getFilterSummary(filters, availableUsers, currentUser)\n  const userRoleOptions = filterService.getUserRoleOptions()\n\n  // Default board names that should always be visible\n  const defaultBoardNames = ['todo', 'inProgress', 'completed']\n\n  // Filter boards based on user permissions and task assignments - EXACT SAME LOGIC AS TASK MODAL\n  const getUserAccessibleBoards = () => {\n    if (!boards.length) return []\n\n    return boards.filter(board => {\n      // Always show default boards for all users\n      if (defaultBoardNames.includes(board.name)) {\n        return true\n      }\n\n      // Super admins see all boards\n      if (isSuperAdmin) {\n        return true\n      }\n\n      // For non-super admin users, only show boards that have their tasks\n      const boardTasks = allTasks.filter(task => task.board_id === board.id)\n      const hasUserTasks = boardTasks.some(task => {\n        // User can see the task if:\n        // 1. They created it\n        // 2. They are assigned to it\n        // 3. The task is public\n        return task.user_id === currentUser?.id ||\n            (task.assignees && task.assignees.includes(currentUser?.id)) ||\n            task.is_public\n      })\n\n      return hasUserTasks\n    })\n  }\n\n  // Get status options from accessible boards only\n  const getStatusOptions = () => {\n    const accessibleBoards = getUserAccessibleBoards()\n    const baseStatuses = [\n      { value: 'all', label: 'All Statuses' },\n      { value: 'todo', label: 'To Do' },\n      { value: 'inProgress', label: 'In Progress' },\n      { value: 'completed', label: 'Completed' }\n    ]\n\n    // Add custom board statuses from accessible boards only\n    const customStatuses = accessibleBoards\n        .filter(board => !['todo', 'inProgress', 'completed'].includes(board.name))\n        .map(board => ({\n          value: board.name,\n          label: board.name.charAt(0).toUpperCase() + board.name.slice(1),\n          board\n        }))\n\n    return [...baseStatuses, ...customStatuses]\n  }\n\n  const statusOptions = getStatusOptions()\n\n  // Prepare users for react-select\n  const userOptions = availableUsers.map(user => ({\n    value: user.id.toString(),\n    label: `${user.name} (${user.email})`,\n    user\n  }))\n\n  // Get currently selected users for display\n  const selectedUsers = localFilters.users ? userOptions.filter(option => localFilters.users.includes(option.value)) : []\n\n  const handleFilterChange = (key, value) => {\n    const newFilters = { ...localFilters, [key]: value }\n    setLocalFilters(newFilters)\n  }\n\n  const handleUsersChange = (selectedOptions) => {\n    const selectedValues = selectedOptions ? selectedOptions.map(option => option.value) : []\n    handleFilterChange('users', selectedValues)\n  }\n\n  const handleApplyFilters = () => {\n    onFiltersChange(localFilters)\n  }\n\n  const handleResetFilters = () => {\n    const resetFilters = filterService.resetFilters()\n    setLocalFilters(resetFilters)\n    onFiltersChange(resetFilters)\n  }\n\n  const handleClearFilter = (filterKey) => {\n    const newFilters = { ...localFilters, [filterKey]: filterService.defaultFilters[filterKey] }\n    setLocalFilters(newFilters)\n    onFiltersChange(newFilters)\n  }\n\n  const handleClearUsersFilter = () => {\n    handleClearFilter('users')\n    handleClearFilter('userRole')\n  }\n\n  const handleQuickFilter = (filterType, value) => {\n    const newFilters = { ...localFilters }\n\n    switch (filterType) {\n      case 'myTasks':\n        newFilters.users = [currentUser.id.toString()]\n        newFilters.userRole = 'both'\n        newFilters.isPublic = null\n        break\n      case 'publicTasks':\n        newFilters.users = []\n        newFilters.userRole = 'both'\n        newFilters.isPublic = true\n        break\n      case 'privateTasks':\n        newFilters.users = []\n        newFilters.userRole = 'both'\n        newFilters.isPublic = false\n        break\n      case 'withAttachments':\n        newFilters.hasAttachments = true\n        break\n      case 'highPriority':\n        newFilters.priority = 2\n        break\n      case 'dueThisWeek':\n        const today = new Date()\n        const nextWeek = new Date(today)\n        nextWeek.setDate(today.getDate() + 7)\n        newFilters.dueDateFrom = today.toISOString().split('T')[0]\n        newFilters.dueDateTo = nextWeek.toISOString().split('T')[0]\n        break\n      case 'recent':\n        const lastWeek = new Date()\n        lastWeek.setDate(lastWeek.getDate() - 7)\n        newFilters.createdDateFrom = lastWeek.toISOString().split('T')[0]\n        newFilters.createdDateTo = new Date().toISOString().split('T')[0]\n        break\n      default:\n        break\n    }\n\n    setLocalFilters(newFilters)\n    onFiltersChange(newFilters)\n  }\n\n  const getPriorityLabel = (priority) => {\n    const labels = { 0: 'Low', 1: 'Medium', 2: 'High' }\n    return labels[priority] || 'All'\n  }\n\n  // Custom styles for react-select\n  const selectStyles = {\n    control: (base) => ({\n      ...base,\n      minHeight: '38px',\n      fontSize: '0.875rem'\n    }),\n    menu: (base) => ({\n      ...base,\n      fontSize: '0.875rem'\n    }),\n    multiValue: (base) => ({\n      ...base,\n      backgroundColor: '#e9ecef',\n      borderRadius: '4px'\n    }),\n    multiValueLabel: (base) => ({\n      ...base,\n      fontSize: '0.8rem',\n      padding: '2px 6px'\n    })\n  }\n\n  // Get accessible boards count for info display\n  const accessibleBoards = getUserAccessibleBoards()\n  const totalBoardsCount = boards.length\n  const accessibleBoardsCount = accessibleBoards.length\n\n  return (\n      <Card className=\"mb-1\">\n        <CardBody className=\"p-1\">\n          {/* Filter Header */}\n          <div\n              className=\"d-flex justify-content-between align-items-center cursor-pointer\"\n              onClick={() => setIsExpanded(!isExpanded)}\n          >\n            <div className=\"d-flex align-items-center\">\n              <Filter size={18} className=\"text-primary me-2\" />\n              <h6 className=\"mb-0 me-2 pr-1\">Task Filters</h6>\n              {hasActiveFilters && (\n                  <Badge color=\"primary\" pill className=\"me-2 mr-1\">\n                    {filterSummary.length} active filters\n                  </Badge>\n              )}\n              <Badge color=\"secondary\" pill>\n                {filteredTasks} of {totalTasks} tasks\n              </Badge>\n            </div>\n            <div className=\"d-flex align-items-center\">\n              {hasActiveFilters && (\n                  <Button\n                      color=\"link\"\n                      size=\"sm\"\n                      onClick={(e) => {\n                        e.stopPropagation()\n                        handleResetFilters()\n                      }}\n                      className=\"text-danger px-1 me-2\"\n                      title=\"Reset all filters\"\n                  >\n                    <RefreshCw size={14} />\n                  </Button>\n              )}\n              {isExpanded ? <ChevronUp size={16} /> : <ChevronDown size={16} />}\n            </div>\n          </div>\n\n          {/* Quick Filters */}\n          <div className=\"mt-1\">\n            <div className=\"d-flex flex-wrap gap-1 mb-1 \">\n              <Button\n                  color=\"outline-success\"\n                  size=\"sm\"\n                  onClick={() => handleQuickFilter('publicTasks')}\n                  className=\"flex-shrink-0 mr-1\"\n              >\n                <Users size={12} className=\"me-1\" />\n                Public Tasks\n              </Button>\n              <Button\n                  color=\"outline-secondary\"\n                  size=\"sm\"\n                  onClick={() => handleQuickFilter('privateTasks')}\n                  className=\"flex-shrink-0 mr-1\"\n              >\n                <EyeOff size={12} className=\"me-1\" />\n                Private Tasks\n              </Button>\n              <Button\n                  color=\"outline-info\"\n                  size=\"sm\"\n                  onClick={() => handleQuickFilter('withAttachments')}\n                  className=\"flex-shrink-0 mr-1\"\n              >\n                <Paperclip size={12} className=\"me-1\" />\n                With Files\n              </Button>\n              <Button\n                  color=\"outline-danger\"\n                  size=\"sm\"\n                  onClick={() => handleQuickFilter('highPriority')}\n                  className=\"flex-shrink-0 mr-1\"\n              >\n                <Flag size={12} className=\"me-1\" />\n                High Priority\n              </Button>\n              <Button\n                  color=\"outline-warning\"\n                  size=\"sm\"\n                  onClick={() => handleQuickFilter('dueThisWeek')}\n                  className=\"flex-shrink-0 mr-1\"\n              >\n                <Calendar size={12} className=\"me-1\" />\n                Due This Week\n              </Button>\n              <Button\n                  color=\"outline-dark\"\n                  size=\"sm\"\n                  onClick={() => handleQuickFilter('recent')}\n                  className=\"flex-shrink-0 mr-1\"\n              >\n                <Calendar size={12} className=\"me-1\" />\n                Recent (Last 7 days)\n              </Button>\n            </div>\n          </div>\n\n          {/* Active Filters Summary */}\n          {hasActiveFilters && filterSummary.length > 0 && (\n              <div className=\"mt-0\">\n                <div className=\"d-flex flex-wrap gap-1\">\n                  {filterSummary.map((filter, index) => {\n                    // Check if this is a user filter to handle clearing both users and userRole\n                    const isUserFilter = filter.startsWith('Users:')\n\n                    return (\n                        <Badge\n                            key={index}\n                            color=\"primary\"\n                            className=\"d-flex align-items-center border cursor-pointer\"\n                            style={{\n                              fontSize: '0.7rem'\n                            }}\n                            onClick={() => {\n                              if (isUserFilter) {\n                                handleClearUsersFilter()\n                              } else if (filter.startsWith('Search:')) {\n                                handleClearFilter('searchTerm')\n                              } else if (filter.startsWith('Priority:')) {\n                                handleClearFilter('priority')\n                              } else if (filter.startsWith('Status:')) {\n                                handleClearFilter('status')\n                              } else if (filter.startsWith('Created:')) {\n                                handleClearFilter('createdDateFrom')\n                                handleClearFilter('createdDateTo')\n                              } else if (filter.startsWith('Due:')) {\n                                handleClearFilter('dueDateFrom')\n                                handleClearFilter('dueDateTo')\n                              } else if (filter.startsWith('Attachments:')) {\n                                handleClearFilter('hasAttachments')\n                              } else if (filter.startsWith('Visibility:')) {\n                                handleClearFilter('isPublic')\n                              }\n                            }}\n                        >\n                          {filter}\n                          <X\n                              size={12}\n                              className=\"ms-1\"\n                          />\n                        </Badge>\n                    )\n                  })}\n                </div>\n              </div>\n          )}\n\n          {/* Filter Controls */}\n          <Collapse isOpen={isExpanded}>\n            <div className=\"mt-1 pt-1 border-top\">\n              <Row>\n                {/* Search Term */}\n                <Col md={5} className=\"mb-1\">\n                  <FormGroup>\n                    <Label for=\"searchTerm\" className=\"small fw-bold\">\n                      <Search size={14} className=\"me-1\" />\n                      Search Tasks\n                    </Label>\n                    <Input\n                        id=\"searchTerm\"\n                        type=\"text\"\n                        placeholder=\"Search in title or description...\"\n                        value={localFilters.searchTerm || ''}\n                        onChange={(e) => handleFilterChange('searchTerm', e.target.value)}\n                        onKeyPress={(e) => {\n                          if (e.key === 'Enter') handleApplyFilters()\n                        }}\n                    />\n                  </FormGroup>\n                </Col>\n\n                {/* Multi-User Filter (Super Admin Only) */}\n                {isSuperAdmin && (\n                    <>\n                      <Col md={5} className=\"mb-1\">\n                        <FormGroup>\n                          <Label className=\"small fw-bold\">\n                            <Users size={14} className=\"me-1\" />\n                            Filter by Users\n                          </Label>\n                          <Select\n                              isMulti\n                              options={userOptions}\n                              value={selectedUsers}\n                              onChange={handleUsersChange}\n                              placeholder=\"Select users...\"\n                              styles={selectStyles}\n                              isSearchable\n                              isClearable\n                          />\n                        </FormGroup>\n                      </Col>\n\n                      {/* User Role Filter */}\n                      <Col md={2} className=\"mb-1\">\n                        <FormGroup>\n                          <Label for=\"userRoleFilter\" className=\"small fw-bold\">\n                            User Role\n                          </Label>\n                          <Input\n                              id=\"userRoleFilter\"\n                              type=\"select\"\n                              value={localFilters.userRole || 'both'}\n                              onChange={(e) => handleFilterChange('userRole', e.target.value)}\n                              disabled={!localFilters.users || localFilters.users.length === 0}\n                          >\n                            {userRoleOptions.map(option => (\n                                <option key={option.value} value={option.value}>\n                                  {option.label}\n                                </option>\n                            ))}\n                          </Input>\n                        </FormGroup>\n                      </Col>\n                    </>\n                )}\n\n                {/* Status Filter - UPDATED WITH BOARD VISIBILITY LOGIC */}\n                <Col md={4} className=\"mb-1\">\n                  <FormGroup>\n                    <Label for=\"statusFilter\" className=\"small fw-bold\">\n                      Status\n                    </Label>\n                    <Input\n                        id=\"statusFilter\"\n                        type=\"select\"\n                        value={localFilters.status || 'all'}\n                        onChange={(e) => handleFilterChange('status', e.target.value === 'all' ? null : e.target.value)}\n                        className=\"modern-select\"\n                    >\n                      {statusOptions.map(option => (\n                          <option key={option.value} value={option.value}>\n                            {option.label}\n                            {option.board && !option.board.is_default && ' (Custom)'}\n                          </option>\n                      ))}\n                    </Input>\n\n                    {/* Information about board visibility */}\n                    {/* {!isSuperAdmin && totalBoardsCount > accessibleBoardsCount && (\n                    <div className=\"small text-info mt-1 d-flex align-items-center\">\n                      <Info size={12} className=\"me-1\" />\n                      Showing {accessibleBoardsCount} of {totalBoardsCount} boards (only boards with your tasks)\n                    </div>\n                  )} */}\n\n                    {/* {isSuperAdmin && (\n                    <div className=\"small text-muted mt-1\">\n                      <Info size={12} className=\"me-1\" />\n                      Super Admin: All {totalBoardsCount} boards visible\n                    </div>\n                  )} */}\n                  </FormGroup>\n                </Col>\n\n                {/* Priority Filter */}\n                <Col md={3} className=\"mb-1\">\n                  <FormGroup>\n                    <Label for=\"priorityFilter\" className=\"small fw-bold\">\n                      <Flag size={14} className=\"me-1\" />\n                      Priority\n                    </Label>\n                    <Input\n                        id=\"priorityFilter\"\n                        type=\"select\"\n                        value={localFilters.priority ?? ''}\n                        onChange={(e) => handleFilterChange('priority', e.target.value === '' ? null : parseInt(e.target.value))}\n                    >\n                      <option value=\"\">All Priorities</option>\n                      <option value=\"0\">Low</option>\n                      <option value=\"1\">Medium</option>\n                      <option value=\"2\">High</option>\n                    </Input>\n                  </FormGroup>\n                </Col>\n\n                {/* Attachment Filter */}\n                <Col md={2} className=\"mb-1\">\n                  <FormGroup>\n                    <Label for=\"attachmentFilter\" className=\"small fw-bold\">\n                      <Paperclip size={14} className=\"me-1\" />\n                      Attachments\n                    </Label>\n                    <Input\n                        id=\"attachmentFilter\"\n                        type=\"select\"\n                        value={localFilters.hasAttachments ?? ''}\n                        onChange={(e) => handleFilterChange('hasAttachments', e.target.value === '' ? null : e.target.value === 'true')}\n                    >\n                      <option value=\"\">All Tasks</option>\n                      <option value=\"true\">Has Attachments</option>\n                      <option value=\"false\">No Attachments</option>\n                    </Input>\n                  </FormGroup>\n                </Col>\n\n                {/* Visibility Filter */}\n                <Col md={2} className=\"mb-1\">\n                  <FormGroup>\n                    <Label for=\"visibilityFilter\" className=\"small fw-bold\">\n                      <Eye size={14} className=\"me-1\" />\n                      Visibility\n                    </Label>\n                    <Input\n                        id=\"visibilityFilter\"\n                        type=\"select\"\n                        value={localFilters.isPublic ?? ''}\n                        onChange={(e) => handleFilterChange('isPublic', e.target.value === '' ? null : e.target.value === 'true')}\n                    >\n                      <option value=\"\">All Tasks</option>\n                      <option value=\"true\">Public Tasks</option>\n                      <option value=\"false\">Private Tasks</option>\n                    </Input>\n                  </FormGroup>\n                </Col>\n\n                {/* Created Date Range */}\n                <Col md={4} className=\"mb-1\">\n                  <FormGroup>\n                    <Label className=\"small fw-bold d-block\">\n                      <Calendar size={14} className=\"me-1\" />\n                      Created Date\n                    </Label>\n                    <Row>\n                      <Col>\n                        <Input\n                            type=\"date\"\n                            placeholder=\"From\"\n                            value={localFilters.createdDateFrom || ''}\n                            onChange={(e) => handleFilterChange('createdDateFrom', e.target.value)}\n                        />\n                      </Col>\n                      <Col>\n                        <Input\n                            type=\"date\"\n                            placeholder=\"To\"\n                            value={localFilters.createdDateTo || ''}\n                            onChange={(e) => handleFilterChange('createdDateTo', e.target.value)}\n                        />\n                      </Col>\n                    </Row>\n                  </FormGroup>\n                </Col>\n\n                {/* Due Date Range */}\n                <Col md={4} className=\"mb-1\">\n                  <FormGroup>\n                    <Label className=\"small fw-bold d-block\">\n                      Due Date\n                    </Label>\n                    <Row>\n                      <Col >\n                        <Input\n                            type=\"date\"\n                            placeholder=\"From\"\n                            value={localFilters.dueDateFrom || ''}\n                            onChange={(e) => handleFilterChange('dueDateFrom', e.target.value)}\n                        />\n                      </Col>\n                      <Col >\n                        <Input\n                            type=\"date\"\n                            placeholder=\"To\"\n                            value={localFilters.dueDateTo || ''}\n                            onChange={(e) => handleFilterChange('dueDateTo', e.target.value)}\n                        />\n                      </Col>\n                    </Row>\n                  </FormGroup>\n                </Col>\n\n                {/* Action Buttons (Same Row) */}\n                <Col xs=\"12\" className=\"d-flex justify-content-end mt-0 gap-1\">\n                  <Button\n                      color=\"secondary\"\n                      size=\"sm\"\n                      onClick={handleResetFilters}\n                      disabled={!hasActiveFilters}\n                  >\n                    <RefreshCw size={14} className=\"me-1\" />\n                    Reset\n                  </Button>\n                  <Button\n                      color=\"primary\"\n                      size=\"sm\"\n                      onClick={handleApplyFilters}\n                  >\n                    <Filter size={14} className=\"me-1\" />\n                    Apply\n                  </Button>\n                </Col>\n              </Row>\n            </div>\n          </Collapse>\n        </CardBody>\n      </Card>\n  )\n}\n\nexport default TaskFilter","// src/views/task-manager/DeletedBoards.js\n\nimport React, { useState, useEffect } from 'react'\nimport {\n  Card,\n  CardBody,\n  CardHeader,\n  Table,\n  Button,\n  Badge,\n  Alert,\n  Spinner,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter\n} from 'reactstrap'\nimport { Trash2, RefreshCw, RotateCcw, Calendar, User, AlertCircle } from 'react-feather'\nimport { boardService } from './../../services/boardService'\n\nconst DeletedBoards = () => {\n  const [deletedBoards, setDeletedBoards] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(null)\n  const [success, setSuccess] = useState(null)\n  const [restoreModal, setRestoreModal] = useState(false)\n  const [deleteModal, setDeleteModal] = useState(false)\n  const [selectedBoard, setSelectedBoard] = useState(null)\n  const [actionLoading, setActionLoading] = useState(false)\n\n  const loadDeletedBoards = async () => {\n    try {\n      setLoading(true)\n      setError(null)\n      const response = await boardService.getTrashedBoards()\n\n      if (response.success) {\n        setDeletedBoards(response.data.boards || [])\n      } else {\n        setError(response.message || 'Failed to load deleted boards')\n      }\n    } catch (err) {\n      const errorMessage = err.response?.data?.message || 'Failed to load deleted boards. Please try again.'\n      setError(errorMessage)\n      console.error('Error loading deleted boards:', err)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const clearMessages = () => {\n    setTimeout(() => {\n      setError(null)\n      setSuccess(null)\n    }, 5000)\n  }\n\n  const handleRestore = async (board) => {\n    setSelectedBoard(board)\n    setRestoreModal(true)\n  }\n\n  const confirmRestore = async () => {\n    if (!selectedBoard) return\n\n    try {\n      setActionLoading(true)\n      const response = await boardService.restoreBoard(selectedBoard.id)\n\n      if (response.success) {\n        setSuccess('Board restored successfully!')\n        setDeletedBoards(prev => prev.filter(board => board.id !== selectedBoard.id))\n        setRestoreModal(false)\n        setSelectedBoard(null)\n        clearMessages()\n      } else {\n        setError(response.message || 'Failed to restore board')\n        clearMessages()\n      }\n    } catch (err) {\n      const errorMessage = err.response?.data?.message || 'Failed to restore board'\n      setError(errorMessage)\n      clearMessages()\n    } finally {\n      setActionLoading(false)\n    }\n  }\n\n  const handleForceDelete = async (board) => {\n    setSelectedBoard(board)\n    setDeleteModal(true)\n  }\n\n  const confirmForceDelete = async () => {\n    if (!selectedBoard) return\n\n    try {\n      setActionLoading(true)\n      const response = await boardService.forceDeleteBoard(selectedBoard.id)\n\n      if (response.success) {\n        setSuccess('Board permanently deleted!')\n        setDeletedBoards(prev => prev.filter(board => board.id !== selectedBoard.id))\n        setDeleteModal(false)\n        setSelectedBoard(null)\n        clearMessages()\n      } else {\n        setError(response.message || 'Failed to delete board')\n        clearMessages()\n      }\n    } catch (err) {\n      const errorMessage = err.response?.data?.message || 'Failed to delete board'\n      setError(errorMessage)\n      clearMessages()\n    } finally {\n      setActionLoading(false)\n    }\n  }\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'N/A'\n    return new Date(dateString).toLocaleString()\n  }\n\n  useEffect(() => {\n    loadDeletedBoards()\n  }, [])\n\n  if (loading) {\n    return (\n      <Card>\n        <CardBody className=\"text-center\">\n          <Spinner color=\"primary\" />\n          <div className=\"mt-2\">Loading deleted boards...</div>\n        </CardBody>\n      </Card>\n    )\n  }\n\n  return (\n    <div className=\"deleted-boards\">\n      <Card>\n        <CardHeader className=\"d-flex justify-content-between align-items-center\">\n          <div>\n            <h4 className=\"mb-0\">Deleted Boards</h4>\n            <small className=\"text-muted\">Only visible to Super Admins</small>\n          </div>\n          <div className=\"d-flex align-items-center\">\n            <Badge color=\"dark\" className=\"me-2\">\n              {deletedBoards.length} deleted board{deletedBoards.length !== 1 ? 's' : ''}\n            </Badge>\n            <Button color=\"primary\" size=\"sm\" onClick={loadDeletedBoards} disabled={loading}>\n              <RefreshCw size={14} className={loading ? 'spinning' : ''} />\n            </Button>\n          </div>\n        </CardHeader>\n\n        <CardBody>\n          {error && (\n            <Alert color=\"primary\">\n              <h4 className=\"alert-heading\">Error</h4>\n              <p className=\"mb-0\">{error}</p>\n            </Alert>\n          )}\n\n          {success && (\n            <Alert color=\"success\">\n              <strong>Success!</strong> {success}\n            </Alert>\n          )}\n\n          {deletedBoards.length === 0 ? (\n            <div className=\"text-center py-5\">\n              <Trash2 size={48} className=\"text-muted mb-3\" />\n              <h5>No deleted boards found</h5>\n              <p className=\"text-muted\">There are no boards in the trash.</p>\n            </div>\n          ) : (\n            <div className=\"table-responsive\">\n              <Table hover>\n                <thead>\n                  <tr>\n                    <th>Name</th>\n                    {/* <th>Color</th> */}\n                    <th>Tasks</th>\n                    <th>Deleted At</th>\n                    <th>Created At</th>\n                    <th>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {deletedBoards.map((board) => (\n                    <tr key={board.id}>\n                      <td>\n                        <div className=\"d-flex align-items-center\">\n                          <div \n                            className=\"color-indicator me-2\"\n                            style={{\n                              backgroundColor: board.color,\n                              width: '16px',\n                              height: '16px',\n                              borderRadius: '4px'\n                            }}\n                          ></div>\n                          <strong>{board.name}</strong>\n                        </div>\n                      </td>\n                      {/* <td>\n                        <code>{board.color}</code>\n                      </td> */}\n                      <td>\n                        <Badge color=\"secondary\" pill>\n                          {board.tasks_count || 0} tasks\n                        </Badge>\n                      </td>\n                      <td>\n                        <div className=\"d-flex align-items-center\">\n                          <Calendar size={14} className=\"me-1 text-danger\" />\n                          {formatDate(board.deleted_at)}\n                        </div>\n                      </td>\n                      <td>\n                        <div className=\"d-flex align-items-center\">\n                          <Calendar size={14} className=\"me-1 text-muted\" />\n                          {formatDate(board.created_at)}\n                        </div>\n                      </td>\n                      <td>\n                        <div className=\"d-flex\">\n                          <Button\n                            color=\"success\"\n                            size=\"sm\"\n                            className=\"me-1\"\n                            onClick={() => handleRestore(board)}\n                            disabled={actionLoading}\n                          >\n                            <RotateCcw size={14} />\n                          </Button>\n                          <Button\n                            color=\"primary\"\n                            size=\"sm\"\n                            onClick={() => handleForceDelete(board)}\n                            disabled={actionLoading}\n                          >\n                            <Trash2 size={14} />\n                          </Button>\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </Table>\n            </div>\n          )}\n        </CardBody>\n      </Card>\n\n      {/* Restore Confirmation Modal */}\n      <Modal isOpen={restoreModal} toggle={() => setRestoreModal(false)}>\n        <ModalHeader toggle={() => setRestoreModal(false)}>\n          Restore Board\n        </ModalHeader>\n        <ModalBody>\n          {selectedBoard && (\n            <div>\n              <p>Are you sure you want to restore this board?</p>\n              <div className=\"alert alert-info\">\n                <div className=\"d-flex align-items-center\">\n                  <div \n                    className=\"color-indicator me-2\"\n                    style={{\n                      backgroundColor: selectedBoard.color,\n                      width: '20px',\n                      height: '20px',\n                      borderRadius: '4px'\n                    }}\n                  ></div>\n                  <strong>{selectedBoard.name}</strong>\n                </div>\n              </div>\n              <div className=\"small text-muted\">\n                <div>Color: <code>{selectedBoard.color}</code></div>\n                <div>Tasks: {selectedBoard.tasks_count || 0}</div>\n                <div>Deleted: {formatDate(selectedBoard.deleted_at)}</div>\n              </div>\n            </div>\n          )}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={() => setRestoreModal(false)} disabled={actionLoading}>\n            Cancel\n          </Button>\n          <Button color=\"success\" onClick={confirmRestore} disabled={actionLoading}>\n            {actionLoading ? <Spinner size=\"sm\" /> : 'Restore Board'}\n          </Button>\n        </ModalFooter>\n      </Modal>\n\n      {/* Permanent Delete Confirmation Modal */}\n      <Modal isOpen={deleteModal} toggle={() => setDeleteModal(false)}>\n        <ModalHeader toggle={() => setDeleteModal(false)}>\n          Permanently Delete Board\n        </ModalHeader>\n        <ModalBody>\n          {selectedBoard && (\n            <div>\n              <Alert color=\"primary\">\n                <h5 className=\"alert-heading\">Warning!</h5>\n                <p className=\"mb-0\">\n                  This action cannot be undone. The board will be permanently deleted from the system and cannot be restored.\n                </p>\n              </Alert>\n              <p>Are you sure you want to permanently delete this board?</p>\n              <div className=\"alert alert-warning\">\n                <div className=\"d-flex align-items-center\">\n                  <div \n                    className=\"color-indicator me-2\"\n                    style={{\n                      backgroundColor: selectedBoard.color,\n                      width: '20px',\n                      height: '20px',\n                      borderRadius: '4px'\n                    }}\n                  ></div>\n                  <strong>{selectedBoard.name}</strong>\n                </div>\n              </div>\n              <div className=\"small text-muted\">\n                <div>Color: <code>{selectedBoard.color}</code></div>\n                <div>Tasks: {selectedBoard.tasks_count || 0}</div>\n                <div>Deleted: {formatDate(selectedBoard.deleted_at)}</div>\n              </div>\n            </div>\n          )}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={() => setDeleteModal(false)} disabled={actionLoading}>\n            Cancel\n          </Button>\n          <Button color=\"primary\" onClick={confirmForceDelete} disabled={actionLoading}>\n            {actionLoading ? <Spinner size=\"sm\" /> : 'Permanently Delete'}\n          </Button>\n        </ModalFooter>\n      </Modal>\n    </div>\n  )\n}\n\nexport default DeletedBoards","// src/views/task-manager/BoardManager.js - Complete version\n\nimport React, { useState, useEffect } from 'react'\nimport {\n  Card,\n  CardBody,\n  CardHeader,\n  Table,\n  Button,\n  Input,\n  FormGroup,\n  Label,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Badge,\n  Alert,\n  Spinner,\n  Row,\n  Col,\n  Nav,\n  NavItem,\n  NavLink,\n  TabContent,\n  TabPane\n} from 'reactstrap'\nimport { Plus, Edit, Trash2, Save, X, MoreVertical, Image, Trash, RefreshCw  } from 'react-feather'\nimport { boardService } from './../../services/boardService'\nimport DeletedBoards from './DeletedBoards'\nimport classnames from 'classnames'\n\nconst BoardManager = () => {\n  const [boards, setBoards] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(null)\n  const [success, setSuccess] = useState(null)\n  const [modalOpen, setModalOpen] = useState(false)\n  const [deleteModal, setDeleteModal] = useState(false)\n  const [editingBoard, setEditingBoard] = useState(null)\n  const [formData, setFormData] = useState({ name: '', color: '#6c757d' })\n  const [actionLoading, setActionLoading] = useState(false)\n  const [activeTab, setActiveTab] = useState('1')\n\n  const defaultColors = [\n    '#6c757d', '#007bff', '#28a745', '#dc3545', '#ffc107',\n    '#17a2b8', '#6f42c1', '#e83e8c', '#fd7e14', '#20c997'\n  ]\n\n  const toggleTab = (tab) => {\n    if (activeTab !== tab) {\n      setActiveTab(tab)\n    }\n  }\n\n  const clearMessages = () => {\n    setTimeout(() => {\n      setError(null)\n      setSuccess(null)\n    }, 5000)\n  }\n\n  const loadBoards = async () => {\n    try {\n      setLoading(true)\n      setError(null)\n      const response = await boardService.getBoards()\n\n      if (response.success) {\n        setBoards(response.data.boards || [])\n      } else {\n        setError(response.message || 'Failed to load boards')\n      }\n    } catch (err) {\n      const errorMessage = err.response?.data?.message || 'Failed to load boards. Please try again.'\n      setError(errorMessage)\n      console.error('Error loading boards:', err)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleCreate = () => {\n    setEditingBoard(null)\n    setFormData({ name: '', color: '#6c757d' })\n    setModalOpen(true)\n  }\n\n  const handleEdit = (board) => {\n    if (board.is_default) {\n      setError('Cannot edit default boards')\n      clearMessages()\n      return\n    }\n    setEditingBoard(board)\n    setFormData({ name: board.name, color: board.color })\n    setModalOpen(true)\n  }\n\n  const handleDelete = (board) => {\n    if (board.is_default) {\n      setError('Cannot delete default boards')\n      clearMessages()\n      return\n    }\n    setEditingBoard(board)\n    setDeleteModal(true)\n  }\n\n  const handleSubmit = async () => {\n    if (!formData.name.trim()) {\n      setError('Board name is required')\n      clearMessages()\n      return\n    }\n\n    try {\n      setActionLoading(true)\n      let response\n\n      if (editingBoard) {\n        response = await boardService.updateBoard(editingBoard.id, formData)\n      } else {\n        response = await boardService.createBoard(formData)\n      }\n\n      if (response.success) {\n        setSuccess(editingBoard ? 'Board updated successfully!' : 'Board created successfully!')\n        setModalOpen(false)\n        setEditingBoard(null)\n        setFormData({ name: '', color: '#6c757d' })\n        loadBoards()\n        clearMessages()\n      } else {\n        setError(response.message || 'Failed to save board')\n        clearMessages()\n      }\n    } catch (err) {\n      const errorMessage = err.response?.data?.message || 'Failed to save board'\n      setError(errorMessage)\n      clearMessages()\n    } finally {\n      setActionLoading(false)\n    }\n  }\n\n  const confirmDelete = async () => {\n    try {\n      setActionLoading(true)\n      const response = await boardService.deleteBoard(editingBoard.id)\n\n      if (response.success) {\n        setSuccess('Board deleted successfully!')\n        setDeleteModal(false)\n        setEditingBoard(null)\n        loadBoards()\n        clearMessages()\n      } else {\n        setError(response.message || 'Failed to delete board')\n        clearMessages()\n      }\n    } catch (err) {\n      const errorMessage = err.response?.data?.message || 'Failed to delete board'\n      setError(errorMessage)\n      clearMessages()\n    } finally {\n      setActionLoading(false)\n    }\n  }\n\n  const handleColorSelect = (color) => {\n    setFormData({ ...formData, color })\n  }\n\n  useEffect(() => {\n    loadBoards()\n  }, [])\n\n  if (loading) {\n    return (\n      <Card>\n        <CardBody className=\"text-center\">\n          <Spinner color=\"primary\" />\n          <div className=\"mt-2\">Loading boards...</div>\n        </CardBody>\n      </Card>\n    )\n  }\n\n  return (\n    <div className=\"board-manager\">\n      <Card>\n        {/* <CardHeader>\n          <h4 className=\"mb-0\">Board Management</h4>\n          <small className=\"text-muted\">Only Super Admins can manage boards</small>\n        </CardHeader> */}\n\n        <CardBody className=\"p-0\">\n          <Nav tabs className=\"px-3 pt-1\">\n            <NavItem>\n              <NavLink\n                className={classnames({ active: activeTab === '1' })}\n                onClick={() => toggleTab('1')}\n              >\n                Active Boards\n              </NavLink>\n            </NavItem>\n            <NavItem>\n              <NavLink\n                className={classnames({ active: activeTab === '2' })}\n                onClick={() => toggleTab('2')}\n              >\n                <Trash size={14} className=\"me-1\" />\n                Deleted Boards\n              </NavLink>\n            </NavItem>\n          </Nav>\n\n          <TabContent activeTab={activeTab}>\n            <TabPane tabId=\"1\">\n              <div className=\"px-3 py-1\">\n          <div className=\"d-flex justify-content-between align-items-center mb-3\">\n  <div>\n    <h5 className=\"mb-0\">Active Boards</h5>\n    <small className=\"text-muted\">Manage your active boards</small>\n  </div>\n  <div>\n    <Button \n      color=\"primary\" \n      size=\"sm\" \n      onClick={loadBoards} \n      disabled={loading}\n      className=\"me-0\"\n    >\n      <RefreshCw size={14} className=\"me-1\" />\n      \n    </Button>\n    <Button color=\"secondary\" size=\"sm\" onClick={handleCreate}>\n      <Plus size={14} className=\"me-1\" />\n      New Board\n    </Button>\n  </div>\n</div>\n\n                {error && (\n                  <Alert color=\"primary\">\n                    <h4 className=\"alert-heading\">Error</h4>\n                    <p className=\"mb-0\">{error}</p>\n                  </Alert>\n                )}\n\n                {success && (\n                  <Alert color=\"success\">\n                    <strong>Success!</strong> {success}\n                  </Alert>\n                )}\n\n                <div className=\"table-responsive\">\n                  <Table hover>\n                    <thead>\n                      <tr>\n                        <th width=\"50\"></th>\n                        <th>Name</th>\n                        {/* <th>Color</th> */}\n                        <th>Type</th>\n                        <th>Tasks</th>\n                        <th>Actions</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {boards.map((board) => (\n                        <tr key={board.id}>\n                          <td>\n                            <MoreVertical size={16} className=\"text-muted\" />\n                          </td>\n                          <td>\n                            <div className=\"d-flex align-items-center\">\n                              <div \n                                className=\"color-indicator me-2\"\n                                style={{\n                                  backgroundColor: board.color,\n                                  width: '16px',\n                                  height: '16px',\n                                  borderRadius: '4px'\n                                }}\n                              ></div>\n                              <strong>{board.name}</strong>\n                            </div>\n                          </td>\n                          {/* <td>\n                            <code>{board.color}</code>\n                          </td> */}\n                          <td>\n                            {board.is_default ? (\n                              <Badge color=\"secondary\">Default</Badge>\n                            ) : (\n                              <Badge color=\"primary\">Custom</Badge>\n                            )}\n                          </td>\n                          <td>\n                            <Badge color=\"secondary\" pill>\n                              {board.tasks_count || 0} tasks\n                            </Badge>\n                          </td>\n                          <td>\n                            <div className=\"d-flex\">\n                              {!board.is_default && (\n                                <>\n                                  <Button\n                                    color=\"primary\"\n                                    size=\"sm\"\n                                    className=\"me-1\"\n                                    onClick={() => handleEdit(board)}\n                                  >\n                                    <Edit size={12} />\n                                  </Button>\n                                  <Button\n                                    color=\"primary\"\n                                    size=\"sm\"\n                                    onClick={() => handleDelete(board)}\n                                    disabled={board.tasks_count > 0}\n                                    title={board.tasks_count > 0 ? 'Cannot delete board with tasks' : 'Delete board'}\n                                  >\n                                    <Trash2 size={12} />\n                                  </Button>\n                                </>\n                              )}\n                              {board.is_default && (\n                                <span className=\"text-muted small\">System Board</span>\n                              )}\n                            </div>\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </Table>\n                </div>\n\n                {boards.length === 0 && (\n                  <div className=\"text-center py-5 text-muted\">\n                    <div className=\"mb-3\">\n                      <Image size={48} className=\"opacity-25\" />\n                    </div>\n                    <h5>No boards found</h5>\n                    <p>Create your first custom board to get started</p>\n                  </div>\n                )}\n              </div>\n            </TabPane>\n\n            <TabPane tabId=\"2\">\n              <DeletedBoards />\n            </TabPane>\n          </TabContent>\n        </CardBody>\n      </Card>\n\n      {/* Create/Edit Modal */}\n      <Modal isOpen={modalOpen} toggle={() => setModalOpen(false)}>\n        <ModalHeader toggle={() => setModalOpen(false)}>\n          {editingBoard ? 'Edit Board' : 'Create New Board'}\n        </ModalHeader>\n        <ModalBody>\n          <FormGroup>\n            <Label for=\"board-name\">Board Name</Label>\n            <Input\n              id=\"board-name\"\n              value={formData.name}\n              onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n              placeholder=\"Enter board name (e.g., 'Review', 'Testing', 'Backlog')\"\n            />\n          </FormGroup>\n\n          <FormGroup>\n            <Label for=\"board-color\">Board Color</Label>\n            <div className=\"mb-3\">\n              <div className=\"d-flex flex-wrap gap-2 mb-2\">\n                {defaultColors.map((color) => (\n                  <button\n                    key={color}\n                    type=\"button\"\n                    className={`color-option ${formData.color === color ? 'selected' : ''}`}\n                    style={{ backgroundColor: color }}\n                    onClick={() => handleColorSelect(color)}\n                    title={color}\n                  ></button>\n                ))}\n              </div>\n              <Input\n                id=\"board-color\"\n                type=\"color\"\n                value={formData.color}\n                onChange={(e) => setFormData({ ...formData, color: e.target.value })}\n              />\n            </div>\n          </FormGroup>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={() => setModalOpen(false)}>\n            Cancel\n          </Button>\n          <Button color=\"primary\" onClick={handleSubmit} disabled={actionLoading}>\n            {actionLoading ? <Spinner size=\"sm\" /> : editingBoard ? 'Update' : 'Create'}\n          </Button>\n        </ModalFooter>\n      </Modal>\n\n      {/* Delete Confirmation Modal */}\n      <Modal isOpen={deleteModal} toggle={() => setDeleteModal(false)}>\n        <ModalHeader toggle={() => setDeleteModal(false)}>\n          Delete Board\n        </ModalHeader>\n        <ModalBody>\n          {editingBoard && (\n            <div>\n              <Alert color=\"primary\">\n                <h5 className=\"alert-heading\">Warning!</h5>\n                <p className=\"mb-0\">\n                  This action cannot be undone. The board will be permanently deleted.\n                </p>\n              </Alert>\n              <p>Are you sure you want to delete this board?</p>\n              <div className=\"alert alert-warning p-3\">\n                <div className=\"d-flex align-items-center\">\n                  <div \n                    className=\"color-indicator me-2\"\n                    style={{\n                      backgroundColor: editingBoard.color,\n                      width: '20px',\n                      height: '20px',\n                      borderRadius: '4px'\n                    }}\n                  ></div>\n                  <strong>{editingBoard.name}</strong>\n                </div>\n                {editingBoard.tasks_count > 0 && (\n                  <div className=\"mt-2 text-danger\">\n                    <strong>Warning:</strong> This board contains {editingBoard.tasks_count} task(s). \n                    You must move or delete these tasks before deleting the board.\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={() => setDeleteModal(false)} disabled={actionLoading}>\n            Cancel\n          </Button>\n          <Button \n            color=\"primary\" \n            onClick={confirmDelete} \n            disabled={actionLoading || editingBoard?.tasks_count > 0}\n          >\n            {actionLoading ? <Spinner size=\"sm\" /> : 'Delete Board'}\n          </Button>\n        </ModalFooter>\n      </Modal>\n\n      <style jsx>{`\n        .color-option {\n          width: 30px;\n          height: 30px;\n          border: 2px solid transparent;\n          border-radius: 4px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n        .color-option:hover {\n          transform: scale(1.1);\n        }\n        .color-option.selected {\n          border-color: #333;\n          transform: scale(1.1);\n        }\n      `}</style>\n    </div>\n  )\n}\n\nexport default BoardManager","// src/views/task-manager/index.js (Updated with filters)\n\nimport React, { useState, useEffect, useMemo } from 'react'\nimport { Card, CardBody, Alert, Spinner, Nav, NavItem, NavLink, TabContent, TabPane } from 'reactstrap'\nimport { useTasksFixed as useTasks } from '../../data/use-tasks-fixed'\nimport TaskBoard from './TaskBoard'\nimport TaskModal from './TaskModal'\nimport DeletedTasks from './DeletedTasks'\nimport TaskFilter from './TaskFilter'\nimport useAuth from '../../data/use-auth'\nimport { api as userApi } from '../../data/use-user'\nimport { taskService } from '../../services/taskService'\nimport { filterService } from '../../services/filterService'\nimport { boardService } from '../../services/boardService'\nimport classnames from 'classnames'\nimport './taskManager.scss'\nimport BoardManager from './BoardManager'\n\nconst TaskManager = () => {\n  const {\n    tasks,\n    loading,\n    error,\n    addTask,\n    updateTask,\n    deleteTask,\n    updateTaskSilently,\n    refreshTasks\n  } = useTasks()\n\n  const [selectedTask, setSelectedTask] = useState(null)\n  const [isModalOpen, setIsModalOpen] = useState(false)\n  const [actionError, setActionError] = useState(null)\n  const [actionSuccess, setActionSuccess] = useState(null)\n  const [availableUsers, setAvailableUsers] = useState([])\n  const [superAdminIds, setSuperAdminIds] = useState([])\n  const [usersLoading, setUsersLoading] = useState(true)\n  const [boards, setBoards] = useState([])\n  const [boardsLoading, setBoardsLoading] = useState(true)\n\n  // Filter state\n  const [filters, setFilters] = useState({\n    users: [],\n    userRole: 'both',\n    priority: null,\n    createdDateFrom: null,\n    createdDateTo: null,\n    dueDateFrom: null,\n    dueDateTo: null,\n    searchTerm: '',\n    status: null,\n    hasAttachments: null,\n    isPublic: null\n  })\n\n  const { user: currentUser, loading: authLoading, authenticated } = useAuth()\n\n  const [activeTab, setActiveTab] = useState('1')\n\n  // Check if user is super admin\n  const isSuperAdmin = currentUser?.email === 'super@admin.com' ||\n      currentUser?.roles?.includes('super') ||\n      currentUser?.permissions?.includes('all')\n\n  // Load boards\n  const loadBoards = async () => {\n    try {\n      setBoardsLoading(true)\n      const response = await boardService.getBoards()\n      if (response.success) {\n        setBoards(response.data.boards || [])\n      }\n    } catch (error) {\n      console.error('Error loading boards:', error)\n    } finally {\n      setBoardsLoading(false)\n    }\n  }\n\n  // Fetch available users\n  const fetchAvailableUsers = async () => {\n    try {\n      setUsersLoading(true)\n      // console.log(' Fetching users with roles...')\n\n      try {\n        const response = await taskService.getAvailableUsers()\n        // console.log(' Users with roles from task service:', response.data)\n\n        if (response.success && response.data.users) {\n          setAvailableUsers(response.data.users)\n          setSuperAdminIds(response.data.super_admins || [])\n          return\n        }\n      } catch (taskServiceError) {\n        console.warn(' Task service users endpoint not available, trying user API...')\n      }\n\n      // Create fallback users\n      const createFallbackUsers = () => {\n        const fallbackUsers = [\n          { id: 1, name: 'Super Admin', email: 'super@admin.com', roles: ['super'] },\n          { id: 2, name: 'Admin User', email: 'admin@admin.com', roles: ['admin'] },\n          { id: 3, name: 'Cashier User', email: 'cashier@admin.com', roles: ['cashier'] },\n          { id: 4, name: 'Manager User', email: 'manager@admin.com', roles: ['manager'] },\n          { id: 5, name: 'Product Manager', email: 'product@admin.com', roles: ['product_manager'] }\n        ]\n\n        if (currentUser && !fallbackUsers.find(u => u.id === currentUser.id)) {\n          fallbackUsers.push({\n            id: currentUser.id,\n            name: currentUser.name,\n            email: currentUser.email,\n            roles: currentUser.roles || []\n          })\n        }\n\n        return fallbackUsers\n      }\n      // Fallback to existing user API\n      // console.log(' Falling back to user API...')\n      const users = await userApi.autocomplete('')\n      // console.log(' Users from autocomplete API:', users)\n\n      if (users && Array.isArray(users)) {\n        const usersWithRoles = users.map(user => ({\n          id: user.id,\n          name: user.name,\n          email: user.email,\n          roles: user.roles || []\n        }))\n        setAvailableUsers(usersWithRoles)\n\n        const superAdmins = usersWithRoles.filter(user => user.roles?.includes('super')\n        ).map(user => user.id)\n        setSuperAdminIds(superAdmins)\n      } else {\n        // console.warn(' No users returned from API, using fallback')\n        const fallbackUsers = createFallbackUsers()\n        setAvailableUsers(fallbackUsers)\n        const superAdmins = fallbackUsers.filter(user => user.roles?.includes('super')\n        ).map(user => user.id)\n        setSuperAdminIds(superAdmins)\n      }\n\n    } catch (error) {\n      // console.error(' Error fetching users from all sources:', error)\n      const fallbackUsers = createFallbackUsers()\n      setAvailableUsers(fallbackUsers)\n      const superAdmins = fallbackUsers.filter(user => user.roles?.includes('super')\n      ).map(user => user.id)\n      setSuperAdminIds(superAdmins)\n    } finally {\n      setUsersLoading(false)\n    }\n  }\n\n\n  // Flatten all tasks for filtering\n  const allTasks = useMemo(() => {\n    if (!tasks) return []\n\n    const flattenedTasks = []\n    Object.values(tasks).forEach(boardTasks => {\n      if (Array.isArray(boardTasks)) {\n        flattenedTasks.push(...boardTasks)\n      }\n    })\n\n    return flattenedTasks\n  }, [tasks])\n\n  // Apply filters to tasks\n  const filteredTasks = useMemo(() => {\n    return filterService.applyFilters(allTasks, filters, availableUsers, currentUser)\n  }, [allTasks, filters, availableUsers, currentUser])\n\n  // Group filtered tasks by board for display\n  const filteredTasksByBoard = useMemo(() => {\n    const grouped = {}\n\n    if (!tasks) return grouped\n\n    // Initialize with board structure\n    Object.keys(tasks).forEach(boardId => {\n      grouped[boardId] = []\n    })\n\n    // Group filtered tasks by their board_id\n    filteredTasks.forEach(task => {\n      if (task.board_id && grouped[task.board_id]) {\n        grouped[task.board_id].push(task)\n      }\n    })\n\n    return grouped\n  }, [filteredTasks, tasks])\n\n  // Handle filter changes\n  const handleFiltersChange = (newFilters) => {\n    // console.log(' New filters applied:', newFilters)\n    setFilters(newFilters)\n  }\n\n  const clearMessages = () => {\n    setTimeout(() => {\n      setActionError(null)\n      setActionSuccess(null)\n    }, 5000)\n  }\n  const getCurrentUserFromStorage = () => {\n    try {\n      const userData = localStorage.getItem('user')\n      if (userData) {\n        const parsed = JSON.parse(userData)\n        return parsed.user || parsed\n      }\n      return null\n    } catch (error) {\n      console.error('Error getting user from storage:', error)\n      return null\n    }\n  }\n  const handleAddTask = async (taskData) => {\n    // console.log(' Adding task:', taskData)\n    setActionError(null)\n    setActionSuccess(null)\n\n    try {\n      const effectiveUser = currentUser || getCurrentUserFromStorage()\n\n      if (!effectiveUser) {\n        throw new Error('No user found. Please log in again.')\n      }\n\n      const taskWithCreator = {\n        ...taskData,\n        user_id: effectiveUser.id,\n        creator_name: effectiveUser.name,\n        creator_email: effectiveUser.email\n      }\n\n      await addTask(taskWithCreator)\n      clearMessages()\n    } catch (error) {\n      const errorMessage = error.message || 'Failed to create task'\n      setActionError(errorMessage)\n      clearMessages()\n    }\n  }\n\n  const handleUpdateTask = async (taskId, updates, isSilent = false) => {\n    // console.log(' Updating task - ID:', taskId, 'Updates:', updates, 'Silent:', isSilent)\n\n    if (!taskId) {\n      console.error('Cannot update task: taskId is null or undefined')\n      return\n    }\n\n    if (!isSilent) {\n      setActionError(null)\n      setActionSuccess(null)\n    }\n\n    const cleanTaskId = typeof taskId === 'object' ? taskId.id : taskId\n\n    try {\n      if (isSilent) {\n        await updateTaskSilently(cleanTaskId, updates)\n      } else {\n        await updateTask(cleanTaskId, updates)\n        clearMessages()\n      }\n    } catch (error) {\n      if (!isSilent) {\n        let errorMessage = error.message || 'Failed to update task'\n\n        if (errorMessage.includes('not the creator') || errorMessage.includes('access denied')) {\n          errorMessage = \"You don't have permission to modify this task.\"\n        } else if (errorMessage.includes('not found')) {\n          errorMessage = \"Task not found. It may have been deleted.\"\n        } else if (error.response?.data?.message) {\n          errorMessage = error.response.data.message\n        }\n\n        setActionError(errorMessage)\n        clearMessages()\n      }\n      throw error\n    }\n  }\n\n  const handleDeleteTask = async (taskId) => {\n    // console.log(' Deleting task - ID:', taskId)\n    setActionError(null)\n    setActionSuccess(null)\n\n    if (!taskId) {\n      console.error('Cannot delete task: taskId is null or undefined')\n      return\n    }\n\n    const cleanTaskId = typeof taskId === 'object' ? taskId.id : taskId\n\n    try {\n      await deleteTask(cleanTaskId)\n      setActionSuccess('Task deleted successfully!')\n      clearMessages()\n\n      if (selectedTask && selectedTask.id === cleanTaskId) {\n        setIsModalOpen(false)\n        setSelectedTask(null)\n      }\n    } catch (error) {\n      let errorMessage = error.message || 'Failed to delete task'\n\n      if (errorMessage.includes('not the creator') || errorMessage.includes('access denied')) {\n        errorMessage = \"You don't have permission to delete this task.\"\n      } else if (errorMessage.includes('not found')) {\n        errorMessage = \"Task not found. It may have been already deleted.\"\n      } else if (error.response?.data?.message) {\n        errorMessage = error.response.data.message\n      }\n\n      setActionError(errorMessage)\n      clearMessages()\n    }\n  }\n\n  const handleTaskClick = (task) => {\n    // console.log(' Task clicked:', task)\n    setSelectedTask(task)\n    setIsModalOpen(true)\n  }\n\n  const handleModalClose = () => {\n    setIsModalOpen(false)\n    setSelectedTask(null)\n  }\n\n  const handleModalUpdate = async (taskId, updates, isSilent = false) => {\n    if (updates === null) {\n      await handleDeleteTask(taskId)\n    } else {\n      await handleUpdateTask(taskId, updates, isSilent)\n    }\n  }\n\n  const toggleTab = (tab) => {\n    if (activeTab !== tab) {\n      setActiveTab(tab)\n    }\n  }\n\n  const getUserAccessibleBoards = () => {\n    if (!boards.length) return []\n\n    return boards.filter(board => {\n      // Always show default boards\n      if (['todo', 'inProgress', 'completed'].includes(board.name)) {\n        return true\n      }\n\n      // Super admins see all boards\n      if (isSuperAdmin) {\n        return true\n      }\n\n      // For non-super admin users, only show boards that have their tasks\n      const boardTasks = tasks[board.id] || []\n      const hasUserTasks = boardTasks.some(task => {\n        // User can see the task if:\n        // 1. They created it\n        // 2. They are assigned to it\n        // 3. The task is public\n        return task.user_id === currentUser?.id ||\n            (task.assignees && task.assignees.includes(currentUser?.id)) ||\n            task.is_public\n      })\n\n      return hasUserTasks\n    })\n  }\n\n  useEffect(() => {\n    if (authenticated) {\n      fetchAvailableUsers()\n      loadBoards()\n    }\n  }, [authenticated])\n\n  // Debug user data\n  useEffect(() => {\n    // console.log(' Current User:', currentUser)\n    // console.log(' Authenticated:', authenticated)\n    // console.log(' Available Users:', availableUsers)\n    // console.log(' Super Admin IDs:', superAdminIds)\n    // console.log(' Active Filters:', filters)\n    // console.log(' Total Tasks:', allTasks.length)\n    // console.log(' Filtered Tasks:', filteredTasks.length)\n  }, [currentUser, authenticated, availableUsers, superAdminIds, filters, allTasks.length, filteredTasks.length])\n\n  if (authLoading || usersLoading || boardsLoading) {\n    return (\n        <Card>\n          <CardBody className=\"text-center\">\n            <Spinner color=\"primary\" />\n            <div className=\"mt-2\">Loading authentication and users...</div>\n          </CardBody>\n        </Card>\n    )\n  }\n\n  const effectiveUser = currentUser || getCurrentUserFromStorage()\n\n  if (!authenticated || !effectiveUser) {\n    return (\n        <Alert color=\"warning\">\n          <h4 className=\"alert-heading\">Authentication Required</h4>\n          <p className=\"mb-0\">Please log in to access the task manager.</p>\n        </Alert>\n    )\n  }\n\n  return (\n      <div className=\"task-manager\">\n\n        <Nav tabs className=\"mb-1\">\n          <NavItem>\n            <NavLink\n                className={classnames({ active: activeTab === '1' })}\n                onClick={() => toggleTab('1')}\n            >\n              Active Tasks\n            </NavLink>\n          </NavItem>\n          {isSuperAdmin && (\n              <>\n                <NavItem>\n                  <NavLink\n                      className={classnames({ active: activeTab === '2' })}\n                      onClick={() => toggleTab('2')}\n                  >\n                    Deleted Tasks\n                  </NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink\n                      className={classnames({ active: activeTab === '3' })}\n                      onClick={() => toggleTab('3')}\n                  >\n                    Board Management\n                  </NavLink>\n                </NavItem>\n              </>\n          )}\n        </Nav>\n\n        <TabContent activeTab={activeTab}>\n          <TabPane tabId=\"1\">\n            {/* Task Filter Component */}\n            <TaskFilter\n                filters={filters}\n                onFiltersChange={handleFiltersChange}\n                availableUsers={availableUsers}\n                currentUser={effectiveUser}\n                totalTasks={allTasks.length}\n                filteredTasks={filteredTasks.length}\n                boards={boards}\n                allTasks={allTasks}\n            />\n\n            {error && (\n                <Alert color=\"danger\" className=\"mb-3\">\n                  <h4 className=\"alert-heading\">Error Loading Tasks</h4>\n                  <p className=\"mb-0\">{error}</p>\n                </Alert>\n            )}\n\n            {actionSuccess && (\n                <Alert color=\"success\" className=\"mb-3\">\n                  <strong>Success!</strong> {actionSuccess}\n                </Alert>\n            )}\n\n            {actionError && (\n                <Alert color=\"danger\" className=\"mb-3\">\n                  <h4 className=\"alert-heading\">Action Failed</h4>\n                  <p className=\"mb-0\">{actionError}</p>\n                </Alert>\n            )}\n\n            {loading ? (\n                <Card>\n                  <CardBody className=\"text-center\">\n                    <Spinner color=\"primary\" />\n                    <div className=\"mt-2\">Loading tasks...</div>\n                  </CardBody>\n                </Card>\n            ) : (\n                <TaskBoard\n                    tasks={filteredTasksByBoard}\n                    onAddTask={handleAddTask}\n                    onUpdateTask={handleUpdateTask}\n                    onDeleteTask={handleDeleteTask}\n                    onTaskClick={handleTaskClick}\n                    availableUsers={availableUsers}\n                    currentUser={effectiveUser}\n                    superAdminIds={superAdminIds}\n                    onRefresh={refreshTasks}\n                    loading={loading}\n                />\n            )}\n          </TabPane>\n\n          <TabPane tabId=\"2\">\n            {isSuperAdmin ? (\n                <DeletedTasks />\n            ) : (\n                <Alert color=\"warning\">\n                  <h4 className=\"alert-heading\">Access Denied</h4>\n                  <p className=\"mb-0\">Only Super Admins can view deleted tasks.</p>\n                </Alert>\n            )}\n          </TabPane>\n          <TabPane tabId=\"3\">\n            {isSuperAdmin ? (\n                <BoardManager />\n            ) : (\n                <Alert color=\"warning\">\n                  <h4 className=\"alert-heading\">Access Denied</h4>\n                  <p className=\"mb-0\">Only Super Admins can manage boards.</p>\n                </Alert>\n            )}\n          </TabPane>\n        </TabContent>\n\n        <TaskModal\n            isOpen={isModalOpen}\n            toggle={handleModalClose}\n            task={selectedTask}\n            onUpdate={handleModalUpdate}\n            availableUsers={availableUsers}\n            currentUser={effectiveUser}\n            superAdminIds={superAdminIds}\n            userAccessibleBoards={getUserAccessibleBoards()} // NEW: Pass accessible boards\n\n        />\n      </div>\n  )\n}\n\nexport default TaskManager","// src/data/use-tasks-fixed.js - Updated version\nimport { useState, useEffect, useCallback } from 'react'\nimport { taskService } from '../services/taskService'\n\nexport const useTasksFixed = () => {\n  const [tasks, setTasks] = useState({})\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(null)\n\n  const loadTasks = useCallback(async () => {\n    try {\n      setLoading(true)\n      setError(null)\n      // console.log(' Loading tasks from board data...')\n      \n      const response = await taskService.getBoardData()\n      // console.log(' Tasks response:', response)\n\n      if (response.success) {\n        // The response data should be an object with board IDs as keys\n        // console.log(' Setting tasks data:', response.data)\n        setTasks(response.data || {})\n      } else {\n        setError(response.message || 'Failed to load tasks')\n      }\n    } catch (err) {\n      const errorMessage = err.response?.data?.message || 'Failed to load tasks. Please try again.'\n      setError(errorMessage)\n      console.error('Error loading tasks:', err)\n    } finally {\n      setLoading(false)\n    }\n  }, [])\n\n  const addTask = useCallback(async (taskData) => {\n    try {\n      // console.log(' Adding task:', taskData)\n      const response = await taskService.createTask(taskData)\n      \n      if (response.success) {\n        // console.log(' Task created successfully, reloading tasks...')\n        // Reload tasks to get the updated list\n        await loadTasks()\n        return response.data.task\n      } else {\n        throw new Error(response.message || 'Failed to create task')\n      }\n    } catch (error) {\n      console.error('Error adding task:', error)\n      throw error\n    }\n  }, [loadTasks])\n\n  const updateTask = useCallback(async (taskId, updates) => {\n    try {\n      // console.log(' Updating task:', taskId, updates)\n      const response = await taskService.updateTask(taskId, updates)\n      \n      if (response.success) {\n        // console.log(' Task updated successfully, reloading tasks...')\n        // Reload tasks to get the updated list\n        await loadTasks()\n        return response.data.task\n      } else {\n        throw new Error(response.message || 'Failed to update task')\n      }\n    } catch (error) {\n      console.error('Error updating task:', error)\n      throw error\n    }\n  }, [loadTasks])\n\n  const deleteTask = useCallback(async (taskId) => {\n    try {\n      // console.log(' Deleting task:', taskId)\n      const response = await taskService.deleteTask(taskId)\n      \n      if (response.success) {\n        // console.log(' Task deleted successfully, reloading tasks...')\n        // Reload tasks to get the updated list\n        await loadTasks()\n      } else {\n        throw new Error(response.message || 'Failed to delete task')\n      }\n    } catch (error) {\n      console.error('Error deleting task:', error)\n      throw error\n    }\n  }, [loadTasks])\n\n  useEffect(() => {\n    loadTasks()\n  }, [loadTasks])\n\n  return {\n    tasks,\n    loading,\n    error,\n    addTask,\n    updateTask,\n    deleteTask,\n    refreshTasks: loadTasks\n  }\n}","import { Fragment, useContext } from 'react'\nimport { Row, Col, Card, CardBody } from 'reactstrap'\nimport Breadcrumbs from '@components/breadcrumbs'\nimport SessionByDevice from './SessionByDevice'\nimport ProductOrders from './ProductOrders'\nimport Customers from './Customers'\nimport Sales from './Sales'\nimport SupportTracker from './SupportTracker'\nimport RevenueReport from './RevenueReport'\nimport Revenue from './Revenue'\nimport GoalOverview from './GoalOverview'\nimport AvgSession from './AvgSessions'\nimport Sales2 from './Sales2'\nimport Earnings from './Earnings'\nimport { ThemeColors } from '@src/utility/context/ThemeColors'\nimport TaskManager from '../task-manager'\nimport '@styles/react/libs/charts/apex-charts.scss'\n\nconst AnalyticsCards = () => {\n\n\n  const context = useContext(ThemeColors)\n  return (\n    <Fragment>\n      <Breadcrumbs breadCrumbTitle='Analytics Cards' breadCrumbParent='Card' breadCrumbActive='Analytics Cards' />\n      <div>\n      <Row className=\"mt-2\">\n        <Col sm=\"12\">\n          <Card>\n            <CardBody>\n              <h2>Task Manager</h2>\n              <TaskManager />\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n    </div>\n      <Row className='match-height'>\n        <Col lg='6' sm='12'>\n          <SupportTracker primary={context.colors.primary.main} danger={context.colors.danger.main} />\n        </Col>\n        <Col lg='6' sm='12'>\n          <AvgSession primary={context.colors.primary.main} />\n        </Col>\n      </Row>\n      <Row className='match-height'>\n        <Col lg='8' sm='12'>\n          <RevenueReport primary={context.colors.primary.main} warning={context.colors.warning.main} />\n        </Col>\n        <Col lg='4' sm='12'>\n          <GoalOverview success={context.colors.success.main} />\n        </Col>\n      </Row>\n      <Row className='match-height'>\n        <Col lg='8' sm='12'>\n          <Revenue primary={context.colors.primary.main} />\n        </Col>\n        <Col lg='4' sm='12'>\n          <Sales primary={context.colors.primary.main} info={context.colors.info.main} />\n        </Col>\n      </Row>\n      <Row className='match-height'>\n        <Col lg='8' sm='12'>\n          <Row className='match-height'>\n            <Col sm='12'>\n              <Sales2 primary={context.colors.primary.main} />\n            </Col>\n            <Col md='6' sm='12'>\n              <SessionByDevice\n                primary={context.colors.primary.main}\n                warning={context.colors.warning.main}\n                danger={context.colors.danger.main}\n              />\n            </Col>\n            <Col md='6' sm='12'>\n              <Customers\n                primary={context.colors.primary.main}\n                warning={context.colors.warning.main}\n                danger={context.colors.danger.main}\n              />\n            </Col>\n          </Row>\n        </Col>\n        <Col lg='4' sm='12'>\n          <Row className='match-height'>\n            <Col sm='12'>\n              <ProductOrders\n                primary={context.colors.primary.main}\n                warning={context.colors.warning.main}\n                danger={context.colors.danger.main}\n              />\n            </Col>\n            <Col sm='12'>\n              <Earnings success={context.colors.success.main} />\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    </Fragment>\n  )\n}\n\nexport default AnalyticsCards\n","import useSWR from 'swr'\nimport axios from '../utility/axiosIsntance'\nimport { datatable, model, api as apiCalls } from \"./use-data\"\n\nconst fetcher = (url) => axios.get(url).then(res => res.data?.data)\n\nconst url = 'user'\n\nexport const api = {\n    create: params => apiCalls.create(url, params),\n    update: (id, params) => apiCalls.update(url, id, params),\n    delete: id => apiCalls.delete(url, id),\n    autocomplete: async (q) => {\n        const { data } = await axios.get(`${url}/autocomplete?q=${q}`)\n        return data?.data\n    },\n    autocompleteUserForTaxExempt: async (q) => {\n        const { data } = await axios.get(`${url}/autocompleteUserForTaxExempt?q=${q}`)\n        return data?.data\n    },\n    autocompleteCashier: async (q) => {\n        const { data } = await axios.get(`${url}/autocompletecashier?q=${q}`)\n        return data?.data\n    },\n    autocompleteTaxExempt: async (q) => {\n        const { data } = await axios.get(`${url}/autocompleteTaxExempt?q=${q}`)\n        return data?.data\n    },\n    changePassword: async (id, params) => {\n        const { data } = await axios.post(`${url}/${id}/change-password`, params)\n        return data?.data\n    },\n    verificationEmail: async (id) => {\n        const { data } = await axios.post(`${url}/${id}/verification-email`)\n        return data?.data\n    }\n}\n\nexport function useModel(id) {\n    return model(url, id)\n}\n\nexport function useDatatable(params) {\n    const result = datatable(url, `${url}/datatable`, params)\n\n    result.mutates = {\n        ...result.mutates,\n        verificationEmail: api.verificationEmail\n    }\n\n    return result\n}\n\nexport function useEmployeeDatatable(params) {\n    const result = datatable(url, `${url}/employee`, params)\n\n    result.mutates = {\n        ...result.mutates,\n        verificationEmail: api.verificationEmail\n    }\n\n    return result\n}\n\n","import useSWR from 'swr'\nimport axios from '../utility/axiosIsntance'\n\nconst fetcher = (url) => axios.get(url).then(res => res.data?.data)\n\nexport const api = {\n\n    create: async (url, params) => {\n        const { data } = await axios.post(url, params)\n        return data?.data\n    },\n\n    update: async (url, id, params) => {\n        const { data } = await axios.put(`${url}/${id}`, params)\n        return data?.data\n    },\n\n    delete: async (url, id) => {\n        await axios.delete(`${url}/${id}`)\n    }\n}\n\nexport function model(url, id) {\n\n    const { data, mutate, error } = useSWR(`${url}/${id}`, fetcher)\n\n    const loading = !data && !error\n\n    return {\n        loading,\n        error,\n        data,\n        mutate,\n        update: async (params) => {\n            await api.update(url, id, params)\n            await mutate()\n        }\n    }\n}\n\n\nexport function models(url) {\n\n    const { data, mutate, error } = useSWR(url, fetcher, {\n        revalidateOnFocus: false,\n        revalidateOnReconnect: false,\n        refreshWhenOffline: false,\n        refreshWhenHidden: false,\n        refreshInterval: 0\n    })\n\n    const loading = !data && !error\n\n    return {\n        loading,\n        error,\n        data: data || [],\n        mutate,\n        create: async (params) => api.create(params)\n    }\n}\n\n\nexport function datatable(base, endpoint, { page, limit, search, order = {}, conditions = {} }) {\n\n    const url = `${endpoint}?page=${page}&limit=${limit}&search=${search}&order=${JSON.stringify(order)}&conditions=${JSON.stringify(conditions)}`\n\n    const { data, mutate, error } = useSWR(url, fetcher)\n\n    const loading = !data && !error\n\n    return {\n        loading,\n        error,\n        data: data?.items || [],\n        total: data?.total || 0,\n        mutate,\n        mutates: {\n            delete: async (id) => {\n                await api.delete(base, id)\n                await mutate(url)\n            }\n        }\n    }\n\n}\nexport function datatableWithData(base, endpoint, { page, limit, search, order = {}, conditions = {}, from, to }) {\n\n    const url = `${endpoint}?page=${page}&limit=${limit}&from=${from}&to=${to}&search=${search}&order=${JSON.stringify(order)}&conditions=${JSON.stringify(conditions)}`\n\n    const { data, mutate, error } = useSWR(url, fetcher)\n\n    const loading = !data && !error\n\n    return {\n        loading,\n        error,\n        data: data?.items || [],\n        total: data?.total || 0,\n        mutate,\n        mutates: {\n            delete: async (id) => {\n                await api.delete(base, id)\n                await mutate(url)\n            }\n        }\n    }\n\n}\n\nexport function table(endpoint, { conditions }) {\n\n    const url = `${endpoint}?conditions=${JSON.stringify(conditions)}`\n\n    const { data, mutate, error } = useSWR(url, fetcher)\n\n    const loading = !data && !error\n\n    return {\n        loading,\n        error,\n        data: data?.items || [],\n        total: data?.total || 0,\n        mutate\n    }\n\n}\n","// ** React Imports\nimport { Link } from 'react-router-dom'\n\n// ** Third Party Components\nimport Proptypes from 'prop-types'\nimport { Grid, CheckSquare, MessageSquare, Mail, Calendar } from 'react-feather'\nimport {\n  Breadcrumb,\n  BreadcrumbItem,\n  UncontrolledButtonDropdown,\n  DropdownMenu,\n  DropdownItem,\n  DropdownToggle\n} from 'reactstrap'\n\nconst BreadCrumbs = props => {\n  // ** Props\n  const { breadCrumbTitle, breadCrumbParent, breadCrumbParent2, breadCrumbParent3, breadCrumbActive, right } = props\n\n  return (\n    <div className='content-header row'>\n      <div className='content-header-left col-9 mb-2'>\n      {/*<div className='content-header-left col-md-9 col-12 mb-2'>*/}\n        <div className='row breadcrumbs-top'>\n          <div className='col-12'>\n            {breadCrumbTitle ? <h2 className='content-header-title float-left mb-0'>{breadCrumbTitle}</h2> : ''}\n            <div className='breadcrumb-wrapper vs-breadcrumbs d-sm-block d-none col-12'>\n              <Breadcrumb>\n                <BreadcrumbItem tag='li'>\n                  <Link to='/'>Home</Link>\n                </BreadcrumbItem>\n                {\n                  breadCrumbParent &&\n                  <BreadcrumbItem tag='li' className='text-primary'>\n                    {breadCrumbParent}\n                  </BreadcrumbItem>\n                }\n                {breadCrumbParent2 ? (\n                  <BreadcrumbItem tag='li' className='text-primary'>\n                    {breadCrumbParent2}\n                  </BreadcrumbItem>\n                ) : (\n                  ''\n                )}\n                {breadCrumbParent3 ? (\n                  <BreadcrumbItem tag='li' className='text-primary'>\n                    {breadCrumbParent3}\n                  </BreadcrumbItem>\n                ) : (\n                  ''\n                )}\n                <BreadcrumbItem tag='li' active>\n                  {breadCrumbActive}\n                </BreadcrumbItem>\n              </Breadcrumb>\n            </div>\n          </div>\n        </div>\n      </div>\n      {\n        right ? (\n          <div className='content-header-right text-md-right col-3'>\n            {/*<div className='content-header-right text-md-right col-md-3 col-12 d-md-block d-none'>*/}\n            <div className='form-group breadcrum-right dropdown'>\n              { right }\n              {/*<UncontrolledButtonDropdown>*/}\n              {/*  <DropdownToggle color='primary' size='sm' className='btn-icon btn-round dropdown-toggle'>*/}\n              {/*    <Grid size={14} />*/}\n              {/*  </DropdownToggle>*/}\n              {/*  <DropdownMenu tag='ul' right>*/}\n              {/*    <DropdownItem tag={Link} to='/apps/chat'>*/}\n              {/*      <CheckSquare className='mr-1' size={14} />*/}\n              {/*      <span className='align-middle'>Todo</span>*/}\n              {/*    </DropdownItem>*/}\n              {/*    <DropdownItem tag={Link} to='/apps/chat'>*/}\n              {/*      <MessageSquare className='mr-1' size={14} />*/}\n              {/*      <span className='align-middle'>Chat</span>*/}\n              {/*    </DropdownItem>*/}\n              {/*    <DropdownItem tag={Link} to='/apps/email'>*/}\n              {/*      <Mail className='mr-1' size={14} />*/}\n              {/*      <span className='align-middle'>Email</span>*/}\n              {/*    </DropdownItem>*/}\n              {/*    <DropdownItem tag={Link} to='/apps/calendar'>*/}\n              {/*      <Calendar className='mr-1' size={14} />*/}\n              {/*      <span className='align-middle'>Calendar</span>*/}\n              {/*    </DropdownItem>*/}\n              {/*  </DropdownMenu>*/}\n              {/*</UncontrolledButtonDropdown>*/}\n            </div>\n          </div>\n        ) : ''\n      }\n\n    </div>\n  )\n}\nexport default BreadCrumbs\n\n// ** PropTypes\nBreadCrumbs.propTypes = {\n  breadCrumbTitle: Proptypes.string.isRequired,\n  breadCrumbActive: Proptypes.string.isRequired\n}\n"],"sourceRoot":""}