(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[179],{1047:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a(323),n=a(321),c=a(952),i=a(955),l=a(84),o=a(7),d=a(8),u=a(330),j=a.n(u),b=a(11),m=a.n(b),h=a(953),x=a(954),p=a(945),f=a(1073),O=a(946),v=a(948),g=a(338),k=a.n(g),y=a(75),N=a(821),w=a(824),T=a(3),C=function(e){var t=Object(s.useState)(null),a=Object(d.a)(t,2),r=a[0],n=a[1];Object(s.useEffect)((function(){n({last_days:["Last 28 Days","Last Month","Last Year"],chart_info:[{icon:"Monitor",name:"Desktop",iconColor:"text-primary",usage:58.6,upDown:2},{icon:"Tablet",name:"Mobile",iconColor:"text-warning",usage:34.9,upDown:8},{icon:"Tablet",name:"Tablet",iconColor:"text-danger",usage:6.5,upDown:-5}]})}),[]);var l={chart:{toolbar:{show:!1}},labels:["Desktop","Mobile","Tablet"],dataLabels:{enabled:!1},legend:{show:!1},comparedResult:[2,-3,8],stroke:{width:0},colors:[e.primary,e.warning,e.danger]};return null!==r?Object(T.jsxs)(c.a,{children:[Object(T.jsxs)(h.a,{className:"align-items-end",children:[Object(T.jsx)(x.a,{tag:"h4",children:"Session By Device"}),Object(T.jsxs)(p.a,{className:"chart-dropdown",children:[Object(T.jsx)(f.a,{color:"",className:"bg-transparent btn-sm border-0 p-50",children:"Last 7 days"}),Object(T.jsx)(O.a,{right:!0,children:r.last_days.map((function(e){return Object(T.jsx)(v.a,{className:"w-100",children:e},e)}))})]})]}),Object(T.jsxs)(i.a,{children:[Object(T.jsx)(k.a,{className:"my-1",options:l,series:[58.6,34.9,6.5],type:"donut",height:300}),r.chart_info.map((function(e,t){var a=y[e.icon];return Object(T.jsxs)("div",{className:m()("d-flex justify-content-between",{"mb-1":t!==r.chart_info.length-1}),children:[Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(a,{size:17,className:m()(Object(o.a)({},e.iconColor,e.iconColor))}),Object(T.jsx)("span",{className:"font-weight-bold ml-75 mr-25",children:e.name}),Object(T.jsxs)("span",{children:["- ",e.usage,"%"]})]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("span",{children:[e.upDown,"%"]}),e.upDown>0?Object(T.jsx)(N.a,{size:14,className:"ml-25 text-success"}):Object(T.jsx)(w.a,{size:14,className:"ml-25 text-danger"})]})]},t)}))]})]}):null},S=a(805),D=function(e){var t=Object(s.useState)(null),a=Object(d.a)(t,2),r=a[0],n=a[1];Object(s.useEffect)((function(){n({last_days:["Last 28 Days","Last Month","Last Year"],chart_info:{finished:23043,pending:14658,rejected:4758}})}),[]);var l={labels:["Finished","Pending","Rejected"],plotOptions:{radialBar:{size:150,hollow:{size:"20%"},track:{strokeWidth:"100%",margin:15},dataLabels:{value:{fontSize:"1rem",colors:"#5e5873",fontWeight:"500",offsetY:5},total:{show:!0,label:"Total",fontSize:"1.286rem",colors:"#5e5873",fontWeight:"500",formatter:function(){return 42459}}}}},colors:[e.primary,e.warning,e.danger],stroke:{lineCap:"round"},chart:{height:355,dropShadow:{enabled:!0,blur:3,left:1,top:1,opacity:.1}}};return null!==r?Object(T.jsxs)(c.a,{children:[Object(T.jsxs)(h.a,{children:[Object(T.jsx)(x.a,{tag:"h4",children:"Product Orders"}),Object(T.jsxs)(p.a,{className:"chart-dropdown",children:[Object(T.jsx)(f.a,{color:"",className:"bg-transparent btn-sm border-0 p-50",children:"Last 7 days"}),Object(T.jsx)(O.a,{right:!0,children:r.last_days.map((function(e){return Object(T.jsx)(v.a,{className:"w-100",children:e},e)}))})]})]}),Object(T.jsxs)(i.a,{children:[Object(T.jsx)(k.a,{options:l,series:[70,52,26],type:"radialBar",height:325}),Object(T.jsxs)("div",{className:"d-flex justify-content-between mb-1",children:[Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(S.a,{size:15,className:"text-primary"}),Object(T.jsx)("span",{className:"font-weight-bold ml-75",children:"Finished"})]}),Object(T.jsx)("span",{children:r.chart_info.finished})]}),Object(T.jsxs)("div",{className:"d-flex justify-content-between mb-1",children:[Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(S.a,{size:15,className:"text-warning"}),Object(T.jsx)("span",{className:"font-weight-bold ml-75",children:"Pending"})]}),Object(T.jsx)("span",{children:r.chart_info.pending})]}),Object(T.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(S.a,{size:15,className:"text-danger"}),Object(T.jsx)("span",{className:"font-weight-bold ml-75",children:"Rejected"})]}),Object(T.jsx)("span",{children:r.chart_info.rejected})]})]})]}):null},z=function(e){var t=Object(s.useState)(null),a=Object(d.a)(t,2),r=a[0],n=a[1];Object(s.useEffect)((function(){n({last_days:["Last 28 Days","Last Month","Last Year"],listData:[{icon:"Circle",iconColor:"text-primary",text:"New",result:690},{icon:"Circle",iconColor:"text-warning",text:"Returning",result:258},{icon:"Circle",iconColor:"text-danger",text:"Referrals",result:149}]})}),[]);var l={chart:{toolbar:{show:!1}},labels:["New","Returning","Referrals"],dataLabels:{enabled:!1},legend:{show:!1},stroke:{width:4},colors:[e.primary,e.warning,e.danger]};return null!==r?Object(T.jsxs)(c.a,{children:[Object(T.jsxs)(h.a,{className:"align-items-end",children:[Object(T.jsx)(x.a,{tag:"h4",children:"Customers"}),Object(T.jsxs)(p.a,{className:"chart-dropdown",children:[Object(T.jsx)(f.a,{color:"",className:"bg-transparent btn-sm border-0 p-50",children:"Last 7 days"}),Object(T.jsx)(O.a,{right:!0,children:r.last_days.map((function(e){return Object(T.jsx)(v.a,{className:"w-100",children:e},e)}))})]})]}),Object(T.jsxs)(i.a,{children:[Object(T.jsx)(k.a,{options:l,series:[690,258,149],type:"pie",height:325}),Object(T.jsx)("div",{className:"pt-25",children:r.listData.map((function(e,t){var a=y[e.icon];return Object(T.jsxs)("div",{className:m()("d-flex justify-content-between",{"mb-1":t!==r.listData.length-1}),children:[Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(a,{size:15,className:m()(Object(o.a)({},e.iconColor,e.iconColor))}),Object(T.jsx)("span",{className:"font-weight-bold ml-75",children:e.text})]}),Object(T.jsx)("span",{children:e.result})]},t)}))})]})]}):null},_=a(802),A=a(644),F=function(e){var t={chart:{height:300,type:"radar",dropShadow:{enabled:!0,blur:8,left:1,top:1,opacity:.2},toolbar:{show:!1},offsetY:5},stroke:{width:0},dataLabels:{background:{foreColor:["#ebe9f1"]}},legend:{show:!1},colors:[e.primary,e.info],plotOptions:{radar:{polygons:{strokeColors:["#ebe9f1","transparent","transparent","transparent","transparent","transparent"],connectorColors:"transparent"}}},fill:{type:"gradient",gradient:{shade:"dark",gradientToColors:[e.primary,e.info],shadeIntensity:1,type:"horizontal",opacityFrom:1,opacityTo:1,stops:[0,100,100,100]}},labels:["Jan","Feb","Mar","Apr","May","Jun"],markers:{size:0},yaxis:{show:!1},grid:{show:!1,padding:{bottom:-27}}};return Object(T.jsxs)(c.a,{children:[Object(T.jsxs)(h.a,{className:"d-flex justify-content-between align-items-start pb-1",children:[Object(T.jsxs)("div",{children:[Object(T.jsx)(x.a,{className:"mb-25",tag:"h4",children:"Sales"}),Object(T.jsx)(A.a,{children:"Last 6 months"})]}),Object(T.jsxs)(p.a,{className:"chart-dropdown",children:[Object(T.jsx)(f.a,{color:"",className:"bg-transparent btn-sm border-0 p-50",children:Object(T.jsx)(_.a,{size:18,className:"cursor-pointer"})}),Object(T.jsxs)(O.a,{right:!0,children:[Object(T.jsx)(v.a,{className:"w-100",children:"Last 28 Days"}),Object(T.jsx)(v.a,{className:"w-100",children:"Last Month"}),Object(T.jsx)(v.a,{className:"w-100",children:"Last Year"})]})]})]}),Object(T.jsxs)(i.a,{children:[Object(T.jsx)("div",{className:"d-inline-block mr-1",children:Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(S.a,{size:13,className:"text-primary mr-50"}),Object(T.jsx)("h6",{className:"mb-0",children:"Sales"})]})}),Object(T.jsx)("div",{className:"d-inline-block",children:Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(S.a,{size:13,className:"text-info mr-50"}),Object(T.jsx)("h6",{className:"mb-0",children:"Visits"})]})}),Object(T.jsx)(k.a,{options:t,series:[{name:"Sales",data:[90,50,86,40,100,20]},{name:"Visit",data:[70,75,70,76,20,85]}],type:"radar",height:300})]})]})},E=function(e){var t=Object(s.useState)(null),a=Object(d.a)(t,2),l=a[0],o=a[1];Object(s.useEffect)((function(){o({title:"Support Tracker",last_days:["Last 28 Days","Last Month","Last Year"],totalTicket:163,newTicket:29,openTicket:63,responseTime:1})}),[]);var u={plotOptions:{radialBar:{size:150,offsetY:20,startAngle:-150,endAngle:150,hollow:{size:"65%"},track:{background:"#fff",strokeWidth:"100%"},dataLabels:{name:{offsetY:-5,fontFamily:"Montserrat",fontSize:"1rem"},value:{offsetY:15,fontFamily:"Montserrat",fontSize:"1.714rem"}}}},colors:[e.danger],fill:{type:"gradient",gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:[e.primary],inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{dashArray:8},labels:["Completed Tickets"]};return null!==l?Object(T.jsxs)(c.a,{children:[Object(T.jsxs)(h.a,{className:"pb-0",children:[Object(T.jsx)(x.a,{tag:"h4",children:l.title}),Object(T.jsxs)(p.a,{className:"chart-dropdown",children:[Object(T.jsx)(f.a,{color:"",className:"bg-transparent btn-sm border-0 p-50",children:"Last 7 days"}),Object(T.jsx)(O.a,{right:!0,children:l.last_days.map((function(e){return Object(T.jsx)(v.a,{className:"w-100",children:e},e)}))})]})]}),Object(T.jsxs)(i.a,{children:[Object(T.jsxs)(r.a,{children:[Object(T.jsxs)(n.a,{sm:"2",className:"d-flex flex-column flex-wrap text-center",children:[Object(T.jsx)("h1",{className:"font-large-2 font-weight-bolder mt-2 mb-0",children:l.totalTicket}),Object(T.jsx)(A.a,{children:"Tickets"})]}),Object(T.jsx)(n.a,{sm:"10",className:"d-flex justify-content-center",children:Object(T.jsx)(k.a,{options:u,series:[83],type:"radialBar",height:270,id:"support-tracker-card"})})]}),Object(T.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[Object(T.jsxs)("div",{className:"text-center",children:[Object(T.jsx)(A.a,{className:"mb-50",children:"New Tickets"}),Object(T.jsx)("span",{className:"font-large-1 font-weight-bold",children:l.newTicket})]}),Object(T.jsxs)("div",{className:"text-center",children:[Object(T.jsx)(A.a,{className:"mb-50",children:"Open Tickets"}),Object(T.jsx)("span",{className:"font-large-1 font-weight-bold",children:l.openTicket})]}),Object(T.jsxs)("div",{className:"text-center",children:[Object(T.jsx)(A.a,{className:"mb-50",children:"Response Time"}),Object(T.jsxs)("span",{className:"font-large-1 font-weight-bold",children:[l.responseTime,"d"]})]})]})]})]}):null},U=a(940),P=a(55),L=function(e){var t=Object(s.useState)(null),a=Object(d.a)(t,2),i=a[0],l=a[1];Object(s.useEffect)((function(){l({years:["2020","2019","2018"],price:"25,852",budget:"56,800"})}),[]);var o={chart:{stacked:!0,type:"bar",toolbar:{show:!1}},grid:{padding:{top:-20,bottom:-10},yaxis:{lines:{show:!1}}},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"],labels:{style:{colors:"#b9b9c3",fontSize:"0.86rem"}},axisTicks:{show:!1},axisBorder:{show:!1}},legend:{show:!1},dataLabels:{enabled:!1},colors:[e.primary,e.warning],plotOptions:{bar:{columnWidth:"17%",endingShape:"rounded"},distributed:!0},yaxis:{labels:{style:{colors:"#b9b9c3",fontSize:"0.86rem"}}}},u={chart:{toolbar:{show:!1},zoom:{enabled:!1},type:"line",sparkline:{enabled:!0}},stroke:{curve:"smooth",dashArray:[0,5],width:[2]},colors:[e.primary,"#dcdae3"],tooltip:{enabled:!1}};return null!==i?Object(T.jsx)(c.a,{className:"card-revenue-budget",children:Object(T.jsxs)(r.a,{className:"mx-0",children:[Object(T.jsxs)(n.a,{className:"revenue-report-wrapper",md:"8",xs:"12",children:[Object(T.jsxs)("div",{className:"d-sm-flex justify-content-between align-items-center mb-3",children:[Object(T.jsx)(x.a,{className:"mb-50 mb-sm-0",children:"Revenue Report"}),Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsxs)("div",{className:"d-flex align-items-center mr-2",children:[Object(T.jsx)("span",{className:"bullet bullet-primary mr-50 cursor-pointer"}),Object(T.jsx)("span",{children:"Earning"})]}),Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)("span",{className:"bullet bullet-warning mr-50 cursor-pointer"}),Object(T.jsx)("span",{children:"Expense"})]})]})]}),Object(T.jsx)(k.a,{id:"revenue-report-chart",type:"bar",height:"230",options:o,series:[{name:"Earning",data:[95,177,284,256,105,63,168,218,72]},{name:"Expense",data:[-145,-80,-60,-180,-100,-60,-85,-75,-100]}]})]}),Object(T.jsxs)(n.a,{className:"budget-wrapper",md:"4",xs:"12",children:[Object(T.jsxs)(U.a,{children:[Object(T.jsx)(f.a,{className:"budget-dropdown",outline:!0,color:"primary",size:"sm",caret:!0,children:"2020"}),Object(T.jsx)(O.a,{children:i.years.map((function(e){return Object(T.jsx)(v.a,{className:"w-100",children:e},e)}))})]}),Object(T.jsxs)("h2",{className:"mb-25",children:["$",i.price]}),Object(T.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(T.jsx)("span",{className:"font-weight-bolder mr-25",children:"Budget:"}),Object(T.jsx)("span",{children:i.budget})]}),Object(T.jsx)(k.a,{id:"budget-chart",type:"line",height:"80",options:u,series:[{data:[61,48,69,52,60,40,79,60,59,43,62]},{data:[20,10,30,15,23,0,25,15,20,5,27]}]}),Object(T.jsx)(P.a,{color:"primary",children:"Increase Budget"})]})]})}):null},I=a(760),B=function(e){var t=Object(s.useState)(null),a=Object(d.a)(t,2),r=a[0],n=a[1];Object(s.useEffect)((function(){n({thisMonth:"86,589",lastMonth:"73,683"})}),[]);var l={chart:{toolbar:{show:!1},zoom:{enabled:!1},type:"line",offsetX:-10},stroke:{curve:"smooth",dashArray:[0,12],width:[4,3]},legend:{show:!1},colors:["#d0ccff","#ebe9f1"],fill:{type:"gradient",gradient:{shade:"dark",inverseColors:!1,gradientToColors:[e.primary,"#ebe9f1"],shadeIntensity:1,type:"horizontal",opacityFrom:1,opacityTo:1,stops:[0,100,100,100]}},markers:{size:0,hover:{size:5}},xaxis:{labels:{style:{colors:"#b9b9c3",fontSize:"1rem"}},axisTicks:{show:!1},categories:["01","05","09","13","17","21","26","31"],axisBorder:{show:!1},tickPlacement:"on"},yaxis:{tickAmount:5,labels:{style:{colors:"#b9b9c3",fontSize:"1rem"},formatter:function(e){return e>999?"".concat((e/1e3).toFixed(0),"k"):e}}},grid:{borderColor:"#e7eef7",padding:{top:-20,bottom:-10,left:20}},tooltip:{x:{show:!1}}};return null!==r?Object(T.jsxs)(c.a,{children:[Object(T.jsxs)(h.a,{children:[Object(T.jsx)(x.a,{tag:"h4",children:"Revenue"}),Object(T.jsx)(I.a,{size:18,className:"text-muted cursor-pointer"})]}),Object(T.jsxs)(i.a,{children:[Object(T.jsxs)("div",{className:"d-flex justify-content-start mb-3",children:[Object(T.jsxs)("div",{className:"mr-2",children:[Object(T.jsx)(A.a,{className:"mb-50",children:"This Month"}),Object(T.jsxs)("h3",{className:"font-weight-bolder",children:[Object(T.jsx)("sup",{className:"font-medium-1 font-weight-bold mr-25",children:"$"}),Object(T.jsx)("span",{className:"text-primary",children:"86,589"})]})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)(A.a,{className:"mb-50",children:"Last Month"}),Object(T.jsxs)("h3",{className:"font-weight-bolder",children:[Object(T.jsx)("sup",{className:"font-medium-1 font-weight-bold mr-25",children:"$"}),Object(T.jsx)("span",{children:"73,683"})]})]})]}),Object(T.jsx)(k.a,{options:l,series:[{name:"This Month",data:[45e3,47e3,44800,47500,45500,48e3,46500,48600]},{name:"Last Month",data:[46e3,48e3,45500,46600,44500,46500,45e3,47e3]}],type:"line",height:240})]})]}):null},R=a(827),M=function(e){var t=Object(s.useState)(null),a=Object(d.a)(t,2),l=a[0],o=a[1];Object(s.useEffect)((function(){o({completed:"786,617",inProgress:"13,561"})}),[]);var u={chart:{sparkline:{enabled:!0},dropShadow:{enabled:!0,blur:3,left:1,top:1,opacity:.1}},colors:["#51e5a8"],plotOptions:{radialBar:{offsetY:10,startAngle:-150,endAngle:150,hollow:{size:"77%"},track:{background:"#ebe9f1",strokeWidth:"50%"},dataLabels:{name:{show:!1},value:{color:"#5e5873",fontFamily:"Montserrat",fontSize:"2.86rem",fontWeight:"600"}}}},fill:{type:"gradient",gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:[e.success],inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{lineCap:"round"},grid:{padding:{bottom:30}}};return null!==l?Object(T.jsxs)(c.a,{children:[Object(T.jsxs)(h.a,{children:[Object(T.jsx)(x.a,{tag:"h4",children:"Goal Overview"}),Object(T.jsx)(R.a,{size:18,className:"text-muted cursor-pointer"})]}),Object(T.jsx)(i.a,{className:"p-0",children:Object(T.jsx)(k.a,{options:u,series:[83],type:"radialBar",height:245})}),Object(T.jsxs)(r.a,{className:"border-top text-center mx-0",children:[Object(T.jsxs)(n.a,{xs:"6",className:"border-right py-1",children:[Object(T.jsx)(A.a,{className:"text-muted mb-0",children:"Completed"}),Object(T.jsx)("h3",{className:"font-weight-bolder mb-0",children:l.completed})]}),Object(T.jsxs)(n.a,{xs:"6",className:"py-1",children:[Object(T.jsx)(A.a,{className:"text-muted mb-0",children:"In Progress"}),Object(T.jsx)("h3",{className:"font-weight-bolder mb-0",children:l.inProgress})]})]})]}):null},W=a(293),Y=a(906),H=function(e){var t=Object(s.useState)(null),a=Object(d.a)(t,2),l=a[0],o=a[1];Object(s.useEffect)((function(){o({sessions:2700,last_days:["Last 28 Days","Last Month","Last Year"],growth:"+5.2%",goal:1e5,users:1e5,retention:90,duration:1})}),[]);var u={chart:{sparkline:{enabled:!0},toolbar:{show:!1}},grid:{show:!1,padding:{left:0,right:0}},states:{hover:{filter:"none"}},colors:["#ebf0f7","#ebf0f7",e.primary,"#ebf0f7","#ebf0f7","#ebf0f7"],plotOptions:{bar:{columnWidth:"45%",distributed:!0,endingShape:"rounded"}},tooltip:{x:{show:!1}},xaxis:{type:"numeric"}};return null!==l?Object(T.jsx)(c.a,{children:Object(T.jsxs)(i.a,{children:[Object(T.jsxs)(r.a,{className:"pb-50",children:[Object(T.jsxs)(n.a,{sm:{size:6,order:1},xs:{order:2},className:"d-flex justify-content-between flex-column mt-lg-0 mt-2",children:[Object(T.jsxs)("div",{className:"session-info mb-1 mb-lg-0",children:[Object(T.jsx)("h2",{className:"font-weight-bold mb-25",children:Object(W.b)(l.sessions)}),Object(T.jsx)(A.a,{className:"font-weight-bold mb-2",children:"Avg Sessions"}),Object(T.jsxs)("h5",{className:"font-medium-2",children:[Object(T.jsx)("span",{className:"text-success mr-50",children:l.growth}),Object(T.jsx)("span",{className:"font-weight-normal",children:"vs last 7 days"})]})]}),Object(T.jsx)(P.a,{color:"primary",children:"View Details"})]}),Object(T.jsxs)(n.a,{sm:{size:6,order:2},xs:{order:1},className:"d-flex justify-content-between flex-column text-right",children:[Object(T.jsxs)(p.a,{className:"chart-dropdown",children:[Object(T.jsx)(f.a,{color:"",className:"bg-transparent btn-sm border-0 p-50",children:"Last 7 days"}),Object(T.jsx)(O.a,{right:!0,children:l.last_days.map((function(e){return Object(T.jsx)(v.a,{className:"w-100",children:e},e)}))})]}),Object(T.jsx)(k.a,{options:u,series:[{name:"Sessions",data:[75,125,225,175,125,75,25]}],type:"bar",height:200})]})]}),Object(T.jsx)("hr",{}),Object(T.jsxs)(r.a,{className:"pt-50",children:[Object(T.jsxs)(n.a,{className:"mb-2",md:"6",sm:"12",children:[Object(T.jsxs)("p",{className:"mb-50",children:["Goal: $",l.goal]}),Object(T.jsx)(Y.a,{className:"avg-session-progress mt-25",value:"50"})]}),Object(T.jsxs)(n.a,{className:"mb-2",md:"6",sm:"12",children:[Object(T.jsxs)("p",{className:"mb-50",children:["Users: ",Object(W.b)(l.users)]}),Object(T.jsx)(Y.a,{className:"avg-session-progress progress-bar-warning mt-25",value:"60"})]}),Object(T.jsxs)(n.a,{md:"6",sm:"12",children:[Object(T.jsxs)("p",{className:"mb-50",children:["Retention: ",l.retention,"%"]}),Object(T.jsx)(Y.a,{className:"avg-session-progress progress-bar-danger mt-25",value:"70"})]}),Object(T.jsxs)(n.a,{md:"6",sm:"12",children:[Object(T.jsxs)("p",{className:"mb-50",children:["Duration: ",l.duration,"yr"]}),Object(T.jsx)(Y.a,{className:"avg-session-progress progress-bar-success mt-25",value:"80"})]})]})]})}):null},J=a(64),V=a.n(J),q=a(65),$=a(77),G={sales:function(){var e=Object(q.a)(V.a.mark((function e(t){var a,s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.get("".concat("stats","/sales"));case 2:return a=e.sent,s=a.data,e.abrupt("return",null===s||void 0===s?void 0:s.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},K=function(e){var t=function(){var e=Object(q.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.sales();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){t()}),[]);var a={chart:{toolbar:{show:!1},zoom:{enabled:!1},type:"line",dropShadow:{enabled:!0,top:18,left:2,blur:5,opacity:.2},offsetX:-10},stroke:{curve:"smooth",width:4},grid:{borderColor:"#ebe9f1",padding:{top:-20,bottom:5,left:20}},legend:{show:!1},colors:["#df87f2"],fill:{type:"gradient",gradient:{shade:"dark",inverseColors:!1,gradientToColors:[e.primary],shadeIntensity:1,type:"horizontal",opacityFrom:1,opacityTo:1,stops:[0,100,100,100]}},markers:{size:0,hover:{size:5}},xaxis:{labels:{offsetY:5,style:{colors:"#b9b9c3",fontSize:"0.857rem",fontFamily:"Montserrat"}},axisTicks:{show:!1},categories:["Jan","Feb","Mar","Apr","May","Jun","July","Aug","Sep","Oct","Nov","Dec"],axisBorder:{show:!1},tickPlacement:"on"},yaxis:{tickAmount:5,labels:{style:{colors:"#b9b9c3",fontSize:"0.857rem",fontFamily:"Montserrat"},formatter:function(e){return e>999?"".concat((e/1e3).toFixed(1),"k"):e}}},tooltip:{x:{show:!1}}};return Object(T.jsxs)(c.a,{children:[Object(T.jsx)(h.a,{className:"align-items-start",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(x.a,{className:"mb-25",tag:"h4",children:"Sales"}),Object(T.jsx)(A.a,{className:"mb-0",children:"2020 Total Sales: 12.84k"})]})}),Object(T.jsx)(i.a,{className:"pb-0",children:Object(T.jsx)(k.a,{options:a,series:[{name:"Sales",data:[140,180,150,205,160,295,125,255,205,305,240,295]}],type:"line",height:240})})]})},X=function(e){var t={chart:{toolbar:{show:!1}},dataLabels:{enabled:!1},legend:{show:!1},comparedResult:[2,-3,8],labels:["App","Service","Product"],stroke:{width:0},colors:["#28c76f66","#28c76f33",e.success],grid:{padding:{right:-20,bottom:-8,left:-20}},plotOptions:{pie:{startAngle:-10,donut:{labels:{show:!0,name:{offsetY:15},value:{offsetY:-15,formatter:function(e){return"".concat(parseInt(e)," %")}},total:{show:!0,offsetY:15,label:"App",formatter:function(e){return"53%"}}}}}},responsive:[{breakpoint:1325,options:{chart:{height:100}}},{breakpoint:1200,options:{chart:{height:120}}},{breakpoint:1065,options:{chart:{height:100}}},{breakpoint:992,options:{chart:{height:120}}}]};return Object(T.jsx)(c.a,{className:"earnings-card",children:Object(T.jsx)(i.a,{children:Object(T.jsxs)(r.a,{children:[Object(T.jsxs)(n.a,{xs:"6",children:[Object(T.jsx)(x.a,{className:"mb-1",children:"Earnings"}),Object(T.jsx)("div",{className:"font-small-2",children:"This Month"}),Object(T.jsx)("h5",{className:"mb-1",children:"$4055.56"}),Object(T.jsxs)(A.a,{className:"text-muted font-small-2",children:[Object(T.jsx)("span",{className:"font-weight-bolder",children:"68.2%"}),Object(T.jsx)("span",{children:" more earnings than last month."})]})]}),Object(T.jsx)(n.a,{xs:"6",children:Object(T.jsx)(k.a,{options:t,series:[53,16,31],type:"donut",height:120})})]})})})},Q=a(25),Z=a(2),ee=a(110),te=a(303),ae=a(378),se=a(645),re=a(949),ne=a(950),ce=a(646),ie=a(647),le=a(602),oe=a(603),de=new(function(){function e(){Object(le.a)(this,e),this.api=j.a.create({baseURL:"".concat("http://127.0.0.1:8000/api/admin","/tasks"),headers:{"Content-Type":"application/json",Accept:"application/json"}}),this.api.interceptors.request.use((function(e){var t=localStorage.getItem("auth"),a=null;if(t)try{var s=JSON.parse(t);a=s.token||s.accessToken}catch(r){console.error("Error parsing auth data:",r)}return a||(a=localStorage.getItem("token")||localStorage.getItem("accessToken")),a&&(e.headers.Authorization="Bearer ".concat(a)),e}),(function(e){return Promise.reject(e)})),this.api.interceptors.response.use((function(e){return e}),(function(e){var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("auth"),localStorage.removeItem("token"),localStorage.removeItem("accessToken"),console.warn("\ud83d\udd39 Unauthorized. Tokens cleared.")),Promise.reject(e)}))}return Object(oe.a)(e,[{key:"getAvailableUsers",value:function(){var e=Object(q.a)(V.a.mark((function e(){var t,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.get("/available-users");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("\u274c Error fetching available users:",e.t0),console.error("\u274c Error details:",null===(a=e.t0.response)||void 0===a?void 0:a.data),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getDeletedTasks",value:function(){var e=Object(q.a)(V.a.mark((function e(){var t,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.get("/deleted");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("\u274c Error fetching deleted tasks:",e.t0),console.error("\u274c Error details:",null===(a=e.t0.response)||void 0===a?void 0:a.data),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"restoreTask",value:function(){var e=Object(q.a)(V.a.mark((function e(t){var a,s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.extractTaskId(t),e.next=3,this.api.post("/".concat(a,"/restore"));case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"forceDeleteTask",value:function(){var e=Object(q.a)(V.a.mark((function e(t){var a,s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.extractTaskId(t),e.next=3,this.api.delete("/".concat(a,"/force-delete"));case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBoardData",value:function(){var e=Object(q.a)(V.a.mark((function e(){var t,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.get("/board");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("\u274c Error fetching board data:",e.t0),console.error("\u274c Error details:",null===(a=e.t0.response)||void 0===a?void 0:a.data),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"createTask",value:function(){var e=Object(q.a)(V.a.mark((function e(t){var a,s,r,n,c,i,l;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.post("/",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:if(e.prev=7,e.t0=e.catch(0),console.error("\u274c Task creation failed:",e.t0),console.error("\u274c Error details:",null===(s=e.t0.response)||void 0===s?void 0:s.data),!(null===(r=e.t0.response)||void 0===r||null===(n=r.data)||void 0===n||null===(c=n.error)||void 0===c?void 0:c.includes("Data truncated for column"))){e.next=13;break}throw new Error("Database configuration error. Please contact administrator.");case 13:throw new Error((null===(i=e.t0.response)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.message)||"Failed to create task");case 14:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateTask",value:function(){var e=Object(q.a)(V.a.mark((function e(t,a){var s,r,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.extractTaskId(t),e.prev=1,e.next=4,this.api.put("/".concat(s),a);case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(1),console.error("\u274c Update task error:",e.t0),console.error("\u274c Error response:",null===(n=e.t0.response)||void 0===n?void 0:n.data),e.t0;case 13:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"deleteTask",value:function(){var e=Object(q.a)(V.a.mark((function e(t){var a,s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.extractTaskId(t),e.next=3,this.api.delete("/".concat(a));case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTask",value:function(){var e=Object(q.a)(V.a.mark((function e(t){var a,s,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.extractTaskId(t),e.prev=1,e.next=4,this.api.get("/".concat(a));case 4:return s=e.sent,e.abrupt("return",s.data);case 8:throw e.prev=8,e.t0=e.catch(1),console.error("\u274c Get task error:",e.t0),console.error("\u274c Error response:",null===(r=e.t0.response)||void 0===r?void 0:r.data),e.t0;case 13:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCompletedTasksGroupedByWeek",value:function(){var e=Object(q.a)(V.a.mark((function e(){var t,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.get("/completed-grouped-by-week");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("\u274c Error fetching completed tasks grouped by week:",e.t0),console.error("\u274c Error details:",null===(a=e.t0.response)||void 0===a?void 0:a.data),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"togglePublic",value:function(){var e=Object(q.a)(V.a.mark((function e(t,a){var s,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.extractTaskId(t),e.next=3,this.api.post("/".concat(s,"/toggle-public"),a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"completeTask",value:function(){var e=Object(q.a)(V.a.mark((function e(t){var a,s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.extractTaskId(t),e.next=3,this.api.post("/".concat(a,"/complete"));case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reopenTask",value:function(){var e=Object(q.a)(V.a.mark((function e(t){var a,s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.extractTaskId(t),e.next=3,this.api.post("/".concat(a,"/reopen"));case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateComment",value:function(){var e=Object(q.a)(V.a.mark((function e(t,a,s){var r,n,c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.extractTaskId(t),e.prev=1,e.next=4,this.api.post("/".concat(r,"/comments/").concat(a),{content:s});case 4:return n=e.sent,e.abrupt("return",n.data);case 8:throw e.prev=8,e.t0=e.catch(1),console.error("\u274c Update comment error:",e.t0),console.error("\u274c Error response:",null===(c=e.t0.response)||void 0===c?void 0:c.data),e.t0;case 13:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t,a,s){return e.apply(this,arguments)}}()},{key:"deleteComment",value:function(){var e=Object(q.a)(V.a.mark((function e(t,a){var s,r,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.extractTaskId(t),e.prev=1,e.next=4,this.api.delete("/".concat(s,"/comments/").concat(a));case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(1),console.error("\u274c Delete comment error:",e.t0),console.error("\u274c Error response:",null===(n=e.t0.response)||void 0===n?void 0:n.data),e.t0;case 13:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"extractTaskId",value:function(e){if("number"===typeof e)return e;if("string"===typeof e){var t=parseInt(e,10);return isNaN(t)?e:t}if("object"===typeof e&&null!==e){if(void 0!==e.id)return this.extractTaskId(e.id);var a=Object.keys(e).find((function(e){return!isNaN(parseInt(e,10))}));if(a)return parseInt(a,10)}return console.warn("\ud83d\udd39 Could not extract proper task ID from:",e),e}},{key:"addComment",value:function(){var e=Object(q.a)(V.a.mark((function e(t,a){var s,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.extractTaskId(t),e.next=3,this.api.post("/".concat(s,"/comments"),{content:a});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"addAssignee",value:function(){var e=Object(q.a)(V.a.mark((function e(t,a){var s,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.extractTaskId(t),e.next=3,this.api.post("/".concat(s,"/assignees"),{user_id:a});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"removeAssignee",value:function(){var e=Object(q.a)(V.a.mark((function e(t,a){var s,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.extractTaskId(t),e.next=3,this.api.delete("/".concat(s,"/assignees"),{data:{user_id:a}});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getAttachments",value:function(){var e=Object(q.a)(V.a.mark((function e(t){var a,s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.extractTaskId(t),e.next=3,this.api.get("/".concat(a,"/attachments"));case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadAttachment",value:function(){var e=Object(q.a)(V.a.mark((function e(t,a){var s,r,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.extractTaskId(t),(r=new FormData).append("file",a),e.next=5,this.api.post("/".concat(s,"/attachments"),r,{headers:{"Content-Type":"multipart/form-data"}});case 5:return n=e.sent,e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"deleteAttachment",value:function(){var e=Object(q.a)(V.a.mark((function e(t,a){var s,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.extractTaskId(t),e.next=3,this.api.delete("/".concat(s,"/attachments/").concat(a));case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getDownloadUrl",value:function(e,t){var a=this.extractTaskId(e);return"".concat(this.api.defaults.baseURL,"/").concat(a,"/attachments/").concat(t,"/download")}},{key:"downloadAttachment",value:function(){var e=Object(q.a)(V.a.mark((function e(t,a){var s,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.extractTaskId(t),e.next=3,this.api.get("/".concat(s,"/attachments/").concat(a,"/download"),{responseType:"blob"});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}()),ue=a(429),je=a(944),be=a(373),me=a(417),he=a(301),xe=a(943),pe=a(354),fe=a(377),Oe=a(804),ve=a(798),ge=a(761),ke=function(e){var t=e.onAddTask,a=e.board,r=e.availableUsers,n=void 0===r?[]:r,c=e.currentUser,i=Object(s.useState)(!1),l=Object(d.a)(i,2),o=l[0],u=l[1],j=Object(s.useState)(""),b=Object(d.a)(j,2),m=b[0],h=b[1],x=Object(s.useState)(!1),p=Object(d.a)(x,2),f=p[0],O=p[1],v=Object(s.useState)([]),g=Object(d.a)(v,2),k=g[0],y=g[1],N=Object(s.useRef)(null);Object(s.useEffect)((function(){o&&N.current&&N.current.focus()}),[o]);var w=function(){h(""),O(!1),y([])},C=function(e){if(e&&e.stopPropagation(),m.trim()&&t&&a){var s={title:m.trim(),board_id:a.id,status:a.name,description:"",priority:0,is_public:f,assignees:k};console.log("\ud83d\udd39 Creating task with data:",s),t(s),w()}else console.error("\ud83d\udd39 Missing required data for task creation:",{taskTitle:m.trim(),onAddTask:!!t,board:!!a});u(!1)},S=function(e){e&&e.stopPropagation(),w(),u(!1)},D=function(e){e.stopPropagation()},z=n.filter((function(e){return e.id!==(null===c||void 0===c?void 0:c.id)}));return o?Object(T.jsx)("div",{className:"add-task-input mb-2 p-3 border rounded bg-light",onClick:D,children:Object(T.jsxs)(be.a,{children:[Object(T.jsx)(me.a,{size:"sm",className:"mb-2",children:Object(T.jsx)(he.a,{ref:N,placeholder:"Type the task title...",value:m,onChange:function(e){return h(e.target.value)},onKeyPress:function(e){"Enter"===e.key?C(e):"Escape"===e.key&&S(e)},onClick:D,autoFocus:!0,style:{fontSize:"0.875rem"}})}),Object(T.jsxs)(xe.a,{check:!0,className:"mb-2",children:[Object(T.jsx)(he.a,{type:"checkbox",checked:f,onChange:function(e){var t=e.target.checked;O(t),t&&y([])},id:"public-toggle"}),Object(T.jsxs)(pe.a,{check:!0,for:"public-toggle",className:"small",children:[Object(T.jsx)(Oe.a,{size:14,className:"me-1"}),"Make this task public (all users will be assigned)"]})]}),!f&&z.length>0&&Object(T.jsxs)(xe.a,{className:"mb-2",children:[Object(T.jsx)(pe.a,{className:"small fw-bold mb-1",children:"Assign to specific users:"}),Object(T.jsx)("div",{style:{maxHeight:"100px",overflowY:"auto"},children:z.map((function(e){return Object(T.jsxs)(xe.a,{check:!0,className:"mb-1",children:[Object(T.jsx)(he.a,{type:"checkbox",checked:k.includes(e.id),onChange:function(){return t=e.id,void y((function(e){return e.includes(t)?e.filter((function(e){return e!==t})):[].concat(Object(ee.a)(e),[t])}));var t},id:"assignee-".concat(e.id)}),Object(T.jsxs)(pe.a,{check:!0,for:"assignee-".concat(e.id),className:"small",children:[e.name," (",e.email,")"]})]},e.id)}))})]}),Object(T.jsxs)("div",{className:"d-flex justify-content-end mt-2",children:[Object(T.jsx)(P.a,{color:"success",size:"sm",onClick:C,disabled:!m.trim(),className:"me-1",style:{borderRadius:"4px",padding:"4px 8px"},children:Object(T.jsx)(ve.a,{size:14})}),Object(T.jsx)(P.a,{color:"danger",size:"sm",onClick:S,style:{borderRadius:"4px",padding:"4px 8px"},children:Object(T.jsx)(ge.a,{size:14})})]})]})}):Object(T.jsx)(P.a,{color:"primary",size:"sm",onClick:function(e){e.stopPropagation(),u(!0)},className:"add-task-btn",style:{width:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",padding:0},children:Object(T.jsx)(fe.a,{size:16})})},ye=a(414),Ne=a(404),we=a(405),Te=a(406),Ce=a(825),Se=a(609),De=a(826),ze=a(625),_e=a(636),Ae=a(829),Fe=a(791),Ee=function(e){var t=e.task,a=e.onUpdate,r=e.onDelete,n=e.onClick,c=e.availableUsers,i=void 0===c?[]:c,l=e.currentUser,o=Object(s.useState)(!1),u=Object(d.a)(o,2),j=u[0],b=u[1],m=Object(s.useState)(!1),h=Object(d.a)(m,2),x=h[0],p=h[1],f=Object(s.useState)(t.title),O=Object(d.a)(f,2),v=O[0],g=O[1],k=t.attachments_count||0,y=function(){if(t.user&&t.user.name)return t.user;if(t.creator_name)return{name:t.creator_name,email:t.creator_email};var e=i.find((function(e){return e.id===t.user_id}));return e||{name:"User #".concat(t.user_id),email:""}}(),N=l&&t.user_id===l.id,w=(l&&t.assignees&&t.assignees.includes(l.id),function(){var e=Object(q.a)(V.a.mark((function e(s){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&s.stopPropagation(),!v.trim()||!a){e.next=14;break}return e.prev=2,e.next=5,a(t.id,{title:v.trim()});case 5:b(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),b(!1),g(t.title);case 12:e.next=15;break;case 14:b(!1);case 15:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()),C=function(){var e=Object(q.a)(V.a.mark((function e(a){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&a.stopPropagation(),p(!1),!r){e.next=11;break}return e.prev=3,e.next=6,r(t.id);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log("Delete failed due to permissions");case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}(),S=function(e){e&&e.stopPropagation(),p(!1)},D="completed"===t.status,z=function(e){switch(e){case 2:return{color:"danger",label:"High"};case 1:return{color:"warning",label:"Medium"};default:return{color:"secondary",label:"Low"}}}(t.priority),_=t.comments?t.comments.length:0;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"task-item p-2 mb-2 border rounded ".concat(D?"bg-light":"bg-white"),style:{cursor:"pointer",transition:"all 0.2s ease",borderLeft:"3px solid ".concat("completed"===t.status?"#28a745":"inProgress"===t.status?"#ffc107":"#6c757d"," !important")},onClick:function(e){j||e.target.closest("button")||x||n&&n(t)},onMouseEnter:function(e){e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)"},onMouseLeave:function(e){e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[Object(T.jsxs)("div",{className:"d-flex align-items-start justify-content-between mb-0",children:[Object(T.jsx)("div",{className:"flex-grow-1 me-2",style:{minWidth:0},children:j?Object(T.jsx)(he.a,{value:v,onChange:function(e){return g(e.target.value)},onKeyPress:function(e){"Enter"===e.key?w(e):"Escape"===e.key&&function(e){e&&e.stopPropagation(),g(t.title),b(!1)}(e)},onBlur:w,onClick:function(e){e.stopPropagation()},autoFocus:!0,size:"sm",className:"mb-1"}):Object(T.jsx)("h6",{className:"mb-1 task-title ".concat(D?"text-muted text-decoration-line-through":""),style:{fontSize:"0.9rem",lineHeight:"1.3",fontWeight:500},children:t.title})}),!j&&Object(T.jsxs)("div",{className:"d-flex align-items-center flex-shrink-0",onClick:function(e){return e.stopPropagation()},children:[Object(T.jsx)(P.a,{color:"link",size:"sm",onClick:function(e){e.stopPropagation(),b(!0),g(t.title)},className:"text-secondary p-0 me-1",style:{width:"20px",height:"20px"},title:"Edit task",children:Object(T.jsx)(Ce.a,{size:12})}),Object(T.jsx)(P.a,{color:"link",size:"sm",onClick:function(e){e.stopPropagation(),p(!0)},className:"text-danger p-0",style:{width:"20px",height:"20px"},title:"Delete task",children:Object(T.jsx)(Se.a,{size:12})})]})]}),Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(T.jsxs)("div",{className:"d-flex align-items-center flex-wrap gap-1",children:[Object(T.jsxs)(je.a,{color:z.color,className:"d-flex align-items-center me-1",style:{fontSize:"0.6rem",padding:"2px 6px",fontWeight:500},children:[Object(T.jsx)(De.a,{size:8,className:"me-1"}),z.label]}),t.is_public&&Object(T.jsxs)(je.a,{color:"success",className:"d-flex align-items-center me-1",style:{fontSize:"0.6rem",padding:"2px 6px"},children:[Object(T.jsx)(Oe.a,{size:8,className:"me-1"}),"Public"]}),t.due_date&&Object(T.jsxs)(je.a,{color:"outline-secondary",className:"d-flex align-items-center me-1 text-muted border",style:{fontSize:"0.6rem",padding:"2px 6px",backgroundColor:"transparent"},children:[Object(T.jsx)(ze.a,{size:8,className:"me-1"}),function(e){if(!e)return null;var t=new Date(e),a=new Date;return t.toDateString()===a.toDateString()?"Today":t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}(t.due_date)]}),_>0&&Object(T.jsxs)(je.a,{color:"outline-secondary",className:"d-flex align-items-center me-1 text-muted border",style:{fontSize:"0.6rem",padding:"2px 6px",backgroundColor:"transparent"},children:[Object(T.jsx)(_e.a,{size:8,className:"me-1"}),_]}),k>0&&Object(T.jsxs)(je.a,{color:"outline-info",className:"d-flex align-items-center me-1 text-info border",style:{fontSize:"0.6rem",padding:"2px 6px",backgroundColor:"transparent"},children:[Object(T.jsx)(Ae.a,{size:8,className:"me-1"}),k]})]}),Object(T.jsx)("div",{className:"flex-shrink-0",children:t.is_public?Object(T.jsx)(je.a,{color:"outline-success",className:"text-success border",style:{fontSize:"0.6rem",padding:"2px 6px",backgroundColor:"transparent"},children:"All Users"}):t.assignees&&t.assignees.length>0?Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(Fe.a,{size:10,className:"text-muted me-1"}),Object(T.jsx)("small",{className:"text-muted",style:{fontSize:"0.7rem"},children:t.assignees.length})]}):null})]}),Object(T.jsx)("div",{className:"mt-1",children:Object(T.jsxs)("small",{className:"text-muted d-flex align-items-center",style:{fontSize:"0.65rem"},children:["By: ",y.name,N&&Object(T.jsx)("span",{className:"text-primary fw-bold ms-1",children:"(me)"})]})})]}),Object(T.jsxs)(ye.a,{isOpen:x,toggle:S,size:"sm",children:[Object(T.jsxs)(Ne.a,{toggle:S,children:[Object(T.jsx)(Se.a,{size:16,className:"me-2 text-danger"}),"Delete Task"]}),Object(T.jsx)(we.a,{children:Object(T.jsxs)("div",{className:"text-center",children:[Object(T.jsx)("p",{className:"mb-3",children:"Are you sure you want to delete this task?"}),Object(T.jsx)("div",{className:"alert alert-warning p-2 mb-3",children:Object(T.jsx)("strong",{children:t.title})})]})}),Object(T.jsxs)(Te.a,{className:"justify-content-center",children:[Object(T.jsx)(P.a,{color:"secondary",onClick:S,className:"px-4",children:"Cancel"}),Object(T.jsxs)(P.a,{color:"primary",onClick:C,className:"px-4",children:[Object(T.jsx)(Se.a,{size:14,className:"me-1"}),"Delete"]})]})]})]})},Ue=function(e){var t=e.board,a=e.tasks,s=void 0===a?[]:a,r=e.onAddTask,n=e.onUpdateTask,l=e.onDeleteTask,o=e.onTaskClick,d=e.availableUsers,u=e.currentUser,j=e.superAdminIds,b=function(e,t){n&&n(e,t)},m=function(e){l&&l(e)},x=function(e){o&&o(e)},p=Array.isArray(s)?Object(ee.a)(s).sort((function(e,t){var a=e.created_at?new Date(e.created_at):new Date(e.id||0);return(t.created_at?new Date(t.created_at):new Date(t.id||0))-a})):[];return Object(T.jsxs)(c.a,{className:"task-column h-100",children:[Object(T.jsxs)(h.a,{className:"d-flex justify-content-between align-items-center py-2",style:{borderLeft:"4px solid ".concat(t.color),backgroundColor:"".concat(t.color,"15")},children:[Object(T.jsxs)("div",{className:"column-title d-flex align-items-center",children:[Object(T.jsx)("div",{className:"color-indicator me-2",style:{backgroundColor:t.color,width:"12px",height:"12px",borderRadius:"50%"}}),Object(T.jsx)("h6",{className:"mb-0 me-2 text-capitalize",children:t.name}),Object(T.jsx)(je.a,{color:"secondary",pill:!0,children:p.length})]}),Object(T.jsx)(ke,{onAddTask:function(e){r&&t?r(Object(Z.a)(Object(Z.a)({},e),{},{board_id:t.id,status:t.name})):console.error("\ud83d\udd39 TaskColumn: Missing onAddTask or board",{onAddTask:r,board:t})},board:t,availableUsers:d,currentUser:u,superAdminIds:j})]}),Object(T.jsx)(i.a,{className:"p-2",style:{height:"500px",overflowY:"auto",display:"flex",flexDirection:"column"},children:Object(T.jsxs)("div",{className:"task-list flex-grow-1",children:[p.map((function(e){return Object(T.jsx)(Ee,{task:e,onUpdate:b,onDelete:m,onClick:x,availableUsers:d,currentUser:u,superAdminIds:j},e.id)})),0===p.length&&Object(T.jsxs)("div",{className:"text-center text-muted py-3",children:[Object(T.jsx)("small",{children:"No tasks yet"}),Object(T.jsx)("div",{className:"mt-1",children:Object(T.jsx)("small",{children:"Click the + button to add a task"})})]})]})})]})},Pe=a(956),Le=a(415),Ie=a(544),Be=a(606),Re=function(e){var t=e.board,a=e.tasks,r=void 0===a?[]:a,n=e.onUpdateTask,l=e.onDeleteTask,o=e.onTaskClick,u=e.availableUsers,j=e.currentUser,b=e.superAdminIds,m=(e.useExternalTasks,Object(s.useState)([])),x=Object(d.a)(m,2),p=(x[0],x[1],Object(s.useState)(!1)),f=Object(d.a)(p,2),O=(f[0],f[1],Object(s.useState)(null)),v=Object(d.a)(O,2),g=(v[0],v[1],Object(s.useState)(new Set)),k=Object(d.a)(g,2),y=k[0],N=k[1],w=function(e,t){var a=e.toLocaleDateString("en-US",{month:"short",day:"numeric"}),s=t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),r=new Date;if(e<=r&&t>=r)return"This Week (".concat(a," - ").concat(s,")");var n=new Date(r);return n.setDate(r.getDate()-7),e<=n&&t>=n?"Last Week (".concat(a," - ").concat(s,")"):"Week of ".concat(a," - ").concat(s)},C=Object(s.useMemo)((function(){if(!r||!Array.isArray(r))return[];var e={};r.forEach((function(t){if(t.completed_at){var a=new Date(t.completed_at),s=new Date(a);s.setDate(a.getDate()-a.getDay());var r=s.toISOString().split("T")[0];if(!e[r]){var n=new Date(s);n.setDate(s.getDate()+6),e[r]={week_start:r,week_end:n.toISOString().split("T")[0],week_label:w(s,n),tasks:[],task_count:0}}e[r].tasks.push(t),e[r].task_count++}}));var t=Object.values(e).sort((function(e,t){return new Date(t.week_start)-new Date(e.week_start)}));return t.forEach((function(e){e.tasks.sort((function(e,t){return new Date(t.completed_at)-new Date(e.completed_at)}))})),t}),[r]);Object(s.useEffect)((function(){C.length>0&&0===y.size&&N(new Set([C[0].week_start]))}),[C]);var S=function(e){return y.has(e)},D=function(){var e=Object(q.a)(V.a.mark((function e(t,a){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.next=3,n(t,a);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),z=function(){var e=Object(q.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=3;break}return e.next=3,l(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){o&&o(e)},A=C.reduce((function(e,t){return e+t.task_count}),0);return Object(T.jsxs)(c.a,{className:"task-column h-100 weekly-grouped-column",children:[Object(T.jsxs)(h.a,{className:"d-flex justify-content-between align-items-center py-2",style:{borderLeft:"4px solid ".concat(t.color),backgroundColor:"".concat(t.color,"15")},children:[Object(T.jsxs)("div",{className:"column-title d-flex align-items-center",children:[Object(T.jsx)("div",{className:"color-indicator me-2",style:{backgroundColor:t.color,width:"12px",height:"12px",borderRadius:"50%"}}),Object(T.jsx)("h6",{className:"mb-0 me-2 text-capitalize",children:t.name}),Object(T.jsx)(je.a,{color:"secondary",pill:!0,children:A})]}),Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(P.a,{color:"link",size:"sm",onClick:function(){var e=C.map((function(e){return e.week_start}));N(new Set(e))},title:"Expand all weeks",className:"p-1 me-1 text-secondary",disabled:0===C.length,children:Object(T.jsx)(Le.a,{size:14})}),Object(T.jsx)(P.a,{color:"link",size:"sm",onClick:function(){N(new Set)},title:"Collapse all weeks",className:"p-1 text-secondary",disabled:0===C.length,children:Object(T.jsx)(Ie.a,{size:14})})]})]}),Object(T.jsx)(i.a,{className:"p-2 d-flex flex-column",style:{height:"500px"},children:0===C.length?Object(T.jsx)("div",{className:"text-center text-muted py-3 flex-grow-1 d-flex align-items-center justify-content-center",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(Be.a,{size:24,className:"mb-2"}),Object(T.jsx)("div",{children:"No completed tasks found"}),r.length>0&&Object(T.jsxs)("small",{className:"text-muted mt-1",children:[r.length," task(s) don't have completion dates"]})]})}):Object(T.jsx)("div",{className:"weeks-list flex-grow-1",style:{overflowY:"auto",minHeight:0},children:C.map((function(e){return Object(T.jsxs)("div",{className:"week-group mb-3",children:[Object(T.jsxs)("div",{className:"week-header d-flex justify-content-between align-items-center p-2 border rounded cursor-pointer",onClick:function(){return t=e.week_start,void N((function(e){var a=new Set(e);return a.has(t)?a.delete(t):a.add(t),a}));var t},style:{cursor:"pointer",background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)"},children:[Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(ze.a,{size:14,className:"me-2 text-primary"}),Object(T.jsx)("small",{className:"fw-bold me-2",children:e.week_label}),Object(T.jsx)(je.a,{color:"primary",pill:!0,className:"fs-12",children:e.task_count})]}),Object(T.jsx)(P.a,{color:"link",className:"p-0 text-secondary",size:"sm",children:S(e.week_start)?Object(T.jsx)(Ie.a,{size:14}):Object(T.jsx)(Le.a,{size:14})})]}),Object(T.jsx)(Pe.a,{isOpen:S(e.week_start),children:Object(T.jsx)("div",{className:"week-tasks mt-2",children:e.tasks.map((function(e){return Object(T.jsx)(Ee,{task:e,onUpdate:D,onDelete:z,onClick:_,availableUsers:u,currentUser:j,superAdminIds:b},e.id)}))})})]},e.week_start)}))})})]})},Me=new(function(){function e(){Object(le.a)(this,e),this.api=j.a.create({baseURL:"".concat("http://127.0.0.1:8000/api/admin","/boards"),headers:{"Content-Type":"application/json",Accept:"application/json"}}),this.api.interceptors.request.use((function(e){var t=localStorage.getItem("auth"),a=null;if(t)try{var s=JSON.parse(t);a=s.token||s.accessToken}catch(r){console.error("Error parsing auth data:",r)}return a||(a=localStorage.getItem("token")||localStorage.getItem("accessToken")),a&&(e.headers.Authorization="Bearer ".concat(a)),e}),(function(e){return Promise.reject(e)}))}return Object(oe.a)(e,[{key:"getBoards",value:function(){var e=Object(q.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.get("");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("\u274c Error fetching boards:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getTrashedBoards",value:function(){var e=Object(q.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.get("/trashed");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("\u274c Error fetching trashed boards:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getBoardStats",value:function(){var e=Object(q.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.get("/stats");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("\u274c Error fetching board stats:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"createBoard",value:function(){var e=Object(q.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.post("/",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("\u274c Error creating board:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateBoard",value:function(){var e=Object(q.a)(V.a.mark((function e(t,a){var s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.put("/".concat(t),a);case 3:return s=e.sent,e.abrupt("return",s.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("\u274c Error updating board:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"deleteBoard",value:function(){var e=Object(q.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.delete("/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("\u274c Error deleting board:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"restoreBoard",value:function(){var e=Object(q.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.post("/".concat(t,"/restore"));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("\u274c Error restoring board:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"forceDeleteBoard",value:function(){var e=Object(q.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.delete("/".concat(t,"/force-delete"));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("\u274c Error force deleting board:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reorderBoards",value:function(){var e=Object(q.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.post("/reorder",{boards:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("\u274c Error reordering boards:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()),We=function(e){var t,a,c=e.tasks,i=e.onAddTask,l=e.onUpdateTask,o=e.onDeleteTask,u=e.onTaskClick,j=e.availableUsers,b=e.currentUser,m=e.superAdminIds,h=e.onRefresh,x=e.loading,p=Object(s.useState)([]),f=Object(d.a)(p,2),O=f[0],v=f[1],g=Object(s.useState)(!0),k=Object(d.a)(g,2),y=k[0],N=k[1],w=Object(s.useState)(null),C=Object(d.a)(w,2),S=C[0],D=C[1],z=Object(s.useState)({}),_=Object(d.a)(z,2),A=_[0],F=_[1],E="super@admin.com"===(null===b||void 0===b?void 0:b.email)||(null===b||void 0===b||null===(t=b.roles)||void 0===t?void 0:t.includes("super"))||(null===b||void 0===b||null===(a=b.permissions)||void 0===a?void 0:a.includes("all")),U=["todo","inProgress","completed"],L=function(){var e=Object(q.a)(V.a.mark((function e(){var t,a,s,r,n,c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,N(!0),D(null),e.next=5,Me.getBoards();case 5:(t=e.sent).success?(a=t.data.boards||[],v(a),s={},a.forEach((function(e){s[e.id]={board:e,tasks:[]}})),F(s)):D(t.message||"Failed to load boards"),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),c=(null===(r=e.t0.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Failed to load boards. Please try again.",D(c),console.error("Error loading boards:",e.t0);case 14:return e.prev=14,N(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,9,14,17]])})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){if(O.length>0&&c){var e=Object(Z.a)({},A);O.forEach((function(t){e[t.id]={board:t,tasks:[]}})),"object"!==typeof c||Array.isArray(c)?Array.isArray(c)?c.forEach((function(t){t.board_id&&e[t.board_id]?e[t.board_id].tasks.push(t):console.warn("\ud83d\udd39 Task missing board_id or board not found:",t)})):console.warn("\ud83d\udd39 Unexpected tasks format:",typeof c,c):Object.keys(c).forEach((function(t){if(e[t]){var a=c[t];Array.isArray(a)?e[t].tasks=a:a&&a.tasks?e[t].tasks=a.tasks:(console.warn("\ud83d\udd39 Unexpected data format for board ".concat(t,":"),a),e[t].tasks=[])}})),F(e)}}),[c,O]),Object(s.useEffect)((function(){L()}),[]);var I=O.length?O.filter((function(e){return function(e,t){return!!U.includes(e.name)||!!E||t&&t.tasks&&t.tasks.length>0}(e,A[e.id])})):[];return y?Object(T.jsxs)("div",{className:"text-center py-5",children:[Object(T.jsx)(te.a,{color:"primary"}),Object(T.jsx)("div",{className:"mt-2",children:"Loading boards..."})]}):S?Object(T.jsxs)(ae.a,{color:"danger",children:[Object(T.jsx)("h4",{className:"alert-heading",children:"Error Loading Boards"}),Object(T.jsx)("p",{className:"mb-0",children:S}),Object(T.jsx)(P.a,{color:"primary",size:"sm",className:"mt-2",onClick:L,children:"Retry"})]}):0===I.length?Object(T.jsxs)(ae.a,{color:"warning",children:[Object(T.jsx)("h4",{className:"alert-heading",children:"No Boards Found"}),Object(T.jsx)("p",{className:"mb-0",children:"No boards are available for your account."})]}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[Object(T.jsx)("div",{className:"d-flex align-items-center"}),Object(T.jsxs)(P.a,{color:"primary",size:"sm",onClick:h,disabled:x,className:"d-flex align-items-center",children:[Object(T.jsx)(ue.a,{size:14,className:x?"spinning":""}),Object(T.jsx)("span",{className:"ms-1",children:"Refresh"})]})]}),Object(T.jsx)("div",{className:"task-board",children:Object(T.jsx)(r.a,{children:I.map((function(e){var t=A[e.id],a=t?t.tasks:[];return"completed"===e.name?Object(T.jsx)(n.a,{lg:4,md:6,className:"mb-4",children:Object(T.jsx)(Re,{board:e,tasks:a,onUpdateTask:l,onDeleteTask:o,onTaskClick:u,availableUsers:j,currentUser:b,superAdminIds:m,useExternalTasks:!0})},e.id):Object(T.jsx)(n.a,{lg:4,md:6,className:"mb-4",children:Object(T.jsx)(Ue,{board:e,tasks:a,onAddTask:i,onUpdateTask:l,onDeleteTask:o,onTaskClick:u,availableUsers:j,currentUser:b,superAdminIds:m})},e.id)}))})})]})},Ye=a(613),He=a(801),Je=a(834),Ve=a(620),qe=a(428),$e=a(374),Ge=a(632),Ke=a(324),Xe=a(565),Qe=a(562),Ze=a(958),et=a(959),tt=a(828),at=a(833),st=a(420),rt=a(811),nt=a(832),ct=a(419),it=function(e){var t=e.task,a=e.currentUser,r=e.onUpdate,n=e.onAttachmentsCountChange,l=Object(s.useState)([]),o=Object(d.a)(l,2),u=o[0],j=o[1],b=Object(s.useState)(!1),m=Object(d.a)(b,2),h=m[0],x=m[1],p=Object(s.useState)(!1),f=Object(d.a)(p,2),O=f[0],v=f[1],g=Object(s.useState)(null),k=Object(d.a)(g,2),y=k[0],N=k[1],w=Object(s.useState)(null),C=Object(d.a)(w,2),S=C[0],D=C[1],z=Object(s.useState)(!1),_=Object(d.a)(z,2),A=_[0],F=_[1],E=Object(s.useState)(null),U=Object(d.a)(E,2),L=U[0],I=U[1],B=Object(s.useRef)(null);Object(s.useEffect)((function(){n&&n(u.length)}),[u.length,n]);var R=function(e){if(!e)return"Unknown date";var t=new Date(e),a=new Date,s=t.toDateString()===a.toDateString(),r=new Date(a.setDate(a.getDate()-1)).toDateString()===t.toDateString();return s?"Today at ".concat(t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})):r?"Yesterday at ".concat(t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})):"".concat(t.toLocaleDateString()," at ").concat(t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))},M=function(){var e=Object(q.a)(V.a.mark((function e(){var a,s,r,c,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,x(!0),N(null),e.next=7,de.getAttachments(t.id);case 7:(a=e.sent).success?(s=a.data.attachments||[],j(s),n&&n(s.length)):N(a.message||"Failed to load attachments"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),i=(null===(r=e.t0.response)||void 0===r||null===(c=r.data)||void 0===c?void 0:c.message)||"Failed to load attachments",N(i);case 15:return e.prev=15,x(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,11,15,18]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(q.a)(V.a.mark((function e(a){var s,r,n,c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!0),e.next=4,de.downloadAttachment(t.id,a.id);case 4:s=e.sent,r=new Blob([s.data],{type:a.mime_type}),n=window.URL.createObjectURL(r),(c=document.createElement("a")).href=n,c.download=a.original_name,document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(n),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("Download failed:",e.t0),N("Failed to download file");case 20:return e.prev=20,x(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[0,16,20,23]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(q.a)(V.a.mark((function e(a){var s,c,i,l,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(!(a.size>104857600)){e.next=5;break}return N("File size must be less than 100MB"),e.abrupt("return");case 5:return e.prev=5,v(!0),N(null),e.next=10,de.uploadAttachment(t.id,a);case 10:(s=e.sent).success?(c=[s.data.attachment].concat(Object(ee.a)(u)),j(c),D("File uploaded successfully!"),null===r||void 0===r||r(t),n&&n(c.length)):N(s.message||"Failed to upload file"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),o=(null===(i=e.t0.response)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.message)||"Failed to upload file",N(o);case 18:return e.prev=18,v(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[5,14,18,21]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(q.a)(V.a.mark((function e(){var a,s,c,i,l;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L&&t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,de.deleteAttachment(t.id,L.id);case 5:(a=e.sent).success?(s=u.filter((function(e){return e.id!==L.id})),j(s),D("File deleted successfully!"),F(!1),I(null),null===r||void 0===r||r(t),n&&n(s.length)):N(a.message||"Failed to delete file"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),l=(null===(c=e.t0.response)||void 0===c||null===(i=c.data)||void 0===i?void 0:i.message)||"Failed to delete file",N(l);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),J=function(e){var t={size:16,className:"me-2"};switch(e.file_icon){case"image":return Object(T.jsx)(tt.a,Object(Z.a)(Object(Z.a)({},t),{},{className:"text-success"}));case"video":return Object(T.jsx)(at.a,Object(Z.a)(Object(Z.a)({},t),{},{className:"text-danger"}));case"pdf":return Object(T.jsx)(st.a,Object(Z.a)(Object(Z.a)({},t),{},{className:"text-danger"}));case"word":return Object(T.jsx)(st.a,Object(Z.a)(Object(Z.a)({},t),{},{className:"text-primary"}));case"excel":return Object(T.jsx)(st.a,Object(Z.a)(Object(Z.a)({},t),{},{className:"text-success"}));case"powerpoint":return Object(T.jsx)(st.a,Object(Z.a)(Object(Z.a)({},t),{},{className:"text-warning"}));case"document":return Object(T.jsx)(st.a,Object(Z.a)(Object(Z.a)({},t),{},{className:"text-info"}));default:return Object(T.jsx)(rt.a,Object(Z.a)(Object(Z.a)({},t),{},{className:"text-secondary"}))}},$=function(e){return a&&e.user_id===a.id},G=function(e){var t;return(null===a||void 0===a?void 0:a.id)===e.user_id||(null===a||void 0===a||null===(t=a.roles)||void 0===t?void 0:t.includes("super"))};return Object(s.useEffect)((function(){(y||S)&&setTimeout((function(){N(null),D(null)}),5e3)}),[y,S]),Object(s.useEffect)((function(){t&&t.id&&M()}),[t]),t?Object(T.jsxs)("div",{className:"attachment-section ",children:[Object(T.jsx)(c.a,{children:Object(T.jsxs)(i.a,{children:[y&&Object(T.jsx)(ae.a,{color:"primary",className:"py-2",children:Object(T.jsx)("small",{children:y})}),S&&Object(T.jsx)(ae.a,{color:"success",className:"py-2",children:Object(T.jsx)("small",{children:S})}),Object(T.jsx)("div",{className:"mb-3 p-3 border rounded bg-light",children:Object(T.jsxs)("div",{className:"text-center",children:[Object(T.jsx)("input",{type:"file",ref:B,onChange:function(e){var t=e.target.files[0];t&&Y(t),e.target.value=""},style:{display:"none"},accept:"*/*"}),Object(T.jsxs)(P.a,{color:"primary",size:"sm",onClick:function(){var e;return null===(e=B.current)||void 0===e?void 0:e.click()},disabled:O,className:"d-flex align-items-center mx-auto",children:[O?Object(T.jsx)(te.a,{size:"sm",className:"me-2"}):Object(T.jsx)(nt.a,{size:14,className:"me-2"}),O?"Uploading...":"Upload File"]}),Object(T.jsx)("small",{className:"text-muted d-block mt-1",children:"Max file size: 100MB"})]})}),h?Object(T.jsxs)("div",{className:"text-center py-3",children:[Object(T.jsx)(te.a,{size:"sm"}),Object(T.jsx)("div",{className:"mt-2",children:Object(T.jsx)("small",{className:"text-muted",children:"Loading attachments..."})})]}):u.length>0?Object(T.jsx)(Ze.a,{flush:!0,children:u.map((function(e){var t;return Object(T.jsx)(et.a,{className:"px-0",children:Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(T.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[J(e),Object(T.jsxs)("div",{className:"flex-grow-1",children:[Object(T.jsx)("div",{className:"fw-bold small",children:e.original_name}),Object(T.jsxs)("div",{className:"d-flex text-muted small",children:[Object(T.jsx)("span",{className:"me-2",children:e.formatted_size}),Object(T.jsx)("span",{children:"\u2022"}),Object(T.jsx)("span",{className:"mx-2",children:R(e.created_at)}),Object(T.jsx)("span",{children:"\u2022"}),Object(T.jsxs)("span",{className:"ms-2",children:[(null===(t=e.user)||void 0===t?void 0:t.name)||"Unknown",$(e)&&Object(T.jsx)("span",{className:" fw-bold",style:{color:"#fe5e00"},children:" (me)"})]})]})]})]}),Object(T.jsxs)("div",{className:"d-flex",children:[Object(T.jsx)(P.a,{color:"link",size:"sm",onClick:function(){return W(e)},className:"text-primary p-1",title:"Download",disabled:h,children:Object(T.jsx)(ct.a,{size:14})}),G(e)&&Object(T.jsx)(P.a,{color:"link",size:"sm",onClick:function(){return function(e){I(e),F(!0)}(e)},className:"text-danger p-1",title:$(e)?"Delete my file":"Delete file",children:Object(T.jsx)(Se.a,{size:14})})]})]})},e.id)}))}):Object(T.jsxs)("div",{className:"text-center py-4 text-muted",children:[Object(T.jsx)(Ae.a,{size:32,className:"mb-2"}),Object(T.jsx)("div",{children:Object(T.jsx)("small",{children:"No attachments yet"})})]})]})}),Object(T.jsxs)(ye.a,{isOpen:A,toggle:function(){return F(!1)},size:"sm",children:[Object(T.jsx)(Ne.a,{toggle:function(){return F(!1)},children:"Delete Attachment"}),Object(T.jsx)(we.a,{children:L&&Object(T.jsxs)("div",{children:[Object(T.jsx)("p",{children:"Are you sure you want to delete this file?"}),Object(T.jsxs)("div",{className:"alert alert-warning p-2",children:[Object(T.jsx)("strong",{children:L.original_name}),Object(T.jsxs)("div",{className:"small text-muted",children:[L.formatted_size," \u2022 ",L.mime_type]}),Object(T.jsxs)("div",{className:"small text-muted",children:["Uploaded: ",R(L.created_at)]}),$(L)&&Object(T.jsx)("div",{className:"small text-primary fw-bold mt-1",children:"This is your file"})]}),Object(T.jsx)("p",{className:"small text-muted mb-0",children:"This action cannot be undone."})]})}),Object(T.jsxs)(Te.a,{children:[Object(T.jsx)(P.a,{color:"secondary",onClick:function(){return F(!1)},children:"Cancel"}),Object(T.jsx)(P.a,{color:"primary",onClick:H,children:"Delete"})]})]})]}):null},lt=function(e){var t=e.text,a=e.className,s=void 0===a?"":a;if(!t)return null;var r=/(https?:\/\/[^\s]+)/g,n=t.split(r);return Object(T.jsx)("span",{className:s,children:n.map((function(e,t){return e.match(r)?Object(T.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-primary text-decoration-underline",onClick:function(e){return e.stopPropagation()},children:e},t):e}))})},ot=function(e){var t,a,l,o,u,j,b=e.isOpen,m=e.toggle,h=e.task,x=e.onUpdate,p=e.availableUsers,g=void 0===p?[]:p,k=e.currentUser,y=e.superAdminIds,N=void 0===y?[]:y,w=e.userAccessibleBoards,C=void 0===w?[]:w,S=Object(s.useState)(null),D=Object(d.a)(S,2),z=D[0],A=D[1],F=Object(s.useState)([]),E=Object(d.a)(F,2),U=E[0],L=E[1],I=Object(s.useState)([]),B=Object(d.a)(I,2),R=B[0],M=B[1],W=Object(s.useState)([]),Y=Object(d.a)(W,2),H=Y[0],J=Y[1],$=Object(s.useState)(!1),G=Object(d.a)($,2),K=G[0],X=G[1],Q=Object(s.useState)(!1),ee=Object(d.a)(Q,2),te=ee[0],ae=ee[1],se=Object(s.useState)(""),re=Object(d.a)(se,2),ne=re[0],ce=re[1],ie=Object(s.useState)(!1),le=Object(d.a)(ie,2),oe=(le[0],le[1]),ue=Object(s.useState)(!1),be=Object(d.a)(ue,2),me=be[0],xe=be[1],ke=Object(s.useState)("details"),Ce=Object(d.a)(ke,2),Ee=Ce[0],Ue=Ce[1],Pe=Object(s.useState)(!1),Le=Object(d.a)(Pe,2),Ie=Le[0],Be=Le[1],Re=Object(s.useState)(0),We=Object(d.a)(Re,2),Ze=We[0],et=We[1],tt=Object(s.useState)(null),at=Object(d.a)(tt,2),st=at[0],rt=at[1],nt=Object(s.useState)(!1),ct=Object(d.a)(nt,2),ot=ct[0],dt=ct[1],ut=Object(s.useState)(null),jt=Object(d.a)(ut,2),bt=jt[0],mt=jt[1],ht=Object(s.useState)(""),xt=Object(d.a)(ht,2),pt=xt[0],ft=xt[1],Ot=Object(s.useRef)(null),vt=Object(s.useRef)(null),gt=Object(s.useRef)(null),kt="super@admin.com"===(null===k||void 0===k?void 0:k.email)||(null===k||void 0===k||null===(t=k.roles)||void 0===t?void 0:t.includes("super"))||(null===k||void 0===k||null===(a=k.permissions)||void 0===a?void 0:a.includes("all")),yt=["todo","inProgress","completed"],Nt=[{value:0,label:"Low",color:"success",icon:De.a},{value:1,label:"Medium",color:"warning",icon:He.a},{value:2,label:"High",color:"danger",icon:Je.a}],wt=function(){var e=Object(q.a)(V.a.mark((function e(){var t,a,s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Me.getBoards();case 3:(t=e.sent).success&&(a=t.data.boards||[],L(a),C&&C.length>0?M(C):(s=a.filter((function(e){return yt.includes(e.name),!0})),M(s))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error loading boards:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){C&&C.length>0&&M(C)}),[C]);var Tt=function(e){return e?"inProgress"===e?"In Progress":"todo"===e?"To Do":e.replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()})):"Unknown"},Ct=function(e){if(!e)return"No date set";var t=new Date(e),a=new Date;return t.toDateString()===a.toDateString()?"Today at ".concat(t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})):"".concat(t.toLocaleDateString()," at ").concat(t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))},St=function(e){if(!e)return"";var t=new Date(e),a=new Date,s=t.toDateString()===a.toDateString(),r=Math.ceil(Math.abs(a-t)/864e5);return s?"Today at ".concat(t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})):1===r?"Yesterday at ".concat(t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})):r<=7?"".concat(t.toLocaleDateString("en-US",{weekday:"long"})," at ").concat(t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})):"".concat(t.toLocaleDateString()," at ").concat(t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))},Dt=function(e){if(!e)return"No due date";var t=new Date(e),a=new Date,s=t.toDateString()===a.toDateString(),r=new Date(a.setDate(a.getDate()+1)).toDateString()===t.toDateString();return s?"Today":r?"Tomorrow":t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},zt=function(){Ot.current&&(Ot.current.scrollTop=Ot.current.scrollHeight)},_t=function(e){var t;return!(!z||!k)&&(!!(null===(t=k.roles)||void 0===t?void 0:t.includes("super"))||k.id===z.user_id&&!N.includes(e))},At=k&&z&&z.user_id===k.id,Ft=(k&&z&&z.assignees&&z.assignees.includes(k.id),function(){var e=Object(q.a)(V.a.mark((function e(t,a){var s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.trim()){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,de.updateComment(h.id,t,a);case 5:(s=e.sent).success&&(A(s.data.task),mt(null),ft(""),x(s.data.task)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error updating comment:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()),Et=function(){var e=Object(q.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(st){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,de.deleteComment(h.id,st);case 5:(t=e.sent).success&&(A(t.data.task),x(t.data.task)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error deleting comment:",e.t0);case 12:return e.prev=12,xe(!1),rt(null),e.finish(12);case 16:case"end":return e.stop()}}),e,null,[[2,9,12,16]])})));return function(){return e.apply(this,arguments)}}(),Ut=function(){var e=Object(q.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xe(!0),rt(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pt=function(){mt(null),ft("")},Lt=function(){var e=Object(q.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,oe(!0),e.next=4,de.getTask(h.id);case 4:(t=e.sent).success&&(A(t.data.task),et(t.data.task.attachments_count||0),J(g)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error loading task details:",e.t0);case 11:return e.prev=11,oe(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){h&&b&&(Lt(),wt())}),[h,b]),Object(s.useEffect)((function(){b&&(null===z||void 0===z?void 0:z.comments)&&setTimeout((function(){return zt()}),100)}),[null===z||void 0===z?void 0:z.comments,b]),Object(s.useEffect)((function(){(null===z||void 0===z?void 0:z.comments)&&Ot.current&&zt()}),[null===z||void 0===z||null===(l=z.comments)||void 0===l?void 0:l.length]);var It=function(){var e=Object(q.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,de.togglePublic(h.id,{is_public:!z.is_public});case 5:(t=e.sent).success&&(A(t.data.task),x(t.data.task)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error toggling public status:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),Bt=function(){var e=Object(q.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de.addAssignee(h.id,t);case 3:(a=e.sent).success&&(A(a.data.task),x(a.data.task)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error adding assignee:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Rt=function(){var e=Object(q.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de.removeAssignee(h.id,t);case 3:(a=e.sent).success&&(A(a.data.task),x(a.data.task)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error removing assignee:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Mt=function(){var e=Object(q.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ne.trim()){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,de.addComment(h.id,ne);case 5:(t=e.sent).success&&(A(t.data.task),ce(""),x(t.data.task)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error adding comment:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),Wt=function(){var e=Object(q.a)(V.a.mark((function e(t){var a,s,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=U.find((function(e){return e.name===t}))){e.next=5;break}return console.error("No board found for status:",t),e.abrupt("return");case 5:if(!(r="completed"===a.name&&a.is_default)||"completed"===z.status){e.next=12;break}return e.next=9,de.completeTask(h.id);case 9:s=e.sent,e.next=25;break;case 12:if(r||"completed"!==z.status){e.next=22;break}return e.next=15,de.reopenTask(h.id);case 15:if(!(s=e.sent).success){e.next=20;break}return e.next=19,de.updateTask(h.id,{status:t,board_id:a.id});case 19:s=e.sent;case 20:e.next=25;break;case 22:return e.next=24,de.updateTask(h.id,{status:t,board_id:a.id});case 24:s=e.sent;case 25:s.success&&(A(s.data.task),x(s.data.task)),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),console.error("Error updating status:",e.t0);case 31:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(t){return e.apply(this,arguments)}}(),Yt=function(){var e=Object(q.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de.updateTask(h.id,{priority:parseInt(t)});case 3:(a=e.sent).success&&(A(a.data.task),x(a.data.task)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error updating priority:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Ht=function(){var e=Object(q.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dt(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Jt=function(){var e=Object(q.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de.deleteTask(h.id);case 3:e.sent.success&&(x(null),m()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error deleting task:",e.t0);case 10:return e.prev=10,dt(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(){return e.apply(this,arguments)}}();if(!z)return null;var Vt=Nt.find((function(e){return e.value===(null===z||void 0===z?void 0:z.priority)}))||Nt[0],qt=z&&U.length?U.find((function(e){return e.id===z.board_id}))||U.find((function(e){return e.name===z.status})):null,$t=z?z.user&&z.user.name?z.user:z.creator_name?{name:z.creator_name,email:z.creator_email}:g.find((function(e){return e.id===z.user_id}))||{name:"User #".concat(z.user_id),email:""}:null;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(ye.a,{isOpen:b,toggle:m,size:"lg",className:"task-modal modern-modal fixed-modal",centered:!0,style:{maxWidth:"1200px",width:"95%",height:"90vh"},children:[Object(T.jsx)(Ne.a,{className:"modern-modal-header fixed-modal-header",children:Object(T.jsxs)("div",{className:"d-flex align-items-start w-100 justify-content-between",children:[Object(T.jsxs)("div",{className:"task-title-section flex-grow-1 me-3",children:[Object(T.jsx)("div",{className:"d-flex align-items-center mb-2",children:Object(T.jsx)(he.a,{type:"text",value:z.title,onChange:function(e){return A(Object(Z.a)(Object(Z.a)({},z),{},{title:e.target.value}))},onBlur:function(){return de.updateTask(h.id,{title:z.title})},className:"modern-task-title border-0 p-0 me-3",placeholder:"Task title...",style:{fontSize:"1.5rem",fontWeight:"600"}})}),Object(T.jsx)("div",{className:"task-meta-info",children:Object(T.jsxs)("div",{className:"d-flex flex-wrap align-items-center gap-3 text-muted small",children:[Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(ze.a,{size:14,className:"me-1"}),Object(T.jsxs)("span",{children:["Created ",Ct(z.created_at)]})]}),z.updated_at&&z.updated_at!==z.created_at&&Object(T.jsx)("div",{className:"d-flex align-items-center",children:Object(T.jsxs)("span",{children:["\u2022 Updated ",Ct(z.updated_at)]})}),z.due_date&&Object(T.jsx)("div",{className:"d-flex align-items-center text-warning fw-medium",children:Object(T.jsxs)("span",{children:["\u2022 Due ",Dt(z.due_date)]})})]})})]}),Object(T.jsx)("div",{className:"menu-section flex-shrink-0",children:Object(T.jsxs)("div",{className:"task-header-badges d-flex align-items-center gap-2",children:[Object(T.jsxs)(je.a,{color:function(e){switch(e){case 2:return"danger";case 1:return"warning";default:return"success"}}(z.priority),className:"priority-badge d-flex align-items-center",children:[Object(T.jsx)(Vt.icon,{size:14,className:"me-1"}),function(e){switch(e){case 2:return"High";case 1:return"Medium";default:return"Low"}}(z.priority)]}),Object(T.jsx)(je.a,{color:"custom",style:{backgroundColor:function(e,t){if(t){var a=U.find((function(e){return e.id===t}));if(a&&a.color)return a.color}switch(e){case"completed":return"#28a745";case"inProgress":return"#ffc107";case"todo":default:return"#6c757d"}}(z.status,z.board_id),color:"white"},className:"status-badge text-capitalize",children:Tt(z.status)}),Object(T.jsxs)(Ye.a,{isOpen:te,toggle:function(){return ae(!te)},children:[Object(T.jsx)(f.a,{tag:"span",className:"cursor-pointer modern-menu-toggle",children:Object(T.jsx)(_.a,{size:18})}),Object(T.jsx)(O.a,{end:!0,children:Object(T.jsxs)(v.a,{onClick:Ht,children:[Object(T.jsx)(Se.a,{size:14,className:"me-2"}),"Delete Task"]})})]}),Object(T.jsx)(P.a,{color:"link",onClick:m,className:"p-0 modern-close-btn",style:{lineHeight:1},children:Object(T.jsx)(ge.a,{size:20})})]})})]})}),Object(T.jsxs)(we.a,{className:"modern-modal-body fixed-modal-body p-0",children:[Object(T.jsx)("div",{className:"modal-tabs border-bottom bg-white px-3 pt-1",children:Object(T.jsxs)("div",{className:"d-flex",children:[Object(T.jsx)(P.a,{color:"link",className:"tab-button ".concat("details"===Ee?"active":""),onClick:function(){return Ue("details")},children:"Details"}),Object(T.jsxs)(P.a,{color:"link",className:"tab-button ".concat("comments"===Ee?"active":""),onClick:function(){return Ue("comments")},children:[Object(T.jsx)(_e.a,{size:16,className:"me-1"}),"Comments (",(null===(o=z.comments)||void 0===o?void 0:o.length)||0,")"]}),Object(T.jsxs)(P.a,{color:"link",className:"tab-button ".concat("attachments"===Ee?"active":""),onClick:function(){return Ue("attachments")},children:[Object(T.jsx)(Ae.a,{size:16,className:"me-1"}),"Attachments (",Ze,")"]})]})}),Object(T.jsxs)(r.a,{className:"h-100 m-0",children:[Object(T.jsx)(n.a,{lg:8,className:"main-content h-100 p-0",children:Object(T.jsxs)("div",{ref:vt,className:"scrollable-content h-100 p-1",style:{overflowY:"auto",minHeight:"400px"},children:["details"===Ee&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(c.a,{className:"mb-3 modern-card",children:Object(T.jsxs)(i.a,{children:[Object(T.jsx)(pe.a,{className:"fw-semibold text-muted mb-2 d-block",children:"Description"}),Ie?Object(T.jsx)(he.a,{type:"textarea",rows:4,value:z.description||"",onChange:function(e){return A(Object(Z.a)(Object(Z.a)({},z),{},{description:e.target.value}))},onBlur:function(){de.updateTask(h.id,{description:z.description}),Be(!1)},placeholder:"Add a description for this task...",className:"modern-textarea border-0 bg-light",autoFocus:!0}):Object(T.jsx)("div",{className:"description-view bg-light p-2 rounded",style:{whiteSpace:"pre-line",minHeight:"100px",cursor:"pointer"},onClick:function(){return Be(!0)},children:z.description?Object(T.jsx)(lt,{text:z.description}):Object(T.jsx)("span",{className:"text-muted",children:"Click to add a description..."})})]})}),Object(T.jsx)(c.a,{className:"mb-3 modern-card priority-section",children:Object(T.jsxs)(i.a,{children:[Object(T.jsxs)(pe.a,{className:"fw-semibold text-muted mb-2 d-block",children:[Object(T.jsx)(Ve.a,{size:16,className:"me-2"}),"Priority"]}),Object(T.jsx)("div",{className:"d-flex gap-2 flex-wrap",children:Nt.map((function(e){return Object(T.jsxs)(P.a,{color:z.priority===e.value?e.color:"outline-secondary",size:"sm",onClick:function(){return Yt(e.value)},className:"d-flex align-items-center",children:[Object(T.jsx)(e.icon,{size:14,className:"me-1"}),e.label]},e.value)}))})]})}),Object(T.jsx)(c.a,{className:"mb-3 modern-card",children:Object(T.jsxs)(i.a,{children:[Object(T.jsx)(pe.a,{className:"fw-semibold text-muted mb-2 d-block",children:"Quick Actions"}),Object(T.jsxs)("div",{className:"d-flex flex-wrap gap-3",children:[Object(T.jsxs)("div",{className:"action-item",children:[Object(T.jsx)(pe.a,{className:"small text-muted mb-1",children:"Status"}),Object(T.jsx)(he.a,{type:"select",value:z.status,onChange:function(e){return Wt(e.target.value)},className:"modern-select",children:R.map((function(e){return Object(T.jsxs)("option",{value:e.name,children:[Tt(e.name),e.is_default?" (Default)":" (Custom)"]},e.id)}))}),qt&&Object(T.jsxs)("div",{className:"small text-muted mt-1 d-flex align-items-center",children:[Object(T.jsx)("div",{className:"color-indicator me-2",style:{backgroundColor:qt.color,width:"12px",height:"12px",borderRadius:"2px"}}),Object(T.jsxs)("span",{children:[qt.is_default?"Default Board":"Custom Board"," \u2022 ",qt.tasks_count||0," tasks"]})]}),!kt&&Object(T.jsxs)("small",{className:"text-info mt-1 d-block",children:[Object(T.jsx)(qe.a,{size:12,className:"me-1"}),"Only showing boards with your tasks"]})]}),Object(T.jsxs)("div",{className:"action-item",children:[Object(T.jsx)(pe.a,{className:"small text-muted mb-1",children:"Due Date"}),Object(T.jsx)(he.a,{type:"date",value:z.due_date?z.due_date.split("T")[0]:"",onChange:function(e){var t=e.target.value?new Date(e.target.value).toISOString():null;A(Object(Z.a)(Object(Z.a)({},z),{},{due_date:t})),de.updateTask(h.id,{due_date:t})},className:"modern-select"}),z.due_date&&Object(T.jsxs)("div",{className:"small text-muted mt-1",children:[Object(T.jsx)(ze.a,{size:12,className:"me-1"}),Dt(z.due_date)]})]}),Object(T.jsxs)("div",{className:"action-item",children:[Object(T.jsx)(pe.a,{className:"small text-muted mb-1",children:"Visibility"}),Object(T.jsx)("div",{className:"d-flex align-items-center",children:Object(T.jsx)(P.a,{color:z.is_public?"success":"secondary",size:"sm",onClick:It,className:"d-flex align-items-center modern-toggle-btn",children:z.is_public?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)($e.a,{size:14,className:"me-1"}),"Public"]}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Ge.a,{size:14,className:"me-1"}),"Private"]})})}),Object(T.jsx)("small",{className:"text-muted mt-1 d-block",children:z.is_public?"Visible to all users":"Only assigned users"})]})]})]})})]}),"comments"===Ee&&Object(T.jsxs)("div",{className:"comments-container h-100 d-flex flex-column",children:[Object(T.jsxs)("div",{ref:Ot,className:"comments-list flex-grow-1 p-1",style:{overflowY:"auto",minHeight:"200px"},children:[null===(u=z.comments)||void 0===u?void 0:u.map((function(e,t){var a,s;return Object(T.jsx)("div",{className:"comment-item mb-1",children:Object(T.jsxs)("div",{className:"d-flex align-items-start",children:[Object(T.jsx)("div",{className:"comment-avatar me-3 flex-shrink-0",children:Object(T.jsx)("div",{className:"avatar-circle bg-primary text-white d-flex align-items-center justify-content-center",children:(null===(a=e.user_name)||void 0===a||null===(s=a.charAt(0))||void 0===s?void 0:s.toUpperCase())||"U"})}),Object(T.jsxs)("div",{className:"comment-content flex-grow-1",children:[Object(T.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsxs)("strong",{className:"comment-author me-2 ml-1",children:[e.user_name,k&&e.user_id===k.id&&Object(T.jsx)("span",{className:"text-primary ms-1",children:"(me)"})]}),Object(T.jsxs)("small",{className:"text-muted comment-time ml-1",children:[St(e.created_at),e.edited&&Object(T.jsx)("span",{className:"ms-1 text-muted",children:"\u2022 edited"})]})]}),k&&e.user_id===k.id&&Object(T.jsx)("div",{className:"d-flex",children:bt===e.id?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(P.a,{color:"primary",size:"sm",className:"me-1 action-btn",onClick:function(){return Ft(e.id,pt)},children:Object(T.jsx)(ve.a,{size:12})}),Object(T.jsx)(P.a,{color:"secondary",size:"sm",onClick:Pt,className:"action-btn",children:Object(T.jsx)(ge.a,{size:12})})]}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(P.a,{color:"link",size:"sm",className:"text-secondary p-1 me-1",onClick:function(){return function(e){mt(e.id),ft(e.content)}(e)},children:Object(T.jsx)(Ke.a,{size:12})}),Object(T.jsx)(P.a,{color:"link",size:"sm",className:"p-1",onClick:function(){return Ut(e.id)},children:Object(T.jsx)(Se.a,{size:12})})]})})]}),bt===e.id?Object(T.jsx)("div",{className:"editing-comment",children:Object(T.jsx)(he.a,{type:"textarea",rows:3,value:pt,onChange:function(e){return ft(e.target.value)},className:"modern-textarea mb-1",autoFocus:!0})}):Object(T.jsx)("div",{className:"comment-text bg-light p-1 rounded",style:{whiteSpace:"pre-line"},children:Object(T.jsx)(lt,{text:e.content})})]})]})},t)})),(!z.comments||0===z.comments.length)&&Object(T.jsxs)("div",{className:"text-center text-muted py-5",children:[Object(T.jsx)(_e.a,{size:48,className:"mb-3 opacity-25"}),Object(T.jsx)("h6",{className:"text-muted",children:"No comments yet"}),Object(T.jsx)("p",{className:"small mb-0",children:"Be the first to add a comment"})]})]}),Object(T.jsx)("div",{className:"add-comment-section border-top bg-white p-1",children:Object(T.jsx)("div",{className:"comment-input-container",children:Object(T.jsxs)("div",{className:"d-flex align-items-start gap-2",children:[Object(T.jsx)("div",{className:"flex-grow-1",children:Object(T.jsx)(he.a,{type:"textarea",rows:3,value:ne,onChange:function(e){return ce(e.target.value)},placeholder:"Type your comment here...",className:"modern-textarea",style:{resize:"none"}})}),Object(T.jsxs)(P.a,{color:"primary",onClick:Mt,disabled:!ne.trim(),className:"comment-submit-btn align-self-end",style:{borderRadius:"8px",padding:"0.75rem 1.5rem"},children:[Object(T.jsx)(Xe.a,{size:16,className:"me-1"}),"Send"]})]})})})]}),"attachments"===Ee&&Object(T.jsx)("div",{className:"attachments-tab-content",style:{minHeight:"400px"},children:Object(T.jsx)(it,{task:z,currentUser:k,onUpdate:function(e){x&&x(h.id,e)},onAttachmentsCountChange:function(e){et(e)}})})]})}),Object(T.jsx)(n.a,{lg:4,className:"sidebar h-100 p-0 border-start",children:Object(T.jsx)("div",{ref:gt,className:"scrollable-content h-100 p-3",style:{overflowY:"auto"},children:Object(T.jsx)("div",{className:"sticky-sidebar",children:Object(T.jsx)(c.a,{className:"modern-card mb-1",children:Object(T.jsxs)(i.a,{children:[Object(T.jsx)("h6",{className:"sidebar-title mb-1",children:"Task Information"}),Object(T.jsxs)("div",{className:"info-item mb-2",children:[Object(T.jsx)(pe.a,{className:"small text-muted mb-1",children:"Created By"}),Object(T.jsxs)("div",{className:"creator-info d-flex align-items-center p-2 bg-light rounded",children:[Object(T.jsx)(je.a,{color:"primary",className:"user-avatar me-2",children:(null===$t||void 0===$t||null===(j=$t.name)||void 0===j?void 0:j.charAt(0))||"U"}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("div",{className:"fw-medium",children:[(null===$t||void 0===$t?void 0:$t.name)||"Unknown",At&&Object(T.jsx)("span",{className:"text-primary",children:" (me)"})]}),(null===$t||void 0===$t?void 0:$t.email)&&Object(T.jsx)("div",{className:"small text-muted",children:$t.email})]})]})]}),Object(T.jsxs)("div",{className:"info-item",children:[Object(T.jsxs)(pe.a,{className:"small text-muted mb-1 d-flex justify-content-between align-items-center",children:[Object(T.jsx)("span",{children:"Assignees"}),function(){var e;return!(!z||!k)&&(k.id===z.user_id||(null===(e=k.roles)||void 0===e?void 0:e.includes("super")))}()&&!z.is_public&&Object(T.jsxs)(Ye.a,{isOpen:K,toggle:function(){return X(!K)},direction:"start",children:[Object(T.jsx)(f.a,{color:"link",size:"sm",className:"text-primary p-0",children:Object(T.jsx)(fe.a,{size:14})}),Object(T.jsx)(O.a,{style:{position:"fixed",top:"auto",bottom:"90px",right:"90px",left:"auto",maxHeight:"300px",overflowY:"auto",zIndex:9999},children:H.filter((function(e){return e.id!==z.user_id})).map((function(e){var t,a;return Object(T.jsx)(v.a,{onClick:function(){return Bt(e.id)},disabled:null===(t=z.assignees)||void 0===t?void 0:t.includes(e.id),children:Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(je.a,{color:"secondary",className:"me-2 small-avatar",children:null===(a=e.name)||void 0===a?void 0:a.charAt(0)}),Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{children:e.name}),Object(T.jsx)("small",{className:"text-muted",children:e.email})]})]})},e.id)}))})]})]}),Object(T.jsx)("div",{className:"assignees-list",children:z.is_public?Object(T.jsxs)("div",{className:"public-assignees text-center p-0 bg-opacity-10 rounded border",children:[Object(T.jsx)(Oe.a,{size:20,className:"text-success mb-0"}),Object(T.jsx)("div",{className:"small fw-medium text-success",children:"Public Task"}),Object(T.jsx)("div",{className:"small text-muted text-center",children:"All users can access"})]}):Object(T.jsx)("div",{className:"private-assignees",children:z.assignees&&z.assignees.length>0?z.assignees.map((function(e){var t,a=H.find((function(t){return t.id===e}));if(!a)return null;var s=k&&a.id===k.id,r=N.includes(a.id);return Object(T.jsxs)("div",{className:"assignee-item d-flex align-items-center justify-content-between p-2 mb-2 bg-light rounded ".concat(r?"super-admin":""),children:[Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)("div",{className:"avatar me-2 ".concat(r?"super-admin-avatar":"regular-avatar"),children:null===(t=a.name)||void 0===t?void 0:t.charAt(0).toUpperCase()}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("div",{className:"small fw-medium",children:[a.name,s&&Object(T.jsx)("span",{className:"text-primary",children:" (me)"})]}),Object(T.jsx)("div",{className:"small text-muted",children:a.email})]})]}),_t(e)&&Object(T.jsx)(P.a,{color:"link",size:"sm",className:"text-danger p-0",onClick:function(){return Rt(e)},children:Object(T.jsx)(ge.a,{size:14})})]},e)})):Object(T.jsxs)("div",{className:"text-center text-muted p-3 bg-light rounded border",children:[Object(T.jsx)(Fe.a,{size:20,className:"mb-2 opacity-50"}),Object(T.jsx)("div",{className:"small",children:"No assignees"})]})})})]})]})})})})})]})]})]}),Object(T.jsxs)(ye.a,{isOpen:me,toggle:function(){return xe(!1)},size:"sm",className:"modern-modal",children:[Object(T.jsxs)(Ne.a,{toggle:function(){return xe(!1)},className:"modern-modal-header",children:[Object(T.jsx)(Se.a,{size:16,className:"me-2",color:"primary"}),"Delete Comment"]}),Object(T.jsx)(we.a,{children:Object(T.jsxs)("div",{className:"text-center",children:[Object(T.jsx)(Qe.a,{size:32,className:"r mb-1"}),Object(T.jsx)("p",{className:"mb-1",children:"Are you sure you want to delete this comment?"}),Object(T.jsx)("p",{className:"small text-muted",children:"This action cannot be undone."})]})}),Object(T.jsxs)(Te.a,{className:"justify-content-center",children:[Object(T.jsx)(P.a,{color:"secondary",onClick:function(){return xe(!1)},className:"modern-btn",children:"Cancel"}),Object(T.jsxs)(P.a,{color:"primary",onClick:Et,className:"modern-btn",children:[Object(T.jsx)(Se.a,{size:14,className:"me-1"}),"Delete"]})]})]}),Object(T.jsxs)(ye.a,{isOpen:ot,toggle:function(){return dt(!1)},className:"modern-modal",children:[Object(T.jsxs)(Ne.a,{toggle:function(){return dt(!1)},className:"modern-modal-header",children:[Object(T.jsx)(Se.a,{size:16,className:"me-2",color:"primary"}),"Delete Task"]}),Object(T.jsx)(we.a,{children:Object(T.jsxs)("div",{className:"text-center",children:[Object(T.jsx)(Qe.a,{size:32,className:"mb-0",color:"primary"}),Object(T.jsx)("p",{className:"mb-1",children:"Are you sure you want to delete this task?"}),Object(T.jsxs)("div",{className:"alert alert-warning p-1 mb-1 text-start",children:[Object(T.jsx)("strong",{children:z.title}),z.description&&Object(T.jsxs)("div",{className:"mt-0 small",children:[z.description.substring(0,100),"..."]}),Object(T.jsxs)("div",{className:"mt-1 small text-muted",children:["Created: ",z.created_at?Ct(z.created_at):"Unknown"]})]})]})}),Object(T.jsxs)(Te.a,{className:"justify-content-center",children:[Object(T.jsx)(P.a,{color:"secondary",onClick:function(){return dt(!1)},className:"modern-btn",children:"Cancel"}),Object(T.jsxs)(P.a,{color:"primary",onClick:Jt,className:"modern-btn",children:[Object(T.jsx)(Se.a,{size:14,className:"me-1"}),"Delete Task"]})]})]})]})},dt=a(407),ut=function(){var e,t=Object(s.useState)([]),a=Object(d.a)(t,2),r=a[0],n=a[1],l=Object(s.useState)(!0),o=Object(d.a)(l,2),u=o[0],j=o[1],b=Object(s.useState)(null),m=Object(d.a)(b,2),x=m[0],p=m[1],f=Object(s.useState)(null),O=Object(d.a)(f,2),v=O[0],g=O[1],k=Object(s.useState)(!1),y=Object(d.a)(k,2),N=y[0],w=y[1],C=Object(s.useState)(!1),S=Object(d.a)(C,2),D=S[0],z=S[1],_=Object(s.useState)(null),A=Object(d.a)(_,2),F=A[0],E=A[1],U=Object(s.useState)(!1),L=Object(d.a)(U,2),I=L[0],B=L[1],R=function(){var e=Object(q.a)(V.a.mark((function e(){var t,a,s,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),p(null),e.next=5,de.getDeletedTasks();case 5:(t=e.sent).success?n(t.data.tasks||[]):p(t.message||"Failed to load deleted tasks"),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),r=(null===(a=e.t0.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to load deleted tasks. Please try again.",p(r),console.error("Error loading deleted tasks:",e.t0);case 14:return e.prev=14,j(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,9,14,17]])})));return function(){return e.apply(this,arguments)}}(),M=function(){setTimeout((function(){p(null),g(null)}),5e3)},W=function(){var e=Object(q.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(t),w(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(q.a)(V.a.mark((function e(){var t,a,s,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,B(!0),e.next=6,de.restoreTask(F.id);case 6:(t=e.sent).success?(g("Task restored successfully!"),n((function(e){return e.filter((function(e){return e.id!==F.id}))})),w(!1),E(null),M()):(p(t.message||"Failed to restore task"),M()),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),r=(null===(a=e.t0.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to restore task",p(r),M();case 15:return e.prev=15,B(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,10,15,18]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(q.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(t),z(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(q.a)(V.a.mark((function e(){var t,a,s,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,B(!0),e.next=6,de.forceDeleteTask(F.id);case 6:(t=e.sent).success?(g("Task permanently deleted!"),n((function(e){return e.filter((function(e){return e.id!==F.id}))})),z(!1),E(null),M()):(p(t.message||"Failed to delete task"),M()),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),r=(null===(a=e.t0.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to delete task",p(r),M();case 15:return e.prev=15,B(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,10,15,18]])})));return function(){return e.apply(this,arguments)}}(),$=function(e){return e?new Date(e).toLocaleString():"N/A"},G=function(e){return{todo:"secondary",inProgress:"warning",completed:"success"}[e]||"secondary"};return Object(s.useEffect)((function(){R()}),[]),u?Object(T.jsx)(c.a,{children:Object(T.jsxs)(i.a,{className:"text-center",children:[Object(T.jsx)(te.a,{color:"primary"}),Object(T.jsx)("div",{className:"mt-2",children:"Loading deleted tasks..."})]})}):Object(T.jsxs)("div",{className:"deleted-tasks",children:[Object(T.jsxs)(c.a,{children:[Object(T.jsxs)(h.a,{className:"d-flex justify-content-between align-items-center",children:[Object(T.jsxs)("div",{children:[Object(T.jsx)("h4",{className:"mb-0",children:"Deleted Tasks"}),Object(T.jsx)("small",{className:"text-muted",children:"Only visible to Super Admins"})]}),Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsxs)(je.a,{color:"dark",className:"me-2",children:[r.length," deleted task",1!==r.length?"s":""]}),Object(T.jsx)(P.a,{color:"primary",size:"sm",onClick:R,disabled:u,children:Object(T.jsx)(ue.a,{size:14,className:u?"spinning":""})})]})]}),Object(T.jsxs)(i.a,{children:[x&&Object(T.jsxs)(ae.a,{color:"primary",children:[Object(T.jsx)("h4",{className:"alert-heading",children:"Error"}),Object(T.jsx)("p",{className:"mb-0",children:x})]}),v&&Object(T.jsxs)(ae.a,{color:"success",children:[Object(T.jsx)("strong",{children:"Success!"})," ",v]}),0===r.length?Object(T.jsxs)("div",{className:"text-center py-5",children:[Object(T.jsx)(Se.a,{size:48,className:"text-muted mb-3"}),Object(T.jsx)("h5",{children:"No deleted tasks found"}),Object(T.jsx)("p",{className:"text-muted",children:"There are no tasks in the trash."})]}):Object(T.jsx)("div",{className:"table-responsive",children:Object(T.jsxs)(dt.a,{hover:!0,children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{children:"Title"}),Object(T.jsx)("th",{children:"Status"}),Object(T.jsx)("th",{children:"Creator"}),Object(T.jsx)("th",{children:"Deleted At"}),Object(T.jsx)("th",{children:"Created At"}),Object(T.jsx)("th",{children:"Actions"})]})}),Object(T.jsx)("tbody",{children:r.map((function(e){return Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:Object(T.jsxs)("div",{children:[Object(T.jsx)("strong",{children:e.title}),e.description&&Object(T.jsxs)("div",{className:"text-muted small mt-1",children:[e.description.substring(0,100),"..."]})]})}),Object(T.jsx)("td",{children:Object(T.jsx)(je.a,{color:G(e.status),children:e.status})}),Object(T.jsx)("td",{children:e.user?Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{className:"fw-bold",children:e.user.name}),Object(T.jsx)("div",{className:"small text-muted",children:e.user.email})]}):Object(T.jsx)("span",{className:"text-muted",children:"Unknown"})}),Object(T.jsx)("td",{children:Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(ze.a,{size:14,className:"me-1 text-danger"}),$(e.deleted_at)]})}),Object(T.jsx)("td",{children:Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(ze.a,{size:14,className:"me-1 text-muted"}),$(e.created_at)]})}),Object(T.jsx)("td",{children:Object(T.jsxs)("div",{className:"d-flex",children:[Object(T.jsx)(P.a,{color:"success",size:"sm",className:"me-1",onClick:function(){return W(e)},disabled:I,children:Object(T.jsx)(ue.a,{size:14})}),Object(T.jsx)(P.a,{color:"primary",size:"sm",onClick:function(){return H(e)},disabled:I,children:Object(T.jsx)(Se.a,{size:14})})]})})]},e.id)}))})]})})]})]}),Object(T.jsxs)(ye.a,{isOpen:N,toggle:function(){return w(!1)},children:[Object(T.jsx)(Ne.a,{toggle:function(){return w(!1)},children:"Restore Task"}),Object(T.jsx)(we.a,{children:F&&Object(T.jsxs)("div",{children:[Object(T.jsx)("p",{children:"Are you sure you want to restore this task?"}),Object(T.jsxs)("div",{className:"alert alert-info",children:[Object(T.jsx)("strong",{children:F.title}),F.description&&Object(T.jsxs)("div",{className:"mt-1",children:[F.description.substring(0,200),"..."]})]}),Object(T.jsxs)("div",{className:"small text-muted",children:[Object(T.jsxs)("div",{children:["Status: ",Object(T.jsx)(je.a,{color:G(F.status),children:F.status})]}),Object(T.jsxs)("div",{children:["Deleted: ",$(F.deleted_at)]})]})]})}),Object(T.jsxs)(Te.a,{children:[Object(T.jsx)(P.a,{color:"primary",onClick:function(){return w(!1)},disabled:I,children:"Cancel"}),Object(T.jsx)(P.a,{color:"success",onClick:Y,disabled:I,children:I?Object(T.jsx)(te.a,{size:"sm"}):"Restore Task"})]})]}),Object(T.jsxs)(ye.a,{isOpen:D,toggle:function(){return z(!1)},children:[Object(T.jsx)(Ne.a,{toggle:function(){return z(!1)},children:"Permanently Delete Task"}),Object(T.jsx)(we.a,{children:F&&Object(T.jsxs)("div",{children:[Object(T.jsxs)(ae.a,{color:"primary",children:[Object(T.jsx)("h5",{className:"alert-heading",children:"Warning!"}),Object(T.jsx)("p",{className:"mb-0",children:"This action cannot be undone. The task will be permanently deleted from the system."})]}),Object(T.jsx)("p",{children:"Are you sure you want to permanently delete this task?"}),Object(T.jsxs)("div",{className:"alert alert-warning",children:[Object(T.jsx)("strong",{children:F.title}),F.description&&Object(T.jsxs)("div",{className:"mt-1",children:[F.description.substring(0,200),"..."]})]}),Object(T.jsxs)("div",{className:"small text-muted",children:[Object(T.jsxs)("div",{children:["Status: ",Object(T.jsx)(je.a,{color:G(F.status),children:F.status})]}),Object(T.jsxs)("div",{children:["Creator: ",(null===(e=F.user)||void 0===e?void 0:e.name)||"Unknown"]}),Object(T.jsxs)("div",{children:["Deleted: ",$(F.deleted_at)]})]})]})}),Object(T.jsxs)(Te.a,{children:[Object(T.jsx)(P.a,{color:"secondary",onClick:function(){return z(!1)},disabled:I,children:"Cancel"}),Object(T.jsx)(P.a,{color:"primary",onClick:J,disabled:I,children:I?Object(T.jsx)(te.a,{size:"sm"}):"Permanently Delete"})]})]}),Object(T.jsx)("style",{jsx:!0,children:"\n        .spinning {\n          animation: spin 1s linear infinite;\n        }\n        \n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n      "})]})},jt=a(633),bt=a(640),mt=a(111),ht=new(function(){function e(){Object(le.a)(this,e),this.defaultFilters={users:[],userRole:"both",priority:null,createdDateFrom:null,createdDateTo:null,dueDateFrom:null,dueDateTo:null,searchTerm:"",status:null,hasAttachments:null,isPublic:null}}return Object(oe.a)(e,[{key:"isSuperAdmin",value:function(e){var t,a;return"super@admin.com"===(null===e||void 0===e?void 0:e.email)||(null===e||void 0===e||null===(t=e.roles)||void 0===t?void 0:t.includes("super"))||(null===e||void 0===e||null===(a=e.permissions)||void 0===a?void 0:a.includes("all"))}},{key:"isAdmin",value:function(e){var t,a;return this.isSuperAdmin(e)||(null===e||void 0===e||null===(t=e.roles)||void 0===t?void 0:t.includes("admin"))||(null===e||void 0===e||null===(a=e.roles)||void 0===a?void 0:a.includes("Manager"))}},{key:"applyFilters",value:function(e,t){var a=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return e&&Array.isArray(e)?e.filter((function(e){if(t.searchTerm&&""!==t.searchTerm.trim()){var r,n,c=t.searchTerm.toLowerCase(),i=(null===(r=e.title)||void 0===r?void 0:r.toLowerCase().includes(c))||!1,l=(null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(c))||!1;if(!i&&!l)return!1}if(t.users&&t.users.length>0&&a.isSuperAdmin(s)&&!t.users.some((function(a){var s=parseInt(a);switch(t.userRole){case"creator":return e.user_id===s;case"assignee":return e.assignees&&e.assignees.includes(s);case"both":default:return e.user_id===s||e.assignees&&e.assignees.includes(s)}})))return!1;if(null!==t.priority&&""!==t.priority&&e.priority!==parseInt(t.priority))return!1;if(t.status&&"all"!==t.status&&e.status!==t.status)return!1;if(t.createdDateFrom&&new Date(e.created_at)<new Date(t.createdDateFrom))return!1;if(t.createdDateTo){var o=new Date(e.created_at),d=new Date(t.createdDateTo);if(d.setHours(23,59,59,999),o>d)return!1}if(e.due_date){if(t.dueDateFrom)if(new Date(e.due_date)<new Date(t.dueDateFrom))return!1;if(t.dueDateTo){var u=new Date(e.due_date),j=new Date(t.dueDateTo);if(j.setHours(23,59,59,999),u>j)return!1}}else if(t.dueDateFrom||t.dueDateTo)return!1;if(null!==t.hasAttachments){var b=(e.attachments_count||0)>0;if(t.hasAttachments!==b)return!1}return null===t.isPublic||e.is_public===t.isPublic})):[]}},{key:"getFilterSummary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=[];if(e.searchTerm&&s.push('Search: "'.concat(e.searchTerm,'"')),e.users&&e.users.length>0&&this.isSuperAdmin(a)){var r=t.filter((function(t){return e.users.includes(t.id.toString())}));if(r.length>0){var n="Users: ";r.length<=2?n+=r.map((function(e){return e.name})).join(", "):n+="".concat(r.length," users");var c=this.getUserRoleText(e.userRole);n+=" (".concat(c,")"),s.push(n)}}if(null!==e.priority&&""!==e.priority){var i={0:"Low",1:"Medium",2:"High"};s.push("Priority: ".concat(i[e.priority]))}if(e.status&&"all"!==e.status&&s.push("Status: ".concat(e.status)),e.createdDateFrom||e.createdDateTo){var l="Created: ";e.createdDateFrom&&e.createdDateTo?l+="".concat(this.formatDate(e.createdDateFrom)," to ").concat(this.formatDate(e.createdDateTo)):e.createdDateFrom?l+="from ".concat(this.formatDate(e.createdDateFrom)):e.createdDateTo&&(l+="until ".concat(this.formatDate(e.createdDateTo))),s.push(l)}if(e.dueDateFrom||e.dueDateTo){var o="Due: ";e.dueDateFrom&&e.dueDateTo?o+="".concat(this.formatDate(e.dueDateFrom)," to ").concat(this.formatDate(e.dueDateTo)):e.dueDateFrom?o+="from ".concat(this.formatDate(e.dueDateFrom)):e.dueDateTo&&(o+="until ".concat(this.formatDate(e.dueDateTo))),s.push(o)}return null!==e.hasAttachments&&s.push("Attachments: ".concat(e.hasAttachments?"Has Files":"No Files")),null!==e.isPublic&&s.push("Visibility: ".concat(e.isPublic?"Public":"Private")),s}},{key:"getUserRoleText",value:function(e){switch(e){case"creator":return"Creator Only";case"assignee":return"Assignee Only";case"both":return"Creator or Assignee";default:return"Any Role"}}},{key:"formatDate",value:function(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}},{key:"resetFilters",value:function(){return Object(Z.a)({},this.defaultFilters)}},{key:"hasActiveFilters",value:function(e){return Object.keys(e).some((function(t){return"searchTerm"===t?""!==e[t]:"users"===t?e[t]&&e[t].length>0:null!==e[t]&&""!==e[t]}))}},{key:"getStatusOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[{value:"all",label:"All Statuses"},{value:"todo",label:"To Do"},{value:"inProgress",label:"In Progress"},{value:"completed",label:"Completed"}],a=e.filter((function(e){return!["todo","inProgress","completed"].includes(e.name)})).map((function(e){return{value:e.name,label:e.name.charAt(0).toUpperCase()+e.name.slice(1)}}));return[].concat(t,Object(ee.a)(a))}},{key:"getUserRoleOptions",value:function(){return[{value:"both",label:"Creator or Assignee"},{value:"creator",label:"Creator Only"},{value:"assignee",label:"Assignee Only"}]}}]),e}()),xt=function(e){var t,a,l,u=e.filters,j=e.onFiltersChange,b=e.availableUsers,m=void 0===b?[]:b,h=e.currentUser,x=e.totalTasks,p=void 0===x?0:x,f=e.filteredTasks,O=void 0===f?0:f,v=e.boards,g=void 0===v?[]:v,k=e.allTasks,y=void 0===k?[]:k,N=Object(s.useState)(!1),w=Object(d.a)(N,2),C=w[0],S=w[1],D=Object(s.useState)(u),z=Object(d.a)(D,2),_=z[0],A=z[1],F=ht.isSuperAdmin(h),E=ht.hasActiveFilters(u),U=ht.getFilterSummary(u,m,h),L=ht.getUserRoleOptions(),I=["todo","inProgress","completed"],B=function(){return g.length?g.filter((function(e){return!!I.includes(e.name)||(!!F||y.filter((function(t){return t.board_id===e.id})).some((function(e){return e.user_id===(null===h||void 0===h?void 0:h.id)||e.assignees&&e.assignees.includes(null===h||void 0===h?void 0:h.id)||e.is_public})))})):[]},R=function(){var e=B().filter((function(e){return!["todo","inProgress","completed"].includes(e.name)})).map((function(e){return{value:e.name,label:e.name.charAt(0).toUpperCase()+e.name.slice(1),board:e}}));return[].concat([{value:"all",label:"All Statuses"},{value:"todo",label:"To Do"},{value:"inProgress",label:"In Progress"},{value:"completed",label:"Completed"}],Object(ee.a)(e))}(),M=m.map((function(e){return{value:e.id.toString(),label:"".concat(e.name," (").concat(e.email,")"),user:e}})),W=_.users?M.filter((function(e){return _.users.includes(e.value)})):[],Y=function(e,t){var a=Object(Z.a)(Object(Z.a)({},_),{},Object(o.a)({},e,t));A(a)},H=function(){j(_)},J=function(){var e=ht.resetFilters();A(e),j(e)},V=function(e){var t=Object(Z.a)(Object(Z.a)({},_),{},Object(o.a)({},e,ht.defaultFilters[e]));A(t),j(t)},q=function(e,t){var a=Object(Z.a)({},_);switch(e){case"myTasks":a.users=[h.id.toString()],a.userRole="both",a.isPublic=null;break;case"publicTasks":a.users=[],a.userRole="both",a.isPublic=!0;break;case"privateTasks":a.users=[],a.userRole="both",a.isPublic=!1;break;case"withAttachments":a.hasAttachments=!0;break;case"highPriority":a.priority=2;break;case"dueThisWeek":var s=new Date,r=new Date(s);r.setDate(s.getDate()+7),a.dueDateFrom=s.toISOString().split("T")[0],a.dueDateTo=r.toISOString().split("T")[0];break;case"recent":var n=new Date;n.setDate(n.getDate()-7),a.createdDateFrom=n.toISOString().split("T")[0],a.createdDateTo=(new Date).toISOString().split("T")[0]}A(a),j(a)},$={control:function(e){return Object(Z.a)(Object(Z.a)({},e),{},{minHeight:"38px",fontSize:"0.875rem"})},menu:function(e){return Object(Z.a)(Object(Z.a)({},e),{},{fontSize:"0.875rem"})},multiValue:function(e){return Object(Z.a)(Object(Z.a)({},e),{},{backgroundColor:"#e9ecef",borderRadius:"4px"})},multiValueLabel:function(e){return Object(Z.a)(Object(Z.a)({},e),{},{fontSize:"0.8rem",padding:"2px 6px"})}},G=B();g.length,G.length;return Object(T.jsx)(c.a,{className:"mb-1",children:Object(T.jsxs)(i.a,{className:"p-1",children:[Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center cursor-pointer",onClick:function(){return S(!C)},children:[Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(jt.a,{size:18,className:"text-primary me-2"}),Object(T.jsx)("h6",{className:"mb-0 me-2 pr-1",children:"Task Filters"}),E&&Object(T.jsxs)(je.a,{color:"primary",pill:!0,className:"me-2 mr-1",children:[U.length," active filters"]}),Object(T.jsxs)(je.a,{color:"secondary",pill:!0,children:[O," of ",p," tasks"]})]}),Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[E&&Object(T.jsx)(P.a,{color:"link",size:"sm",onClick:function(e){e.stopPropagation(),J()},className:"text-danger px-1 me-2",title:"Reset all filters",children:Object(T.jsx)(ue.a,{size:14})}),C?Object(T.jsx)(Ie.a,{size:16}):Object(T.jsx)(Le.a,{size:16})]})]}),Object(T.jsx)("div",{className:"mt-1",children:Object(T.jsxs)("div",{className:"d-flex flex-wrap gap-1 mb-1 ",children:[Object(T.jsxs)(P.a,{color:"outline-success",size:"sm",onClick:function(){return q("publicTasks")},className:"flex-shrink-0 mr-1",children:[Object(T.jsx)(Oe.a,{size:12,className:"me-1"}),"Public Tasks"]}),Object(T.jsxs)(P.a,{color:"outline-secondary",size:"sm",onClick:function(){return q("privateTasks")},className:"flex-shrink-0 mr-1",children:[Object(T.jsx)(Ge.a,{size:12,className:"me-1"}),"Private Tasks"]}),Object(T.jsxs)(P.a,{color:"outline-info",size:"sm",onClick:function(){return q("withAttachments")},className:"flex-shrink-0 mr-1",children:[Object(T.jsx)(Ae.a,{size:12,className:"me-1"}),"With Files"]}),Object(T.jsxs)(P.a,{color:"outline-danger",size:"sm",onClick:function(){return q("highPriority")},className:"flex-shrink-0 mr-1",children:[Object(T.jsx)(De.a,{size:12,className:"me-1"}),"High Priority"]}),Object(T.jsxs)(P.a,{color:"outline-warning",size:"sm",onClick:function(){return q("dueThisWeek")},className:"flex-shrink-0 mr-1",children:[Object(T.jsx)(ze.a,{size:12,className:"me-1"}),"Due This Week"]}),Object(T.jsxs)(P.a,{color:"outline-dark",size:"sm",onClick:function(){return q("recent")},className:"flex-shrink-0 mr-1",children:[Object(T.jsx)(ze.a,{size:12,className:"me-1"}),"Recent (Last 7 days)"]})]})}),E&&U.length>0&&Object(T.jsx)("div",{className:"mt-0",children:Object(T.jsx)("div",{className:"d-flex flex-wrap gap-1",children:U.map((function(e,t){var a=e.startsWith("Users:");return Object(T.jsxs)(je.a,{color:"primary",className:"d-flex align-items-center border cursor-pointer",style:{fontSize:"0.7rem"},onClick:function(){a?(V("users"),V("userRole")):e.startsWith("Search:")?V("searchTerm"):e.startsWith("Priority:")?V("priority"):e.startsWith("Status:")?V("status"):e.startsWith("Created:")?(V("createdDateFrom"),V("createdDateTo")):e.startsWith("Due:")?(V("dueDateFrom"),V("dueDateTo")):e.startsWith("Attachments:")?V("hasAttachments"):e.startsWith("Visibility:")&&V("isPublic")},children:[e,Object(T.jsx)(ge.a,{size:12,className:"ms-1"})]},t)}))})}),Object(T.jsx)(Pe.a,{isOpen:C,children:Object(T.jsx)("div",{className:"mt-1 pt-1 border-top",children:Object(T.jsxs)(r.a,{children:[Object(T.jsx)(n.a,{md:5,className:"mb-1",children:Object(T.jsxs)(xe.a,{children:[Object(T.jsxs)(pe.a,{for:"searchTerm",className:"small fw-bold",children:[Object(T.jsx)(bt.a,{size:14,className:"me-1"}),"Search Tasks"]}),Object(T.jsx)(he.a,{id:"searchTerm",type:"text",placeholder:"Search in title or description...",value:_.searchTerm||"",onChange:function(e){return Y("searchTerm",e.target.value)},onKeyPress:function(e){"Enter"===e.key&&H()}})]})}),F&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(n.a,{md:5,className:"mb-1",children:Object(T.jsxs)(xe.a,{children:[Object(T.jsxs)(pe.a,{className:"small fw-bold",children:[Object(T.jsx)(Oe.a,{size:14,className:"me-1"}),"Filter by Users"]}),Object(T.jsx)(mt.a,{isMulti:!0,options:M,value:W,onChange:function(e){var t=e?e.map((function(e){return e.value})):[];Y("users",t)},placeholder:"Select users...",styles:$,isSearchable:!0,isClearable:!0})]})}),Object(T.jsx)(n.a,{md:2,className:"mb-1",children:Object(T.jsxs)(xe.a,{children:[Object(T.jsx)(pe.a,{for:"userRoleFilter",className:"small fw-bold",children:"User Role"}),Object(T.jsx)(he.a,{id:"userRoleFilter",type:"select",value:_.userRole||"both",onChange:function(e){return Y("userRole",e.target.value)},disabled:!_.users||0===_.users.length,children:L.map((function(e){return Object(T.jsx)("option",{value:e.value,children:e.label},e.value)}))})]})})]}),Object(T.jsx)(n.a,{md:4,className:"mb-1",children:Object(T.jsxs)(xe.a,{children:[Object(T.jsx)(pe.a,{for:"statusFilter",className:"small fw-bold",children:"Status"}),Object(T.jsx)(he.a,{id:"statusFilter",type:"select",value:_.status||"all",onChange:function(e){return Y("status","all"===e.target.value?null:e.target.value)},className:"modern-select",children:R.map((function(e){return Object(T.jsxs)("option",{value:e.value,children:[e.label,e.board&&!e.board.is_default&&" (Custom)"]},e.value)}))})]})}),Object(T.jsx)(n.a,{md:3,className:"mb-1",children:Object(T.jsxs)(xe.a,{children:[Object(T.jsxs)(pe.a,{for:"priorityFilter",className:"small fw-bold",children:[Object(T.jsx)(De.a,{size:14,className:"me-1"}),"Priority"]}),Object(T.jsxs)(he.a,{id:"priorityFilter",type:"select",value:null!==(t=_.priority)&&void 0!==t?t:"",onChange:function(e){return Y("priority",""===e.target.value?null:parseInt(e.target.value))},children:[Object(T.jsx)("option",{value:"",children:"All Priorities"}),Object(T.jsx)("option",{value:"0",children:"Low"}),Object(T.jsx)("option",{value:"1",children:"Medium"}),Object(T.jsx)("option",{value:"2",children:"High"})]})]})}),Object(T.jsx)(n.a,{md:2,className:"mb-1",children:Object(T.jsxs)(xe.a,{children:[Object(T.jsxs)(pe.a,{for:"attachmentFilter",className:"small fw-bold",children:[Object(T.jsx)(Ae.a,{size:14,className:"me-1"}),"Attachments"]}),Object(T.jsxs)(he.a,{id:"attachmentFilter",type:"select",value:null!==(a=_.hasAttachments)&&void 0!==a?a:"",onChange:function(e){return Y("hasAttachments",""===e.target.value?null:"true"===e.target.value)},children:[Object(T.jsx)("option",{value:"",children:"All Tasks"}),Object(T.jsx)("option",{value:"true",children:"Has Attachments"}),Object(T.jsx)("option",{value:"false",children:"No Attachments"})]})]})}),Object(T.jsx)(n.a,{md:2,className:"mb-1",children:Object(T.jsxs)(xe.a,{children:[Object(T.jsxs)(pe.a,{for:"visibilityFilter",className:"small fw-bold",children:[Object(T.jsx)($e.a,{size:14,className:"me-1"}),"Visibility"]}),Object(T.jsxs)(he.a,{id:"visibilityFilter",type:"select",value:null!==(l=_.isPublic)&&void 0!==l?l:"",onChange:function(e){return Y("isPublic",""===e.target.value?null:"true"===e.target.value)},children:[Object(T.jsx)("option",{value:"",children:"All Tasks"}),Object(T.jsx)("option",{value:"true",children:"Public Tasks"}),Object(T.jsx)("option",{value:"false",children:"Private Tasks"})]})]})}),Object(T.jsx)(n.a,{md:4,className:"mb-1",children:Object(T.jsxs)(xe.a,{children:[Object(T.jsxs)(pe.a,{className:"small fw-bold d-block",children:[Object(T.jsx)(ze.a,{size:14,className:"me-1"}),"Created Date"]}),Object(T.jsxs)(r.a,{children:[Object(T.jsx)(n.a,{children:Object(T.jsx)(he.a,{type:"date",placeholder:"From",value:_.createdDateFrom||"",onChange:function(e){return Y("createdDateFrom",e.target.value)}})}),Object(T.jsx)(n.a,{children:Object(T.jsx)(he.a,{type:"date",placeholder:"To",value:_.createdDateTo||"",onChange:function(e){return Y("createdDateTo",e.target.value)}})})]})]})}),Object(T.jsx)(n.a,{md:4,className:"mb-1",children:Object(T.jsxs)(xe.a,{children:[Object(T.jsx)(pe.a,{className:"small fw-bold d-block",children:"Due Date"}),Object(T.jsxs)(r.a,{children:[Object(T.jsx)(n.a,{children:Object(T.jsx)(he.a,{type:"date",placeholder:"From",value:_.dueDateFrom||"",onChange:function(e){return Y("dueDateFrom",e.target.value)}})}),Object(T.jsx)(n.a,{children:Object(T.jsx)(he.a,{type:"date",placeholder:"To",value:_.dueDateTo||"",onChange:function(e){return Y("dueDateTo",e.target.value)}})})]})]})}),Object(T.jsxs)(n.a,{xs:"12",className:"d-flex justify-content-end mt-0 gap-1",children:[Object(T.jsxs)(P.a,{color:"secondary",size:"sm",onClick:J,disabled:!E,children:[Object(T.jsx)(ue.a,{size:14,className:"me-1"}),"Reset"]}),Object(T.jsxs)(P.a,{color:"primary",size:"sm",onClick:H,children:[Object(T.jsx)(jt.a,{size:14,className:"me-1"}),"Apply"]})]})]})})})]})})},pt=a(543),ft=a(316),Ot=(a(907),a(314)),vt=a(830),gt=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],n=Object(s.useState)(!0),l=Object(d.a)(n,2),o=l[0],u=l[1],j=Object(s.useState)(null),b=Object(d.a)(j,2),m=b[0],x=b[1],p=Object(s.useState)(null),f=Object(d.a)(p,2),O=f[0],v=f[1],g=Object(s.useState)(!1),k=Object(d.a)(g,2),y=k[0],N=k[1],w=Object(s.useState)(!1),C=Object(d.a)(w,2),S=C[0],D=C[1],z=Object(s.useState)(null),_=Object(d.a)(z,2),A=_[0],F=_[1],E=Object(s.useState)(!1),U=Object(d.a)(E,2),L=U[0],I=U[1],B=function(){var e=Object(q.a)(V.a.mark((function e(){var t,a,s,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),x(null),e.next=5,Me.getTrashedBoards();case 5:(t=e.sent).success?r(t.data.boards||[]):x(t.message||"Failed to load deleted boards"),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),n=(null===(a=e.t0.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to load deleted boards. Please try again.",x(n),console.error("Error loading deleted boards:",e.t0);case 14:return e.prev=14,u(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,9,14,17]])})));return function(){return e.apply(this,arguments)}}(),R=function(){setTimeout((function(){x(null),v(null)}),5e3)},M=function(){var e=Object(q.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F(t),N(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(q.a)(V.a.mark((function e(){var t,a,s,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,I(!0),e.next=6,Me.restoreBoard(A.id);case 6:(t=e.sent).success?(v("Board restored successfully!"),r((function(e){return e.filter((function(e){return e.id!==A.id}))})),N(!1),F(null),R()):(x(t.message||"Failed to restore board"),R()),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),n=(null===(a=e.t0.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to restore board",x(n),R();case 15:return e.prev=15,I(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,10,15,18]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(q.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F(t),D(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(q.a)(V.a.mark((function e(){var t,a,s,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,I(!0),e.next=6,Me.forceDeleteBoard(A.id);case 6:(t=e.sent).success?(v("Board permanently deleted!"),r((function(e){return e.filter((function(e){return e.id!==A.id}))})),D(!1),F(null),R()):(x(t.message||"Failed to delete board"),R()),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),n=(null===(a=e.t0.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to delete board",x(n),R();case 15:return e.prev=15,I(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,10,15,18]])})));return function(){return e.apply(this,arguments)}}(),J=function(e){return e?new Date(e).toLocaleString():"N/A"};return Object(s.useEffect)((function(){B()}),[]),o?Object(T.jsx)(c.a,{children:Object(T.jsxs)(i.a,{className:"text-center",children:[Object(T.jsx)(te.a,{color:"primary"}),Object(T.jsx)("div",{className:"mt-2",children:"Loading deleted boards..."})]})}):Object(T.jsxs)("div",{className:"deleted-boards",children:[Object(T.jsxs)(c.a,{children:[Object(T.jsxs)(h.a,{className:"d-flex justify-content-between align-items-center",children:[Object(T.jsxs)("div",{children:[Object(T.jsx)("h4",{className:"mb-0",children:"Deleted Boards"}),Object(T.jsx)("small",{className:"text-muted",children:"Only visible to Super Admins"})]}),Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsxs)(je.a,{color:"dark",className:"me-2",children:[a.length," deleted board",1!==a.length?"s":""]}),Object(T.jsx)(P.a,{color:"primary",size:"sm",onClick:B,disabled:o,children:Object(T.jsx)(ue.a,{size:14,className:o?"spinning":""})})]})]}),Object(T.jsxs)(i.a,{children:[m&&Object(T.jsxs)(ae.a,{color:"primary",children:[Object(T.jsx)("h4",{className:"alert-heading",children:"Error"}),Object(T.jsx)("p",{className:"mb-0",children:m})]}),O&&Object(T.jsxs)(ae.a,{color:"success",children:[Object(T.jsx)("strong",{children:"Success!"})," ",O]}),0===a.length?Object(T.jsxs)("div",{className:"text-center py-5",children:[Object(T.jsx)(Se.a,{size:48,className:"text-muted mb-3"}),Object(T.jsx)("h5",{children:"No deleted boards found"}),Object(T.jsx)("p",{className:"text-muted",children:"There are no boards in the trash."})]}):Object(T.jsx)("div",{className:"table-responsive",children:Object(T.jsxs)(dt.a,{hover:!0,children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{children:"Name"}),Object(T.jsx)("th",{children:"Tasks"}),Object(T.jsx)("th",{children:"Deleted At"}),Object(T.jsx)("th",{children:"Created At"}),Object(T.jsx)("th",{children:"Actions"})]})}),Object(T.jsx)("tbody",{children:a.map((function(e){return Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)("div",{className:"color-indicator me-2",style:{backgroundColor:e.color,width:"16px",height:"16px",borderRadius:"4px"}}),Object(T.jsx)("strong",{children:e.name})]})}),Object(T.jsx)("td",{children:Object(T.jsxs)(je.a,{color:"secondary",pill:!0,children:[e.tasks_count||0," tasks"]})}),Object(T.jsx)("td",{children:Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(ze.a,{size:14,className:"me-1 text-danger"}),J(e.deleted_at)]})}),Object(T.jsx)("td",{children:Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(ze.a,{size:14,className:"me-1 text-muted"}),J(e.created_at)]})}),Object(T.jsx)("td",{children:Object(T.jsxs)("div",{className:"d-flex",children:[Object(T.jsx)(P.a,{color:"success",size:"sm",className:"me-1",onClick:function(){return M(e)},disabled:L,children:Object(T.jsx)(vt.a,{size:14})}),Object(T.jsx)(P.a,{color:"primary",size:"sm",onClick:function(){return Y(e)},disabled:L,children:Object(T.jsx)(Se.a,{size:14})})]})})]},e.id)}))})]})})]})]}),Object(T.jsxs)(ye.a,{isOpen:y,toggle:function(){return N(!1)},children:[Object(T.jsx)(Ne.a,{toggle:function(){return N(!1)},children:"Restore Board"}),Object(T.jsx)(we.a,{children:A&&Object(T.jsxs)("div",{children:[Object(T.jsx)("p",{children:"Are you sure you want to restore this board?"}),Object(T.jsx)("div",{className:"alert alert-info",children:Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)("div",{className:"color-indicator me-2",style:{backgroundColor:A.color,width:"20px",height:"20px",borderRadius:"4px"}}),Object(T.jsx)("strong",{children:A.name})]})}),Object(T.jsxs)("div",{className:"small text-muted",children:[Object(T.jsxs)("div",{children:["Color: ",Object(T.jsx)("code",{children:A.color})]}),Object(T.jsxs)("div",{children:["Tasks: ",A.tasks_count||0]}),Object(T.jsxs)("div",{children:["Deleted: ",J(A.deleted_at)]})]})]})}),Object(T.jsxs)(Te.a,{children:[Object(T.jsx)(P.a,{color:"primary",onClick:function(){return N(!1)},disabled:L,children:"Cancel"}),Object(T.jsx)(P.a,{color:"success",onClick:W,disabled:L,children:L?Object(T.jsx)(te.a,{size:"sm"}):"Restore Board"})]})]}),Object(T.jsxs)(ye.a,{isOpen:S,toggle:function(){return D(!1)},children:[Object(T.jsx)(Ne.a,{toggle:function(){return D(!1)},children:"Permanently Delete Board"}),Object(T.jsx)(we.a,{children:A&&Object(T.jsxs)("div",{children:[Object(T.jsxs)(ae.a,{color:"primary",children:[Object(T.jsx)("h5",{className:"alert-heading",children:"Warning!"}),Object(T.jsx)("p",{className:"mb-0",children:"This action cannot be undone. The board will be permanently deleted from the system and cannot be restored."})]}),Object(T.jsx)("p",{children:"Are you sure you want to permanently delete this board?"}),Object(T.jsx)("div",{className:"alert alert-warning",children:Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)("div",{className:"color-indicator me-2",style:{backgroundColor:A.color,width:"20px",height:"20px",borderRadius:"4px"}}),Object(T.jsx)("strong",{children:A.name})]})}),Object(T.jsxs)("div",{className:"small text-muted",children:[Object(T.jsxs)("div",{children:["Color: ",Object(T.jsx)("code",{children:A.color})]}),Object(T.jsxs)("div",{children:["Tasks: ",A.tasks_count||0]}),Object(T.jsxs)("div",{children:["Deleted: ",J(A.deleted_at)]})]})]})}),Object(T.jsxs)(Te.a,{children:[Object(T.jsx)(P.a,{color:"secondary",onClick:function(){return D(!1)},disabled:L,children:"Cancel"}),Object(T.jsx)(P.a,{color:"primary",onClick:H,disabled:L,children:L?Object(T.jsx)(te.a,{size:"sm"}):"Permanently Delete"})]})]})]})},kt=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],n=Object(s.useState)(!0),l=Object(d.a)(n,2),o=l[0],u=l[1],j=Object(s.useState)(null),b=Object(d.a)(j,2),h=b[0],x=b[1],p=Object(s.useState)(null),f=Object(d.a)(p,2),O=f[0],v=f[1],g=Object(s.useState)(!1),k=Object(d.a)(g,2),y=k[0],N=k[1],w=Object(s.useState)(!1),C=Object(d.a)(w,2),S=C[0],D=C[1],z=Object(s.useState)(null),A=Object(d.a)(z,2),F=A[0],E=A[1],U=Object(s.useState)({name:"",color:"#6c757d"}),L=Object(d.a)(U,2),I=L[0],B=L[1],R=Object(s.useState)(!1),M=Object(d.a)(R,2),W=M[0],Y=M[1],H=Object(s.useState)("1"),J=Object(d.a)(H,2),$=J[0],G=J[1],K=function(e){$!==e&&G(e)},X=function(){setTimeout((function(){x(null),v(null)}),5e3)},Q=function(){var e=Object(q.a)(V.a.mark((function e(){var t,a,s,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),x(null),e.next=5,Me.getBoards();case 5:(t=e.sent).success?r(t.data.boards||[]):x(t.message||"Failed to load boards"),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),n=(null===(a=e.t0.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to load boards. Please try again.",x(n),console.error("Error loading boards:",e.t0);case 14:return e.prev=14,u(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,9,14,17]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(q.a)(V.a.mark((function e(){var t,a,s,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I.name.trim()){e.next=4;break}return x("Board name is required"),X(),e.abrupt("return");case 4:if(e.prev=4,Y(!0),!F){e.next=12;break}return e.next=9,Me.updateBoard(F.id,I);case 9:t=e.sent,e.next=15;break;case 12:return e.next=14,Me.createBoard(I);case 14:t=e.sent;case 15:t.success?(v(F?"Board updated successfully!":"Board created successfully!"),N(!1),E(null),B({name:"",color:"#6c757d"}),Q(),X()):(x(t.message||"Failed to save board"),X()),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(4),r=(null===(a=e.t0.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to save board",x(r),X();case 23:return e.prev=23,Y(!1),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[4,18,23,26]])})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(q.a)(V.a.mark((function e(){var t,a,s,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Y(!0),e.next=4,Me.deleteBoard(F.id);case 4:(t=e.sent).success?(v("Board deleted successfully!"),D(!1),E(null),Q(),X()):(x(t.message||"Failed to delete board"),X()),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),r=(null===(a=e.t0.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to delete board",x(r),X();case 13:return e.prev=13,Y(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,8,13,16]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){Q()}),[]),o?Object(T.jsx)(c.a,{children:Object(T.jsxs)(i.a,{className:"text-center",children:[Object(T.jsx)(te.a,{color:"primary"}),Object(T.jsx)("div",{className:"mt-2",children:"Loading boards..."})]})}):Object(T.jsxs)("div",{className:"board-manager",children:[Object(T.jsx)(c.a,{children:Object(T.jsxs)(i.a,{className:"p-0",children:[Object(T.jsxs)(se.a,{tabs:!0,className:"px-3 pt-1",children:[Object(T.jsx)(re.a,{children:Object(T.jsx)(ne.a,{className:m()({active:"1"===$}),onClick:function(){return K("1")},children:"Active Boards"})}),Object(T.jsx)(re.a,{children:Object(T.jsxs)(ne.a,{className:m()({active:"2"===$}),onClick:function(){return K("2")},children:[Object(T.jsx)(Ot.a,{size:14,className:"me-1"}),"Deleted Boards"]})})]}),Object(T.jsxs)(ce.a,{activeTab:$,children:[Object(T.jsx)(ie.a,{tabId:"1",children:Object(T.jsxs)("div",{className:"px-3 py-1",children:[Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[Object(T.jsxs)("div",{children:[Object(T.jsx)("h5",{className:"mb-0",children:"Active Boards"}),Object(T.jsx)("small",{className:"text-muted",children:"Manage your active boards"})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)(P.a,{color:"primary",size:"sm",onClick:Q,disabled:o,className:"me-0",children:Object(T.jsx)(ue.a,{size:14,className:"me-1"})}),Object(T.jsxs)(P.a,{color:"secondary",size:"sm",onClick:function(){E(null),B({name:"",color:"#6c757d"}),N(!0)},children:[Object(T.jsx)(fe.a,{size:14,className:"me-1"}),"New Board"]})]})]}),h&&Object(T.jsxs)(ae.a,{color:"primary",children:[Object(T.jsx)("h4",{className:"alert-heading",children:"Error"}),Object(T.jsx)("p",{className:"mb-0",children:h})]}),O&&Object(T.jsxs)(ae.a,{color:"success",children:[Object(T.jsx)("strong",{children:"Success!"})," ",O]}),Object(T.jsx)("div",{className:"table-responsive",children:Object(T.jsxs)(dt.a,{hover:!0,children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{width:"50"}),Object(T.jsx)("th",{children:"Name"}),Object(T.jsx)("th",{children:"Type"}),Object(T.jsx)("th",{children:"Tasks"}),Object(T.jsx)("th",{children:"Actions"})]})}),Object(T.jsx)("tbody",{children:a.map((function(e){return Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:Object(T.jsx)(_.a,{size:16,className:"text-muted"})}),Object(T.jsx)("td",{children:Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)("div",{className:"color-indicator me-2",style:{backgroundColor:e.color,width:"16px",height:"16px",borderRadius:"4px"}}),Object(T.jsx)("strong",{children:e.name})]})}),Object(T.jsx)("td",{children:e.is_default?Object(T.jsx)(je.a,{color:"secondary",children:"Default"}):Object(T.jsx)(je.a,{color:"primary",children:"Custom"})}),Object(T.jsx)("td",{children:Object(T.jsxs)(je.a,{color:"secondary",pill:!0,children:[e.tasks_count||0," tasks"]})}),Object(T.jsx)("td",{children:Object(T.jsxs)("div",{className:"d-flex",children:[!e.is_default&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(P.a,{color:"primary",size:"sm",className:"me-1",onClick:function(){return function(e){if(e.is_default)return x("Cannot edit default boards"),void X();E(e),B({name:e.name,color:e.color}),N(!0)}(e)},children:Object(T.jsx)(Ke.a,{size:12})}),Object(T.jsx)(P.a,{color:"primary",size:"sm",onClick:function(){return function(e){if(e.is_default)return x("Cannot delete default boards"),void X();E(e),D(!0)}(e)},disabled:e.tasks_count>0,title:e.tasks_count>0?"Cannot delete board with tasks":"Delete board",children:Object(T.jsx)(Se.a,{size:12})})]}),e.is_default&&Object(T.jsx)("span",{className:"text-muted small",children:"System Board"})]})})]},e.id)}))})]})}),0===a.length&&Object(T.jsxs)("div",{className:"text-center py-5 text-muted",children:[Object(T.jsx)("div",{className:"mb-3",children:Object(T.jsx)(tt.a,{size:48,className:"opacity-25"})}),Object(T.jsx)("h5",{children:"No boards found"}),Object(T.jsx)("p",{children:"Create your first custom board to get started"})]})]})}),Object(T.jsx)(ie.a,{tabId:"2",children:Object(T.jsx)(gt,{})})]})]})}),Object(T.jsxs)(ye.a,{isOpen:y,toggle:function(){return N(!1)},children:[Object(T.jsx)(Ne.a,{toggle:function(){return N(!1)},children:F?"Edit Board":"Create New Board"}),Object(T.jsxs)(we.a,{children:[Object(T.jsxs)(xe.a,{children:[Object(T.jsx)(pe.a,{for:"board-name",children:"Board Name"}),Object(T.jsx)(he.a,{id:"board-name",value:I.name,onChange:function(e){return B(Object(Z.a)(Object(Z.a)({},I),{},{name:e.target.value}))},placeholder:"Enter board name (e.g., 'Review', 'Testing', 'Backlog')"})]}),Object(T.jsxs)(xe.a,{children:[Object(T.jsx)(pe.a,{for:"board-color",children:"Board Color"}),Object(T.jsxs)("div",{className:"mb-3",children:[Object(T.jsx)("div",{className:"d-flex flex-wrap gap-2 mb-2",children:["#6c757d","#007bff","#28a745","#dc3545","#ffc107","#17a2b8","#6f42c1","#e83e8c","#fd7e14","#20c997"].map((function(e){return Object(T.jsx)("button",{type:"button",className:"color-option ".concat(I.color===e?"selected":""),style:{backgroundColor:e},onClick:function(){return function(e){B(Object(Z.a)(Object(Z.a)({},I),{},{color:e}))}(e)},title:e},e)}))}),Object(T.jsx)(he.a,{id:"board-color",type:"color",value:I.color,onChange:function(e){return B(Object(Z.a)(Object(Z.a)({},I),{},{color:e.target.value}))}})]})]})]}),Object(T.jsxs)(Te.a,{children:[Object(T.jsx)(P.a,{color:"secondary",onClick:function(){return N(!1)},children:"Cancel"}),Object(T.jsx)(P.a,{color:"primary",onClick:ee,disabled:W,children:W?Object(T.jsx)(te.a,{size:"sm"}):F?"Update":"Create"})]})]}),Object(T.jsxs)(ye.a,{isOpen:S,toggle:function(){return D(!1)},children:[Object(T.jsx)(Ne.a,{toggle:function(){return D(!1)},children:"Delete Board"}),Object(T.jsx)(we.a,{children:F&&Object(T.jsxs)("div",{children:[Object(T.jsxs)(ae.a,{color:"primary",children:[Object(T.jsx)("h5",{className:"alert-heading",children:"Warning!"}),Object(T.jsx)("p",{className:"mb-0",children:"This action cannot be undone. The board will be permanently deleted."})]}),Object(T.jsx)("p",{children:"Are you sure you want to delete this board?"}),Object(T.jsxs)("div",{className:"alert alert-warning p-3",children:[Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)("div",{className:"color-indicator me-2",style:{backgroundColor:F.color,width:"20px",height:"20px",borderRadius:"4px"}}),Object(T.jsx)("strong",{children:F.name})]}),F.tasks_count>0&&Object(T.jsxs)("div",{className:"mt-2 text-danger",children:[Object(T.jsx)("strong",{children:"Warning:"})," This board contains ",F.tasks_count," task(s). You must move or delete these tasks before deleting the board."]})]})]})}),Object(T.jsxs)(Te.a,{children:[Object(T.jsx)(P.a,{color:"secondary",onClick:function(){return D(!1)},disabled:W,children:"Cancel"}),Object(T.jsx)(P.a,{color:"primary",onClick:le,disabled:W||(null===F||void 0===F?void 0:F.tasks_count)>0,children:W?Object(T.jsx)(te.a,{size:"sm"}):"Delete Board"})]})]}),Object(T.jsx)("style",{jsx:!0,children:"\n        .color-option {\n          width: 30px;\n          height: 30px;\n          border: 2px solid transparent;\n          border-radius: 4px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n        .color-option:hover {\n          transform: scale(1.1);\n        }\n        .color-option.selected {\n          border-color: #333;\n          transform: scale(1.1);\n        }\n      "})]})},yt=function(){var e,t,a=function(){var e=Object(s.useState)({}),t=Object(d.a)(e,2),a=t[0],r=t[1],n=Object(s.useState)(!0),c=Object(d.a)(n,2),i=c[0],l=c[1],o=Object(s.useState)(null),u=Object(d.a)(o,2),j=u[0],b=u[1],m=Object(s.useCallback)(Object(q.a)(V.a.mark((function e(){var t,a,s,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),b(null),e.next=5,de.getBoardData();case 5:(t=e.sent).success?r(t.data||{}):b(t.message||"Failed to load tasks"),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),n=(null===(a=e.t0.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to load tasks. Please try again.",b(n),console.error("Error loading tasks:",e.t0);case 14:return e.prev=14,l(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,9,14,17]])}))),[]),h=Object(s.useCallback)(function(){var e=Object(q.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de.createTask(t);case 3:if(!(a=e.sent).success){e.next=10;break}return e.next=7,m();case 7:return e.abrupt("return",a.data.task);case 10:throw new Error(a.message||"Failed to create task");case 11:e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(0),console.error("Error adding task:",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),[m]),x=Object(s.useCallback)(function(){var e=Object(q.a)(V.a.mark((function e(t,a){var s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de.updateTask(t,a);case 3:if(!(s=e.sent).success){e.next=10;break}return e.next=7,m();case 7:return e.abrupt("return",s.data.task);case 10:throw new Error(s.message||"Failed to update task");case 11:e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(0),console.error("Error updating task:",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a){return e.apply(this,arguments)}}(),[m]),p=Object(s.useCallback)(function(){var e=Object(q.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de.deleteTask(t);case 3:if(!(a=e.sent).success){e.next=9;break}return e.next=7,m();case 7:e.next=10;break;case 9:throw new Error(a.message||"Failed to delete task");case 10:e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(0),console.error("Error deleting task:",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),[m]);return Object(s.useEffect)((function(){m()}),[m]),{tasks:a,loading:i,error:j,addTask:h,updateTask:x,deleteTask:p,refreshTasks:m}}(),r=a.tasks,n=a.loading,l=a.error,o=a.addTask,u=a.updateTask,j=a.deleteTask,b=a.updateTaskSilently,h=a.refreshTasks,x=Object(s.useState)(null),p=Object(d.a)(x,2),f=p[0],O=p[1],v=Object(s.useState)(!1),g=Object(d.a)(v,2),k=g[0],y=g[1],N=Object(s.useState)(null),w=Object(d.a)(N,2),C=w[0],S=w[1],D=Object(s.useState)(null),z=Object(d.a)(D,2),_=z[0],A=z[1],F=Object(s.useState)([]),E=Object(d.a)(F,2),U=E[0],P=E[1],L=Object(s.useState)([]),I=Object(d.a)(L,2),B=I[0],R=I[1],M=Object(s.useState)(!0),W=Object(d.a)(M,2),Y=W[0],H=W[1],J=Object(s.useState)([]),$=Object(d.a)(J,2),G=$[0],K=$[1],X=Object(s.useState)(!0),Q=Object(d.a)(X,2),le=Q[0],oe=Q[1],ue=Object(s.useState)({users:[],userRole:"both",priority:null,createdDateFrom:null,createdDateTo:null,dueDateFrom:null,dueDateTo:null,searchTerm:"",status:null,hasAttachments:null,isPublic:null}),je=Object(d.a)(ue,2),be=je[0],me=je[1],he=Object(pt.a)(),xe=he.user,pe=he.loading,fe=he.authenticated,Oe=Object(s.useState)("1"),ve=Object(d.a)(Oe,2),ge=ve[0],ke=ve[1],ye="super@admin.com"===(null===xe||void 0===xe?void 0:xe.email)||(null===xe||void 0===xe||null===(e=xe.roles)||void 0===e?void 0:e.includes("super"))||(null===xe||void 0===xe||null===(t=xe.permissions)||void 0===t?void 0:t.includes("all")),Ne=function(){var e=Object(q.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,oe(!0),e.next=4,Me.getBoards();case 4:(t=e.sent).success&&K(t.data.boards||[]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error loading boards:",e.t0);case 11:return e.prev=11,oe(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(q.a)(V.a.mark((function e(){var t,a,s,r,n,c,i,l,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,H(!0),e.prev=2,e.next=5,de.getAvailableUsers();case 5:if(!(t=e.sent).success||!t.data.users){e.next=10;break}return P(t.data.users),R(t.data.super_admins||[]),e.abrupt("return");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.warn("\ud83d\udd39 Task service users endpoint not available, trying user API...");case 15:return a=function(){var e=[{id:1,name:"Super Admin",email:"super@admin.com",roles:["super"]},{id:2,name:"Admin User",email:"admin@admin.com",roles:["admin"]},{id:3,name:"Cashier User",email:"cashier@admin.com",roles:["cashier"]},{id:4,name:"Manager User",email:"manager@admin.com",roles:["manager"]},{id:5,name:"Product Manager",email:"product@admin.com",roles:["product_manager"]}];return xe&&!e.find((function(e){return e.id===xe.id}))&&e.push({id:xe.id,name:xe.name,email:xe.email,roles:xe.roles||[]}),e},e.next=18,ft.a.autocomplete("");case 18:(s=e.sent)&&Array.isArray(s)?(r=s.map((function(e){return{id:e.id,name:e.name,email:e.email,roles:e.roles||[]}})),P(r),n=r.filter((function(e){var t;return null===(t=e.roles)||void 0===t?void 0:t.includes("super")})).map((function(e){return e.id})),R(n)):(c=a(),P(c),i=c.filter((function(e){var t;return null===(t=e.roles)||void 0===t?void 0:t.includes("super")})).map((function(e){return e.id})),R(i)),e.next=28;break;case 22:e.prev=22,e.t1=e.catch(0),l=createFallbackUsers(),P(l),o=l.filter((function(e){var t;return null===(t=e.roles)||void 0===t?void 0:t.includes("super")})).map((function(e){return e.id})),R(o);case 28:return e.prev=28,H(!1),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[0,22,28,31],[2,12]])})));return function(){return e.apply(this,arguments)}}(),Te=Object(s.useMemo)((function(){if(!r)return[];var e=[];return Object.values(r).forEach((function(t){Array.isArray(t)&&e.push.apply(e,Object(ee.a)(t))})),e}),[r]),Ce=Object(s.useMemo)((function(){return ht.applyFilters(Te,be,U,xe)}),[Te,be,U,xe]),Se=Object(s.useMemo)((function(){var e={};return r?(Object.keys(r).forEach((function(t){e[t]=[]})),Ce.forEach((function(t){t.board_id&&e[t.board_id]&&e[t.board_id].push(t)})),e):e}),[Ce,r]),De=function(){setTimeout((function(){S(null),A(null)}),5e3)},ze=function(){try{var e=localStorage.getItem("user");if(e){var t=JSON.parse(e);return t.user||t}return null}catch(l){return console.error("Error getting user from storage:",l),null}},_e=function(){var e=Object(q.a)(V.a.mark((function e(t){var a,s,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S(null),A(null),e.prev=2,a=xe||ze()){e.next=6;break}throw new Error("No user found. Please log in again.");case 6:return s=Object(Z.a)(Object(Z.a)({},t),{},{user_id:a.id,creator_name:a.name,creator_email:a.email}),e.next=9,o(s);case 9:De(),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),r=e.t0.message||"Failed to create task",S(r),De();case 17:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(q.a)(V.a.mark((function e(t,a){var s,r,n,c,i,l=arguments;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=l.length>2&&void 0!==l[2]&&l[2],t){e.next=4;break}return console.error("Cannot update task: taskId is null or undefined"),e.abrupt("return");case 4:if(s||(S(null),A(null)),r="object"===typeof t?t.id:t,e.prev=6,!s){e.next=12;break}return e.next=10,b(r,a);case 10:e.next=15;break;case 12:return e.next=14,u(r,a);case 14:De();case 15:e.next=21;break;case 17:throw e.prev=17,e.t0=e.catch(6),s||((i=e.t0.message||"Failed to update task").includes("not the creator")||i.includes("access denied")?i="You don't have permission to modify this task.":i.includes("not found")?i="Task not found. It may have been deleted.":(null===(n=e.t0.response)||void 0===n||null===(c=n.data)||void 0===c?void 0:c.message)&&(i=e.t0.response.data.message),S(i),De()),e.t0;case 21:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t,a){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(q.a)(V.a.mark((function e(t){var a,s,r,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S(null),A(null),t){e.next=5;break}return console.error("Cannot delete task: taskId is null or undefined"),e.abrupt("return");case 5:return a="object"===typeof t?t.id:t,e.prev=6,e.next=9,j(a);case 9:A("Task deleted successfully!"),De(),f&&f.id===a&&(y(!1),O(null)),e.next=20;break;case 14:e.prev=14,e.t0=e.catch(6),(n=e.t0.message||"Failed to delete task").includes("not the creator")||n.includes("access denied")?n="You don't have permission to delete this task.":n.includes("not found")?n="Task not found. It may have been already deleted.":(null===(s=e.t0.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.message)&&(n=e.t0.response.data.message),S(n),De();case 20:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(q.a)(V.a.mark((function e(t,a){var s,r=arguments;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.length>2&&void 0!==r[2]&&r[2],null!==a){e.next=6;break}return e.next=4,Fe(t);case 4:e.next=8;break;case 6:return e.next=8,Ae(t,a,s);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ue=function(e){ge!==e&&ke(e)};if(Object(s.useEffect)((function(){fe&&(we(),Ne())}),[fe]),Object(s.useEffect)((function(){}),[xe,fe,U,B,be,Te.length,Ce.length]),pe||Y||le)return Object(T.jsx)(c.a,{children:Object(T.jsxs)(i.a,{className:"text-center",children:[Object(T.jsx)(te.a,{color:"primary"}),Object(T.jsx)("div",{className:"mt-2",children:"Loading authentication and users..."})]})});var Pe=xe||ze();return fe&&Pe?Object(T.jsxs)("div",{className:"task-manager",children:[Object(T.jsxs)(se.a,{tabs:!0,className:"mb-1",children:[Object(T.jsx)(re.a,{children:Object(T.jsx)(ne.a,{className:m()({active:"1"===ge}),onClick:function(){return Ue("1")},children:"Active Tasks"})}),ye&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(re.a,{children:Object(T.jsx)(ne.a,{className:m()({active:"2"===ge}),onClick:function(){return Ue("2")},children:"Deleted Tasks"})}),Object(T.jsx)(re.a,{children:Object(T.jsx)(ne.a,{className:m()({active:"3"===ge}),onClick:function(){return Ue("3")},children:"Board Management"})})]})]}),Object(T.jsxs)(ce.a,{activeTab:ge,children:[Object(T.jsxs)(ie.a,{tabId:"1",children:[Object(T.jsx)(xt,{filters:be,onFiltersChange:function(e){me(e)},availableUsers:U,currentUser:Pe,totalTasks:Te.length,filteredTasks:Ce.length,boards:G,allTasks:Te}),l&&Object(T.jsxs)(ae.a,{color:"danger",className:"mb-3",children:[Object(T.jsx)("h4",{className:"alert-heading",children:"Error Loading Tasks"}),Object(T.jsx)("p",{className:"mb-0",children:l})]}),_&&Object(T.jsxs)(ae.a,{color:"success",className:"mb-3",children:[Object(T.jsx)("strong",{children:"Success!"})," ",_]}),C&&Object(T.jsxs)(ae.a,{color:"danger",className:"mb-3",children:[Object(T.jsx)("h4",{className:"alert-heading",children:"Action Failed"}),Object(T.jsx)("p",{className:"mb-0",children:C})]}),n?Object(T.jsx)(c.a,{children:Object(T.jsxs)(i.a,{className:"text-center",children:[Object(T.jsx)(te.a,{color:"primary"}),Object(T.jsx)("div",{className:"mt-2",children:"Loading tasks..."})]})}):Object(T.jsx)(We,{tasks:Se,onAddTask:_e,onUpdateTask:Ae,onDeleteTask:Fe,onTaskClick:function(e){O(e),y(!0)},availableUsers:U,currentUser:Pe,superAdminIds:B,onRefresh:h,loading:n})]}),Object(T.jsx)(ie.a,{tabId:"2",children:ye?Object(T.jsx)(ut,{}):Object(T.jsxs)(ae.a,{color:"warning",children:[Object(T.jsx)("h4",{className:"alert-heading",children:"Access Denied"}),Object(T.jsx)("p",{className:"mb-0",children:"Only Super Admins can view deleted tasks."})]})}),Object(T.jsx)(ie.a,{tabId:"3",children:ye?Object(T.jsx)(kt,{}):Object(T.jsxs)(ae.a,{color:"warning",children:[Object(T.jsx)("h4",{className:"alert-heading",children:"Access Denied"}),Object(T.jsx)("p",{className:"mb-0",children:"Only Super Admins can manage boards."})]})})]}),Object(T.jsx)(ot,{isOpen:k,toggle:function(){y(!1),O(null)},task:f,onUpdate:Ee,availableUsers:U,currentUser:Pe,superAdminIds:B,userAccessibleBoards:G.length?G.filter((function(e){return!!["todo","inProgress","completed"].includes(e.name)||!!ye||(r[e.id]||[]).some((function(e){return e.user_id===(null===xe||void 0===xe?void 0:xe.id)||e.assignees&&e.assignees.includes(null===xe||void 0===xe?void 0:xe.id)||e.is_public}))})):[]})]}):Object(T.jsxs)(ae.a,{color:"warning",children:[Object(T.jsx)("h4",{className:"alert-heading",children:"Authentication Required"}),Object(T.jsx)("p",{className:"mb-0",children:"Please log in to access the task manager."})]})};a(648),t.default=function(){var e=Object(s.useContext)(Q.a);return Object(T.jsxs)(s.Fragment,{children:[Object(T.jsx)(l.a,{breadCrumbTitle:"Analytics Cards",breadCrumbParent:"Card",breadCrumbActive:"Analytics Cards"}),Object(T.jsx)("div",{children:Object(T.jsx)(r.a,{className:"mt-2",children:Object(T.jsx)(n.a,{sm:"12",children:Object(T.jsx)(c.a,{children:Object(T.jsxs)(i.a,{children:[Object(T.jsx)("h2",{children:"Task Manager"}),Object(T.jsx)(yt,{})]})})})})}),Object(T.jsxs)(r.a,{className:"match-height",children:[Object(T.jsx)(n.a,{lg:"6",sm:"12",children:Object(T.jsx)(E,{primary:e.colors.primary.main,danger:e.colors.danger.main})}),Object(T.jsx)(n.a,{lg:"6",sm:"12",children:Object(T.jsx)(H,{primary:e.colors.primary.main})})]}),Object(T.jsxs)(r.a,{className:"match-height",children:[Object(T.jsx)(n.a,{lg:"8",sm:"12",children:Object(T.jsx)(L,{primary:e.colors.primary.main,warning:e.colors.warning.main})}),Object(T.jsx)(n.a,{lg:"4",sm:"12",children:Object(T.jsx)(M,{success:e.colors.success.main})})]}),Object(T.jsxs)(r.a,{className:"match-height",children:[Object(T.jsx)(n.a,{lg:"8",sm:"12",children:Object(T.jsx)(B,{primary:e.colors.primary.main})}),Object(T.jsx)(n.a,{lg:"4",sm:"12",children:Object(T.jsx)(F,{primary:e.colors.primary.main,info:e.colors.info.main})})]}),Object(T.jsxs)(r.a,{className:"match-height",children:[Object(T.jsx)(n.a,{lg:"8",sm:"12",children:Object(T.jsxs)(r.a,{className:"match-height",children:[Object(T.jsx)(n.a,{sm:"12",children:Object(T.jsx)(K,{primary:e.colors.primary.main})}),Object(T.jsx)(n.a,{md:"6",sm:"12",children:Object(T.jsx)(C,{primary:e.colors.primary.main,warning:e.colors.warning.main,danger:e.colors.danger.main})}),Object(T.jsx)(n.a,{md:"6",sm:"12",children:Object(T.jsx)(z,{primary:e.colors.primary.main,warning:e.colors.warning.main,danger:e.colors.danger.main})})]})}),Object(T.jsx)(n.a,{lg:"4",sm:"12",children:Object(T.jsxs)(r.a,{className:"match-height",children:[Object(T.jsx)(n.a,{sm:"12",children:Object(T.jsx)(D,{primary:e.colors.primary.main,warning:e.colors.warning.main,danger:e.colors.danger.main})}),Object(T.jsx)(n.a,{sm:"12",children:Object(T.jsx)(X,{success:e.colors.success.main})})]})})]})]})}},316:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"d",(function(){return u})),a.d(t,"b",(function(){return j})),a.d(t,"c",(function(){return b}));var s=a(2),r=a(64),n=a.n(r),c=a(65),i=(a(85),a(77)),l=a(83),o="user",d={create:function(e){return l.a.create(o,e)},update:function(e,t){return l.a.update(o,e,t)},delete:function(e){return l.a.delete(o,e)},autocomplete:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("".concat(o,"/autocomplete?q=").concat(t));case 2:return a=e.sent,s=a.data,e.abrupt("return",null===s||void 0===s?void 0:s.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),autocompleteUserForTaxExempt:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("".concat(o,"/autocompleteUserForTaxExempt?q=").concat(t));case 2:return a=e.sent,s=a.data,e.abrupt("return",null===s||void 0===s?void 0:s.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),autocompleteCashier:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("".concat(o,"/autocompletecashier?q=").concat(t));case 2:return a=e.sent,s=a.data,e.abrupt("return",null===s||void 0===s?void 0:s.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),autocompleteTaxExempt:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("".concat(o,"/autocompleteTaxExempt?q=").concat(t));case 2:return a=e.sent,s=a.data,e.abrupt("return",null===s||void 0===s?void 0:s.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),changePassword:function(){var e=Object(c.a)(n.a.mark((function e(t,a){var s,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("".concat(o,"/").concat(t,"/change-password"),a);case 2:return s=e.sent,r=s.data,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),verificationEmail:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("".concat(o,"/").concat(t,"/verification-email"));case 2:return a=e.sent,s=a.data,e.abrupt("return",null===s||void 0===s?void 0:s.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function u(e){return Object(l.d)(o,e)}function j(e){var t=Object(l.b)(o,"".concat(o,"/datatable"),e);return t.mutates=Object(s.a)(Object(s.a)({},t.mutates),{},{verificationEmail:d.verificationEmail}),t}function b(e){var t=Object(l.b)(o,"".concat(o,"/employee"),e);return t.mutates=Object(s.a)(Object(s.a)({},t.mutates),{},{verificationEmail:d.verificationEmail}),t}},648:function(e,t,a){},83:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return u})),a.d(t,"b",(function(){return j})),a.d(t,"c",(function(){return b})),a.d(t,"f",(function(){return m}));var s=a(64),r=a.n(s),n=a(65),c=a(85),i=a(77),l=function(e){return i.a.get(e).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.data}))},o={create:function(){var e=Object(n.a)(r.a.mark((function e(t,a){var s,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post(t,a);case 2:return s=e.sent,n=s.data,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),update:function(){var e=Object(n.a)(r.a.mark((function e(t,a,s){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.put("".concat(t,"/").concat(a),s);case 2:return n=e.sent,c=n.data,e.abrupt("return",null===c||void 0===c?void 0:c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),delete:function(){var e=Object(n.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.delete("".concat(t,"/").concat(a));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()};function d(e,t){var a=Object(c.a)("".concat(e,"/").concat(t),l),s=a.data,i=a.mutate,d=a.error;return{loading:!s&&!d,error:d,data:s,mutate:i,update:function(){var a=Object(n.a)(r.a.mark((function a(s){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.update(e,t,s);case 2:return a.next=4,i();case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}}function u(e){var t=Object(c.a)(e,l,{revalidateOnFocus:!1,revalidateOnReconnect:!1,refreshWhenOffline:!1,refreshWhenHidden:!1,refreshInterval:0}),a=t.data,s=t.mutate,i=t.error;return{loading:!a&&!i,error:i,data:a||[],mutate:s,create:function(){var e=Object(n.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.create(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}function j(e,t,a){var s=a.page,i=a.limit,d=a.search,u=a.order,j=void 0===u?{}:u,b=a.conditions,m=void 0===b?{}:b,h="".concat(t,"?page=").concat(s,"&limit=").concat(i,"&search=").concat(d,"&order=").concat(JSON.stringify(j),"&conditions=").concat(JSON.stringify(m)),x=Object(c.a)(h,l),p=x.data,f=x.mutate,O=x.error;return{loading:!p&&!O,error:O,data:(null===p||void 0===p?void 0:p.items)||[],total:(null===p||void 0===p?void 0:p.total)||0,mutate:f,mutates:{delete:function(){var t=Object(n.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.delete(e,a);case 2:return t.next=4,f(h);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}}function b(e,t,a){var s=a.page,i=a.limit,d=a.search,u=a.order,j=void 0===u?{}:u,b=a.conditions,m=void 0===b?{}:b,h=a.from,x=a.to,p="".concat(t,"?page=").concat(s,"&limit=").concat(i,"&from=").concat(h,"&to=").concat(x,"&search=").concat(d,"&order=").concat(JSON.stringify(j),"&conditions=").concat(JSON.stringify(m)),f=Object(c.a)(p,l),O=f.data,v=f.mutate,g=f.error;return{loading:!O&&!g,error:g,data:(null===O||void 0===O?void 0:O.items)||[],total:(null===O||void 0===O?void 0:O.total)||0,mutate:v,mutates:{delete:function(){var t=Object(n.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.delete(e,a);case 2:return t.next=4,v(p);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}}function m(e,t){var a=t.conditions,s="".concat(e,"?conditions=").concat(JSON.stringify(a)),r=Object(c.a)(s,l),n=r.data,i=r.mutate,o=r.error;return{loading:!n&&!o,error:o,data:(null===n||void 0===n?void 0:n.items)||[],total:(null===n||void 0===n?void 0:n.total)||0,mutate:i}}},84:function(e,t,a){"use strict";var s=a(76),r=a(172),n=a(173),c=a(3);t.a=function(e){var t=e.breadCrumbTitle,a=e.breadCrumbParent,i=e.breadCrumbParent2,l=e.breadCrumbParent3,o=e.breadCrumbActive,d=e.right;return Object(c.jsxs)("div",{className:"content-header row",children:[Object(c.jsx)("div",{className:"content-header-left col-9 mb-2",children:Object(c.jsx)("div",{className:"row breadcrumbs-top",children:Object(c.jsxs)("div",{className:"col-12",children:[t?Object(c.jsx)("h2",{className:"content-header-title float-left mb-0",children:t}):"",Object(c.jsx)("div",{className:"breadcrumb-wrapper vs-breadcrumbs d-sm-block d-none col-12",children:Object(c.jsxs)(r.a,{children:[Object(c.jsx)(n.a,{tag:"li",children:Object(c.jsx)(s.b,{to:"/",children:"Home"})}),a&&Object(c.jsx)(n.a,{tag:"li",className:"text-primary",children:a}),i?Object(c.jsx)(n.a,{tag:"li",className:"text-primary",children:i}):"",l?Object(c.jsx)(n.a,{tag:"li",className:"text-primary",children:l}):"",Object(c.jsx)(n.a,{tag:"li",active:!0,children:o})]})})]})})}),d?Object(c.jsx)("div",{className:"content-header-right text-md-right col-3",children:Object(c.jsx)("div",{className:"form-group breadcrum-right dropdown",children:d})}):""]})}},907:function(e,t,a){}}]);
//# sourceMappingURL=179.4a2f8e5b.chunk.js.map