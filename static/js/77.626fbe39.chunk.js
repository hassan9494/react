(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[77],{115:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return j})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return b}));var r=n(2),a=n(57),c=n.n(a),i=n(59),s=n(65),o=n(64),u=function(e){return o.a.get(e).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.data}))},d={create:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("product",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.put("product/".concat(t),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("product/".concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),autocomplete:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("product/autocomplete?q=".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),stock:function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("product/stock",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sku:function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("product/sku",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),stock2:function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("product/stock2",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function l(e){var t=Object(s.a)("product/".concat(e),u,{revalidateOnFocus:!1}),n=t.data,r=t.mutate,a=t.error;return{loading:!n&&!a,error:a,data:n,mutate:r,update:function(){var t=Object(i.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.update(e,n);case 2:return t.next=4,r();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}function j(e){var t=e.page,n=e.limit,a=e.search,o=e.order,l=void 0===o?{}:o,j="product/datatable?page=".concat(t,"&limit=").concat(n,"&search=").concat(a,"&order=").concat(JSON.stringify(l)),p=Object(s.a)(j,u),b=p.data,f=p.mutate,m=p.error,h=!b&&!m,v={delete:function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.delete(t);case 2:f(Object(r.a)({},b));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};return{loading:h,error:m,data:(null===b||void 0===b?void 0:b.items)||[],total:(null===b||void 0===b?void 0:b.total)||0,mutates:v}}function p(e){var t=e.page,n=e.limit,a=e.search,o=e.order,l=void 0===o?{}:o,j=e.conditions,p=void 0===j?{}:j,b="product/datatable?page=".concat(t,"&limit=").concat(n,"&search=").concat(a,"&order=").concat(JSON.stringify(l),"&conditions=").concat(JSON.stringify(p)),f=Object(s.a)(b,u),m=f.data,h=f.mutate,v=f.error,O=!m&&!v,x={delete:function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.delete(t);case 2:h(Object(r.a)({},m));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};return{loading:O,error:v,data:(null===m||void 0===m?void 0:m.items)||[],total:(null===m||void 0===m?void 0:m.total)||0,mutates:x}}function b(e){var t=e.page,n=e.limit,r=e.search,a=e.order,c="product/datatable?page=".concat(t,"&limit=").concat(n,"&search=").concat(r,"&order=").concat(null===a||void 0===a?void 0:a.column,"&dir=").concat(null===a||void 0===a?void 0:a.direction),i=Object(s.a)(c,u),o=i.data,d=i.error;return{loading:!o&&!d,error:d,data:(null===o||void 0===o?void 0:o.items)||[],total:(null===o||void 0===o?void 0:o.total)||0}}},120:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return p}));var r=n(2),a=n(57),c=n.n(a),i=n(59),s=(n(65),n(64)),o=n(63),u="user",d={create:function(e){return o.a.create(u,e)},update:function(e,t){return o.a.update(u,e,t)},delete:function(e){return o.a.delete(u,e)},autocomplete:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("".concat(u,"/autocomplete?q=").concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),changePassword:function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("".concat(u,"/").concat(t,"/change-password"),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),verificationEmail:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("".concat(u,"/").concat(t,"/verification-email"));case 2:return n=e.sent,r=n.data,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function l(e){return Object(o.c)(u,e)}function j(e){var t=Object(o.b)(u,"".concat(u,"/datatable"),e);return t.mutates=Object(r.a)(Object(r.a)({},t.mutates),{},{verificationEmail:d.verificationEmail}),t}function p(e){var t=Object(o.b)(u,"".concat(u,"/employee"),e);return t.mutates=Object(r.a)(Object(r.a)({},t.mutates),{},{verificationEmail:d.verificationEmail}),t}},121:function(e,t,n){"use strict";var r=n(2),a=n(7),c=n(8),i=n(17),s=n(11),o=n.n(s),u=n(217),d=n(219),l=n(0),j=n(229),p=n(230),b=n(55),f=n(95),m=(n(151),n(3)),h=function(e){var t,n=e.min,s=e.max,u=e.step,d=e.size,h=e.wrap,v=e.value,O=e.style,x=e.upIcon,g=e.disabled,y=e.readonly,w=e.onChange,N=e.downIcon,k=e.vertical,C=e.className,_=e.onDecrement,S=e.onIncrement,R=e.inputClassName,V=Object(i.a)(e,["min","max","step","size","wrap","value","style","upIcon","disabled","readonly","onChange","downIcon","vertical","className","onDecrement","onIncrement","inputClassName"]),E=Object(l.useState)(v||n),P=Object(c.a)(E,2),z=P[0],D=P[1],q=function(e){if(e.preventDefault(),!g&&!y){if(!h&&z<=n)return;D(z-u<n?h?s:n:z-u),_&&S(z)}},I=function(e){if(e.preventDefault(),!g&&!y){if(!h&&z>=s)return;D(z+u>s?h?n:s:z+u),S&&S(z)}};return Object(l.useEffect)((function(){w&&w(z)}),[z]),Object(m.jsxs)(j.a,Object(r.a)(Object(r.a)({className:o()("number-input",(t={disabled:g,readonly:y},Object(a.a)(t,C,C),Object(a.a)(t,"vertical-number-input",k),Object(a.a)(t,"vertical-number-input-".concat(d),k&&d),t))},O?{style:O}:{}),{},{children:[Object(m.jsx)(p.a,{addonType:"prepend",onClick:q,children:Object(m.jsx)(b.a,Object(r.a)(Object(r.a)({className:"btn-icon",color:"transparent"},d?{size:d}:{}),{},{disabled:!h&&z<=n||g||y,children:N}))}),Object(m.jsx)(f.a,Object(r.a)(Object(r.a)({},V),{},{type:"number",value:z,disabled:g,readOnly:y,onKeyDown:function(e){y||(38===e.keyCode&&I(),40===e.keyCode&&q())},onChange:function(e){D(Number(e.target.value))},className:o()(Object(a.a)({},R,R))},d?{bsSize:d}:{})),Object(m.jsx)(p.a,{addonType:"append",onClick:I,children:Object(m.jsx)(b.a,Object(r.a)(Object(r.a)({className:"btn-icon",color:"transparent"},d?{size:d}:{}),{},{disabled:!h&&z>=s||g||y,children:x}))})]}))};t.a=h,h.defaultProps={min:1,step:1,wrap:!1,max:1/0,disabled:!1,readonly:!1,downIcon:Object(m.jsx)(u.a,{size:14}),upIcon:Object(m.jsx)(d.a,{size:14})}},123:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return j}));var r=n(2),a=n(57),c=n.n(a),i=n(59),s=n(65),o=n(64),u=function(e){return o.a.get(e).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.data}))},d={create:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("order",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.put("order/".concat(t),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),status:function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("order/".concat(t,"/status"),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),supplier:function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("order/".concat(t,"/supplier"),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),shippingStatus:function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.status,e.next=3,o.a.post("order/".concat(t,"/shipping-status"),{shipping_status:r});case 3:return a=e.sent,i=a.data,e.abrupt("return",null===i||void 0===i?void 0:i.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};function l(e){var t="order/".concat(e),n=Object(s.a)("order/".concat(e),u,{revalidateOnFocus:!1,revalidateOnReconnect:!1,refreshWhenOffline:!1,refreshWhenHidden:!1,refreshInterval:0}),a=n.data,o=n.error,l=!a&&!o,j=function(){var n=Object(i.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.update(e,r);case 2:return n.next=4,Object(s.b)(t);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),p=function(){var n=Object(i.a)(c.a.mark((function n(i){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.status(e,i);case 2:return n.next=4,Object(s.b)(t,Object(r.a)(Object(r.a)({},a),i),!1);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),b=function(){var n=Object(i.a)(c.a.mark((function n(i){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.supplier(e,i);case 2:return n.next=4,Object(s.b)(t,Object(r.a)(Object(r.a)({},a),{},{status:i.status}),!1);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return{loading:l,error:o,data:a,mutate:s.b,update:j,updateStatus:p,updateSupplier:b,updateShippingStatus:function(t){return d.shippingStatus(e,t)}}}function j(e){var t=e.page,n=e.limit,r=e.search,a=e.order,c=void 0===a?{}:a,i=e.conditions,o=void 0===i?{}:i,d="order/datatable?page=".concat(t,"&limit=").concat(n,"&search=").concat(r,"&order=").concat(JSON.stringify(c),"&conditions=").concat(JSON.stringify(o)),l=Object(s.a)(d,u),j=l.data,p=(l.mutate,l.error);return{loading:!j&&!p,error:p,data:(null===j||void 0===j?void 0:j.items)||[],total:(null===j||void 0===j?void 0:j.total)||0,mutates:{}}}},142:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o}));var r=n(63),a="shipping-provider",c={create:function(e){return r.a.create(a,e)},update:function(e,t){return r.a.update(a,e,t)},delete:function(e){return r.a.delete(a,e)}};function i(e){return Object(r.c)(a,e)}function s(e){return Object(r.b)(a,"".concat(a,"/datatable"),e)}function o(){return Object(r.d)(a)}},151:function(e,t,n){},154:function(e,t,n){"use strict";n(0),n(11);var r=n(3);t.a=function(e){var t=e.data;return Object(r.jsx)("a",{className:"text-dark",href:"".concat("http://localhost:3002","/product/").concat(t.sku),target:"_blank",children:t.name})}},155:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o}));var r=n(63),a="coupon",c={create:function(e){return r.a.create(a,e)},update:function(e,t){return r.a.update(a,e,t)},delete:function(e){return r.a.delete(a,e)}};function i(e){return Object(r.c)(a,e)}function s(e){return Object(r.b)(a,"".concat(a,"/datatable"),e)}function o(){return Object(r.d)(a)}},156:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o}));var r=n(63),a="city",c={create:function(e){return r.a.create(a,e)},update:function(e,t){return r.a.update(a,e,t)},delete:function(e){return r.a.delete(a,e)}};function i(e){return Object(r.c)(a,e)}function s(e){return Object(r.b)(a,"".concat(a,"/datatable"),e)}function o(){return Object(r.d)(a)}},221:function(e,t,n){},309:function(e,t,n){"use strict";var r=n(57),a=n.n(r),c=n(59),i=n(8),s=n(89),o=n(135),u=n(765),d=n(55),l=n(67),j=n(0),p=n(22),b=n(82),f=n(3);t.a=function(e){var t=e.update,n=e.order,r=Object(j.useState)(null),m=Object(i.a)(r,2),h=m[0],v=m[1];Object(j.useEffect)((function(){h||v(null===n||void 0===n?void 0:n.status)}),[n]);var O=[{label:"New Order",value:"PENDING"},{label:"Processing",value:"PROCESSING"},{label:"Completed",value:"COMPLETED"}],x=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(b.a)(Object(c.a)(a.a.mark((function e(){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({status:h});case 3:p.b.success("Success"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),p.b.error(null===(n=e.t0.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(b.b)(Object(c.a)(a.a.mark((function e(){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({status:"CANCELED"});case 3:v("CANCELED"),p.b.success("Success"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),p.b.error(null===(n=e.t0.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(s.a,{className:"invoice-action-wrapper",children:Object(f.jsxs)(o.a,{children:[Object(f.jsx)(u.a,{children:Object(f.jsx)(l.a,{className:"react-select",classNamePrefix:"select",value:O.filter((function(e){return e.value===(h||(null===n||void 0===n?void 0:n.status))})),options:O,onChange:function(e){return v(null===e||void 0===e?void 0:e.value)}})}),Object(f.jsx)(d.a.Ripple,{color:"primary",block:!0,onClick:x,children:"Update Status"}),"PENDING"===(null===n||void 0===n?void 0:n.status)&&Object(f.jsx)(d.a.Ripple,{color:"danger",outline:!0,className:"mt-1",block:!0,onClick:g,children:"Delete Order"})]})})}},310:function(e,t,n){"use strict";var r=n(8),a=n(89),c=n(189),i=n(856),s=n(135),o=n(765),u=n(95),d=n(98),l=n(67),j=n(58),p=n(156),b=n(142),f=n(0),m=n(3);t.a=function(e){var t,n,h=e.form,v=e.isCompleted,O=Object(f.useState)({}),x=Object(r.a)(O,2),g=x[0],y=x[1],w=Object(p.d)().data,N=Object(b.d)().data,k=w.map((function(e){return{label:e.name,value:e.id,cost:e.shipping_cost}})),C=N.map((function(e){return{label:e.name,value:e.id}})),_=h.watch("has_shipping"),S=[{label:"Waiting for shipping",value:"WAITING"},{label:"On The Way",value:"SHIPPED"},{label:"Delivered",value:"DELIVERED"}];return Object(m.jsxs)(a.a,{children:[Object(m.jsxs)(c.a,{children:["Shipping",Object(m.jsx)(i.a,{disabled:v,id:"order-has-shipping",type:"switch",name:"has_shipping",innerRef:h.register(),onChange:function(e){e.target.checked?g&&(h.setValue("shipping",g.shipping),h.setValue("city_id",g.city),h.setValue("shipping_provider_id",g.shipping_provider)):(y({city:h.getValues("city_id"),shipping_provider:h.getValues("shipping_provider_id"),shipping:{cost:h.getValues("shipping.cost"),address:h.getValues("shipping.address"),status:h.getValues("shipping.status")}}),h.setValue("shipping.cost",null),h.setValue("shipping.address",null),h.setValue("shipping.status",null),h.setValue("city_id",null),h.setValue("shipping_provider_id",null))}})]}),Object(m.jsxs)(s.a,{children:[Object(m.jsx)(o.a,{children:Object(m.jsx)(j.a,{control:h.control,defaultValue:null,name:"city_id",render:function(e){var t=e.onChange,n=e.value,r=(e.name,e.ref);return Object(m.jsx)(l.a,{className:"react-select",classNamePrefix:"select",value:k.filter((function(e){return e.value===n})),inputRef:r,placeholder:"Select City...",options:k,onChange:function(e){var n;t((null===e||void 0===e?void 0:e.value)||null),n=e,h.setValue("shipping.cost",(null===n||void 0===n?void 0:n.cost)||0)},isClearable:!0,isDisabled:!_||v})}})}),Object(m.jsx)(o.a,{children:Object(m.jsx)(j.a,{control:h.control,defaultValue:null,name:"shipping_provider_id",render:function(e){var t=e.onChange,n=e.value,r=(e.name,e.ref);return Object(m.jsx)(l.a,{className:"react-select",classNamePrefix:"select",placeholder:"Select Shipping Provider...",value:C.filter((function(e){return e.value===n})),inputRef:r,options:C,onChange:function(e){return t((null===e||void 0===e?void 0:e.value)||null)},isClearable:!0,isDisabled:!_||v})}})}),Object(m.jsx)(o.a,{children:Object(m.jsx)(u.a,{disabled:!_||v,type:"textarea",name:"shipping.address",placeholder:"Shipping Address",innerRef:h.register({required:_}),invalid:(null===(t=h.errors.shipping)||void 0===t?void 0:t.address)&&!0})}),Object(m.jsx)(o.a,{children:Object(m.jsx)(u.a,{disabled:!_||v,type:"number",name:"shipping.cost",placeholder:"Cost",step:"0.1",innerRef:h.register({required:_}),invalid:(null===(n=h.errors.shipping)||void 0===n?void 0:n.cost)&&!0})}),Object(m.jsx)(o.a,{children:Object(m.jsx)(j.a,{control:h.control,defaultValue:"WAITING",name:"shipping.status",render:function(e){var t=e.onChange,n=e.value,r=(e.name,e.ref);return Object(m.jsx)(l.a,{isDisabled:!_||v,className:"react-select",classNamePrefix:"select",value:S.filter((function(e){return e.value===n})),inputRef:r,options:S,onChange:function(e){return t(null===e||void 0===e?void 0:e.value)}})}})}),Object(m.jsx)(o.a,{children:Object(m.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[Object(m.jsx)(d.a,{className:"mb-0",for:"order-free-shipping",children:"Free Shipping"}),Object(m.jsx)(i.a,{disabled:!_||v,id:"order-free-shipping",type:"switch",name:"shipping.free",innerRef:h.register()})]})})]})]})}},536:function(e,t,n){"use strict";var r=n(2),a=n(88),c=n(72),i=n(57),s=n.n(i),o=n(59),u=n(8),d=n(0),l=n(318),j=n(99),p=n(97),b=n(95),f=n(55),m=n(106),h=n(89),v=n(189),O=n(135),x=n(327),g=n(114),y=n(64),w=n(3);function N(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*r));return t}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var n=1024,r=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],c=Math.floor(Math.log(e)/Math.log(n));return"".concat(parseFloat((e/Math.pow(n,c)).toFixed(r))," ").concat(a[c])}t.a=function(e){var t=e.onChange,n=e.files,i=void 0===n?[]:n,C=Object(d.useState)([]),_=Object(u.a)(C,2),S=_[0],R=_[1],V=function(){var e=Object(o.a)(s.a.mark((function e(n){var r,a,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",n.file),r.append("id",n.id),e.next=5,y.a.post("media/order",r);case 5:a=e.sent,c=a.data,o=i.map((function(e){return e.id===c.id&&(e.url=c.url,e.key=c.key,e.name=c.name,e.new=!0),e})),t(o);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=Object(l.a)({maxFiles:5,multiple:!0,onDropAccepted:function(e){e=e.map((function(e){return{id:N(),file:e}})),t([].concat(Object(c.a)(i),Object(c.a)(e))),R(e)}}),P=(E.acceptedFiles,E.getRootProps),z=E.getInputProps;Object(d.useEffect)((function(){var e,t=Object(a.a)(S);try{for(t.s();!(e=t.n()).done;){var n=e.value;V(n)}}catch(r){t.e(r)}finally{t.f()}}),[S]),Object(d.useEffect)((function(){t(i)}),[i]);var D=i.filter((function(e){return!e.deleted})).map((function(e,n){var r=e.file,a=e.id,s=e.url,o=e.name,u=e.size;return Object(w.jsxs)("section",{children:[Object(w.jsxs)(j.a,{className:"justify-content-between align-items-center",children:[Object(w.jsx)(p.a,{md:10,className:"mb-1",children:Object(w.jsx)(b.a,{type:"text",disabled:!0,value:"[".concat(k(u||r.size),"] - ").concat(o||s||r.path)})}),Object(w.jsx)(p.a,{md:1,className:"text-center mb-1",children:Object(w.jsx)("a",{href:s,target:"_blank",children:Object(w.jsx)(f.a.Ripple,{block:!0,className:"btn-icon",color:"light",children:s?Object(w.jsx)(x.a,{size:20}):Object(w.jsx)(m.a,{size:"sm"})})})}),Object(w.jsx)(p.a,{md:1,className:"text-center mb-1",children:Object(w.jsx)(f.a.Ripple,{block:!0,className:"btn-icon",color:"light",onClick:function(){return function(e){var n=Object(c.a)(i);n[e].new?n.splice(e,1):n[e].deleted=!0,t(n)}(n)},children:Object(w.jsx)(g.a,{size:20})})})]}),Object(w.jsx)("hr",{className:"m-0 mb-1"})]},a)}));return Object(w.jsxs)(h.a,{children:[Object(w.jsx)(v.a,{children:Object(w.jsx)("h4",{children:"Attachments"})}),Object(w.jsxs)(O.a,{children:[Object(w.jsxs)("div",Object(r.a)(Object(r.a)({},P({className:"dropzone"})),{},{children:[Object(w.jsx)("input",Object(r.a)({},z())),Object(w.jsx)("p",{className:"attachments-box",children:"Drag 'n' drop some files here, or click to select files"})]})),D]})]})}},544:function(e,t,n){"use strict";var r=n(88),a=n(8),c=n(89),i=n(135),s=n(55),o=n(57),u=n.n(o),d=n(59),l=n(72),j=n(303),p=n(229),b=n(95),f=n(230),m=n(143),h=n(792),v=n(324),O=n(321),x=n(322),g=n(765),y=n(323),w=n(58),N=n(114),k=n(218),C=n(0),_=n(118),S=n(82),R=n(121),V=n(115),E=function(e,t){var n=e.price,r=e.min_price,a=e.normal_price;return"min"===t?r:"normal"===t?a:n},P=n(154),z=n(19),D=n(3),q=function(e){var t=e.disabled,n=e.form,r=z.a.can("read","show_real_price_for_product_in_order"),a=function(e,n,r,a){(console.log(r.name),t)||a(e.map((function(e){return e.id===n&&(e[r.name]=r.value),e})))},c=n.watch("options.pricing"),i=function(){var e=Object(d.a)(u.a.mark((function e(n,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:r(n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(D.jsxs)(j.a,{striped:!0,hover:!0,size:"sm",children:[Object(D.jsx)("thead",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{children:"Product"}),r&&Object(D.jsx)("th",{width:"15%",children:"Real Price"}),Object(D.jsx)("th",{width:"15%",children:"Quantity"}),Object(D.jsx)("th",{width:"15%",children:"Price"}),Object(D.jsx)("th",{width:"15%",className:"text-center",children:"Actions"})]})}),Object(D.jsx)("tbody",{children:Object(D.jsx)(w.a,{control:n.control,defaultValue:null,name:"products",render:function(e){var o=e.onChange,u=e.value;e.name,e.ref;return Object(D.jsxs)(D.Fragment,{children:[(u||[]).map((function(e){return Object(D.jsxs)("tr",{children:[Object(D.jsxs)("td",{children:[Object(D.jsx)("img",{className:"mr-75",src:e.image,alt:"angular",height:"60",width:"60"}),Object(D.jsx)("span",{className:"align-middle font-weight-bold",children:Object(D.jsx)(P.a,{data:e})})]}),r&&Object(D.jsx)("td",{children:Object(D.jsxs)(p.a,{children:[Object(D.jsx)(b.a,{disabled:!0,value:e.real_price,name:"real_price",type:"number",step:1,required:!0,onChange:function(t){a(u,e.id,t.target,o),n.setValue("options.pricing","custom")}}),Object(D.jsx)(f.a,{addonType:"append",children:Object(D.jsx)(m.a,{children:"$"})})]})}),Object(D.jsx)("td",{children:Object(D.jsx)(R.a,{disabled:t,value:e.quantity,name:"quantity",type:"number",required:!0,onChange:function(t){return a(u,e.id,{name:"quantity",value:t},o)}})}),Object(D.jsx)("td",{children:Object(D.jsxs)(p.a,{children:[Object(D.jsx)(b.a,{disabled:t,value:E(e,c),name:"price",type:"number",step:1,required:!0,onChange:function(t){a(u,e.id,t.target,o),n.setValue("options.pricing","custom")}}),Object(D.jsx)(f.a,{addonType:"append",children:Object(D.jsx)(m.a,{children:"$"})})]})}),Object(D.jsx)("td",{className:"text-center",children:Object(D.jsx)(N.a,{className:"cursor-pointer",size:20,onClick:function(){return function(e,n,r){if(!t){var a=e.filter((function(e){return e.id!==n})).map((function(e){return e}));Object(S.a)((function(){r(a)}))}}(u,e.id,o)}})})]},e.id)})),Object(D.jsxs)("tr",{children:[Object(D.jsx)("td",{colSpan:3,children:Object(D.jsx)(w.a,{control:n.control,defaultValue:null,name:"options.pricing",render:function(e){var t=e.onChange,n=e.value;e.name,e.ref;return Object(D.jsxs)(h.a,{children:[Object(D.jsx)(s.a,{outline:!0,color:"primary",onClick:function(){return i("normal",t)},active:"normal"===n||!n,size:"sm",children:"Normal"}),Object(D.jsx)(s.a,{outline:!0,color:"primary",onClick:function(){return i("min",t)},active:"min"===n,size:"sm",children:"Distributor"}),Object(D.jsx)(s.a,{outline:!0,color:"primary",onClick:function(){return i("custom",t)},active:"custom"===n,size:"sm",children:"Custom"})]})}})}),Object(D.jsx)("td",{className:"text-center p-2",children:Object(D.jsx)(I,{products:[],onSubmit:function(e){return function(e,n,r){var a,c;t||(e=null!==(a=e)&&void 0!==a?a:[],n.quantity=1,(null===(c=e)||void 0===c?void 0:c.some((function(e){return e.id===n.id})))||r([].concat(Object(l.a)(e),[n])))}(u,e,o)}})})]})]})}})})]})};function I(e){e.products;var t=e.onSubmit,n=Object(C.useState)(!1),r=Object(a.a)(n,2),c=r[0],i=r[1],o=Object(C.useState)(null),l=Object(a.a)(o,2),j=l[0],p=l[1],b=function(e){e.id;var t=e.name,n=e.image,r=(e.price,e.stock);return Object(D.jsxs)("div",{className:"d-flex justify-content-left align-items-center",children:[Object(D.jsx)("div",{className:"avatar mr-50",width:"32",height:"32",children:Object(D.jsx)("img",{src:n,height:"32",width:"32"})}),Object(D.jsxs)("div",{className:"d-flex flex-column",children:[Object(D.jsx)("h6",{className:"user-name text-truncate mb-0",children:t}),Object(D.jsxs)("small",{className:"text-truncate text-muted mb-0",children:["Available Quantity: ",r]})]})]})},f=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.a.autocomplete(t);case 2:return n=e.sent,e.abrupt("return",n.map((function(e){var t=e.id,n=e.name,r=e.image,a=e.price,c=e.stock,i=e.min_price,s=e.normal_price,o=e.sku;return{label:b({id:t,name:n,image:r,price:a,stock:c}),value:t,item:{id:t,name:n,image:r,stock:c,price:a,min_price:i,normal_price:s,sku:o}}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(k.a,{className:"cursor-pointer",size:22,onClick:function(){return i(!0)}}),Object(D.jsxs)(v.a,{isOpen:c,toggle:function(){return i(!c)},className:"modal-dialog-centered",children:[Object(D.jsx)(O.a,{toggle:function(){return i(!c)},children:"Add Product"}),Object(D.jsx)(x.a,{children:Object(D.jsx)(g.a,{children:Object(D.jsx)(_.a,{isClearable:!0,className:"react-select",classNamePrefix:"select",loadOptions:f,cacheOptions:!0,onChange:function(e,t){t.action,t.removedValue;p(null===e||void 0===e?void 0:e.item)}})})}),Object(D.jsxs)(y.a,{children:[Object(D.jsx)(s.a,{color:"primary",onClick:function(){t&&j&&t(j)},children:"Save"})," "]})]})]})}var B=n(69),F=n.n(B),T=n(227),A=n(219),M=n(328),W=n(153),J=n(61),G=n(99),L=n(97),Y=n(98),$=n(120),H=function(e){var t,n,r,c=e.form,i=e.order,s=e.disabled,o=Object(C.useState)(),l=Object(a.a)(o,2),j=l[0],p=l[1];Object(C.useEffect)((function(){j||p(null===i||void 0===i?void 0:i.user)}),[i]);var f=function(e){return Object(D.jsx)("div",{className:"d-flex justify-content-left align-items-center",children:Object(D.jsxs)("div",{className:"d-flex flex-column",children:[Object(D.jsx)("h6",{className:"user-name text-truncate mb-0",children:null===e||void 0===e?void 0:e.name}),Object(D.jsx)("small",{className:"text-truncate text-muted mb-0",children:null===e||void 0===e?void 0:e.email})]})})},m=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.autocomplete(t);case 2:return n=e.sent,e.abrupt("return",n.map((function(e){var t=e.id,n=e.name,r=e.email,a=e.phone;return{label:f({id:t,name:n,email:r,phone:a}),value:t,item:{id:t,name:n,email:r,phone:a}}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(D.jsxs)(G.a,{children:[Object(D.jsx)(L.a,{sm:"12",children:Object(D.jsx)(g.a,{children:Object(D.jsx)(w.a,{control:c.control,defaultValue:null,name:"user_id",render:function(e){var t=e.onChange,n=e.value;e.name,e.ref;return Object(D.jsx)(_.a,{isClearable:!0,className:"react-select",classNamePrefix:"select",defaultOptions:!0,isDisabled:s,value:{value:n,label:f(j)},loadOptions:m,cacheOptions:!0,onChange:function(e,n){t(null===e||void 0===e?void 0:e.item.id),function(e,t){t.action,t.removedValue,p(null===e||void 0===e?void 0:e.item),(null===e||void 0===e?void 0:e.item)&&(c.setValue("customer.name",e.item.name),c.setValue("customer.email",e.item.email),c.setValue("customer.phone",e.item.phone))}(e,n)}})}})})}),Object(D.jsx)(L.a,{sm:"4",children:Object(D.jsxs)(g.a,{children:[Object(D.jsx)(Y.a,{for:"customerName",children:"Name"}),Object(D.jsx)(b.a,{disabled:s,type:"text",id:"customerName",name:"customer.name",innerRef:c.register({required:!0}),invalid:(null===(t=c.errors.customer)||void 0===t?void 0:t.name)&&!0})]})}),Object(D.jsx)(L.a,{sm:"4",children:Object(D.jsxs)(g.a,{children:[Object(D.jsx)(Y.a,{for:"customerPhone",children:"Phone"}),Object(D.jsx)(b.a,{disabled:s,type:"text",id:"customerName",name:"customer.phone",innerRef:c.register({required:!0}),invalid:(null===(n=c.errors.customer)||void 0===n?void 0:n.phone)&&!0})]})}),Object(D.jsx)(L.a,{sm:"4",children:Object(D.jsxs)(g.a,{children:[Object(D.jsx)(Y.a,{for:"customerEmail",children:"Email"}),Object(D.jsx)(b.a,{disabled:s,type:"text",id:"customerEmail",name:"customer.email",innerRef:c.register({required:!1}),invalid:(null===(r=c.errors.customer)||void 0===r?void 0:r.email)&&!0})]})}),Object(D.jsx)(L.a,{sm:"12",children:Object(D.jsxs)(g.a,{children:[Object(D.jsx)(Y.a,{for:"notes",children:"Notes"}),Object(D.jsx)(b.a,{disabled:s,id:"notes",type:"textarea",name:"notes",innerRef:c.register({required:!1}),invalid:c.errors.notes&&!0})]})}),Object(D.jsx)(L.a,{sm:"12",children:Object(D.jsxs)(g.a,{children:[Object(D.jsx)(Y.a,{for:"notes",children:"Invoice Notes"}),Object(D.jsx)(b.a,{disabled:s,id:"invoiceNotes",type:"textarea",name:"invoice_notes",innerRef:c.register({required:!1}),invalid:c.errors.notes&&!0})]})})]})},Q=n(7),U=n(2);function K(e){var t=e.form,n=e.disabled,r=e.fieldName,a=e.onUpdate,c=z.a.can("read","show_real_price_for_extra_in_order"),i={price:1,quantity:1,name:""},s=t.watch(r),o=function(e,t,n,r,c){var i=s;i[e]=Object(U.a)(Object(U.a)({},t),{},Object(Q.a)({},n,r)),c(i),a()};return Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)(j.a,{striped:!0,hover:!0,size:"sm",children:[Object(D.jsx)("thead",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{children:"Extra"}),c&&Object(D.jsx)("th",{width:"15%",children:"Real Price"}),Object(D.jsx)("th",{width:"15%",children:"Quantity"}),Object(D.jsx)("th",{width:"15%",children:"Price"}),Object(D.jsx)("th",{width:"15%",className:"text-center",children:"Actions"})]})}),Object(D.jsxs)("tbody",{children:[Object(D.jsx)(w.a,{control:t.control,defaultValue:[],name:r,render:function(e){var t=e.value,r=e.onChange;return Object(D.jsx)(D.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(D.jsxs)("tr",{children:[Object(D.jsx)("td",{children:Object(D.jsx)(b.a,{disabled:n,type:"text",name:"name",placeholder:"Name",value:e.name,required:!0,onChange:function(n){return o(t,e,"name",n.target.value,r)}})}),c&&Object(D.jsx)("td",{children:Object(D.jsx)(R.a,{disabled:n,value:e.real_price,name:"real_price",type:"number",required:!0,onChange:function(n){return o(t,e,"real_price",n,r)}})}),Object(D.jsx)("td",{children:Object(D.jsx)(R.a,{disabled:n,value:e.quantity,name:"quantity",type:"number",required:!0,onChange:function(n){return o(t,e,"quantity",n,r)}})}),Object(D.jsx)("td",{children:Object(D.jsx)(R.a,{disabled:n,value:e.price,name:"price",type:"number",required:!0,onChange:function(n){return o(t,e,"price",n,r)}})}),Object(D.jsx)("td",{className:"text-center",children:Object(D.jsx)(N.a,{className:"cursor-pointer",size:20,onClick:function(){return function(e,t){var n=s;n.splice(e,1),t(n),a()}(t,r)}})})]},t)}))})}}),Object(D.jsxs)("tr",{children:[Object(D.jsx)("td",{colSpan:c?4:3}),Object(D.jsx)("td",{className:"text-center py-2",children:Object(D.jsx)(k.a,{className:"cursor-pointer",size:22,onClick:function(){if(!n){var e=s||[];t.setValue(r,[].concat(Object(l.a)(e),[i]))}}})})]})]})]})})}var Z=n(155),X=n(67),ee=function(e){var t=e.form,n=e.calculations,r=e.disabled,a=e.setCoupon,c=Object(Z.d)().data,s=c.map((function(e){return{label:e.name,value:e.id,data:e}})),o=t.watch("coupon_id");return Object(C.useEffect)((function(){var e=c.filter((function(e){return o===e.id}));e.length>0&&a(e[0])}),[o,c]),Object(D.jsx)(i.a,{className:"pb-2",children:Object(D.jsx)(G.a,{className:"justify-content-end",children:Object(D.jsxs)(L.a,{md:"6",children:[Object(D.jsxs)(g.a,{row:!0,children:[Object(D.jsx)(Y.a,{sm:"3",for:"order",children:Object(D.jsx)("strong",{children:"Subtotal"})}),Object(D.jsx)(L.a,{sm:"9",children:Object(D.jsxs)(p.a,{children:[Object(D.jsx)(b.a,{value:(null===n||void 0===n?void 0:n.subtotal)||0,disabled:!0}),Object(D.jsx)(f.a,{addonType:"append",children:Object(D.jsx)(m.a,{children:"$"})})]})})]}),Object(D.jsxs)(g.a,{row:!0,children:[Object(D.jsx)(Y.a,{sm:"3",for:"order",children:Object(D.jsx)("strong",{children:"Discount"})}),Object(D.jsx)(L.a,{sm:"3",children:Object(D.jsx)(b.a,{disabled:r,name:"discount",type:"number",min:0,step:"0.1",defaultValue:0,innerRef:t.register({required:!0}),invalid:t.errors.discount&&!0})}),Object(D.jsx)(L.a,{sm:"6",children:Object(D.jsx)(w.a,{control:t.control,name:"coupon_id",render:function(e){var t=e.onChange,n=e.value,a=(e.name,e.ref);return Object(D.jsx)(X.a,{isDisabled:r,className:"react-select",classNamePrefix:"select",placeholder:"Coupon",value:s.filter((function(e){return e.value===n})),inputRef:a,isClearable:!0,options:s,onChange:function(e){return t((null===e||void 0===e?void 0:e.value)||null)}})}})})]}),Object(D.jsx)("hr",{className:"invoice-spacing"}),Object(D.jsxs)(g.a,{row:!0,children:[Object(D.jsx)(Y.a,{sm:"3",for:"order",children:Object(D.jsx)("strong",{children:"Total"})}),Object(D.jsx)(L.a,{sm:"9",children:Object(D.jsxs)(p.a,{children:[Object(D.jsx)(b.a,{value:(null===n||void 0===n?void 0:n.total)||0,disabled:!0}),Object(D.jsx)(f.a,{addonType:"append",children:Object(D.jsx)(m.a,{children:"$"})})]})})]}),o&&Object(D.jsxs)(g.a,{row:!0,children:[Object(D.jsx)(Y.a,{sm:"3",for:"order",children:Object(D.jsx)("strong",{children:"With Coupon"})}),Object(D.jsx)(L.a,{sm:"9",children:Object(D.jsxs)(p.a,{children:[Object(D.jsx)(b.a,{value:(null===n||void 0===n?void 0:n.totalWithCoupon)||0,disabled:!0}),Object(D.jsx)(f.a,{addonType:"append",children:Object(D.jsx)(m.a,{children:"$"})})]})})]})]})})})};t.a=function(e){var t=e.order,n=e.form,o=e.isCompleted,u=e.isReorder,d=Object(C.useState)(),l=Object(a.a)(d,2),j=l[0],p=l[1],b=Object(C.useState)(0),f=Object(a.a)(b,2),m=f[0],h=f[1],v=Object(C.useState)(!0),O=Object(a.a)(v,2),x=O[0],g=O[1],y=n.watch("products"),w=n.watch("extra_items"),N=n.watch("discount"),k=n.watch("shipping.cost"),_=n.watch("shipping.free"),S=n.watch("options.pricing"),R=Object(W.h)(),V=z.a.can("read","order_reorder"),P=z.a.can("read","order_print"),I=function(){var e,t=0,n=Object(r.a)(y||[]);try{for(n.s();!(e=n.n()).done;){var a=e.value;t+=E(a,S)*a.quantity}}catch(d){n.e(d)}finally{n.f()}var c,i=Object(r.a)(w||[]);try{for(i.s();!(c=i.n()).done;){var s=c.value;t+=s.quantity*s.price}}catch(d){i.e(d)}finally{i.f()}var o=j?j.is_percentage?t*((100-j.amount)/100):j.amount:0,u=t+Number.parseFloat(_?0:k||0)-Number.parseFloat(N||0);h({subtotal:t.toFixed(2),total:u.toFixed(2),totalWithCoupon:o.toFixed(2)})};return Object(C.useEffect)((function(){I(),g((t&&"PENDING"!==(null===t||void 0===t?void 0:t.status)||o)&&!u)}),[t,y,w,N,k,_,S,j]),Object(D.jsxs)(c.a,{children:[Object(D.jsx)(i.a,{className:"px-2 pb-0",children:Object(D.jsxs)("div",{className:"d-flex justify-content-between flex-md-row flex-column",children:[Object(D.jsx)("div",{children:Object(D.jsx)("strong",{children:(null===t||void 0===t?void 0:t.number)?"Order: #".concat(null===t||void 0===t?void 0:t.number," | ").concat((null===t||void 0===t?void 0:t.tax_number)||"--"):"New Order"})}),Object(D.jsxs)("div",{children:["Date: ",Object(D.jsx)("span",{className:"invoice-number",children:F()().format("Y-MM-DD")})]})]})}),Object(D.jsx)("hr",{className:"invoice-spacing"}),Object(D.jsx)(i.a,{className:"px-2 pt-0",children:Object(D.jsx)(H,{form:n,order:t,disabled:o})}),Object(D.jsx)(q,{form:n,disabled:x}),Object(D.jsx)(K,{form:n,fieldName:"extra_items",disabled:x,onUpdate:I}),Object(D.jsx)("hr",{className:"m-0"}),Object(D.jsx)(ee,{form:n,calculations:m,disabled:o,setCoupon:p}),Object(D.jsx)("hr",{className:"invoice-spacing"}),Object(D.jsxs)(i.a,{className:"invoice-padding pt-0 d-flex",children:[Object(D.jsx)("div",{className:"mr-auto",children:t&&P&&Object(D.jsx)(J.b,{to:"/order/print/".concat(t.id),id:"pw-tooltip-".concat(t.id),target:"_blank",children:Object(D.jsxs)(s.a.Ripple,{color:"dark",children:[Object(D.jsx)(T.a,{size:14}),Object(D.jsx)("span",{className:"align-middle ml-25",children:"Print"})]})})}),Object(D.jsx)("div",{className:"mr-auto",children:t&&P&&Object(D.jsx)(J.b,{to:"/order/print-price-offer/".concat(t.id),id:"pw-tooltip-".concat(t.id),target:"_blank",children:Object(D.jsxs)(s.a.Ripple,{color:"dark",children:[Object(D.jsx)(T.a,{size:14}),Object(D.jsx)("span",{className:"align-middle ml-25",children:"Price Offer"})]})})}),Object(D.jsx)("div",{className:"mr-auto",children:t&&R.pathname.includes("edit")&&V&&Object(D.jsx)(J.b,{to:"/order/create/".concat(t.id),id:"pw-tooltip-".concat(t.id),target:"_blank",children:Object(D.jsxs)(s.a.Ripple,{color:"primary",children:[Object(D.jsx)(A.a,{size:14}),Object(D.jsx)("span",{className:"align-middle ml-25",children:"Reorder"})]})})}),Object(D.jsx)("div",{className:"mr-auto",children:t&&P&&Object(D.jsx)(J.b,{to:"/order/print-location/".concat(t.id),id:"pw-tooltip-".concat(t.id),target:"_blank",children:Object(D.jsxs)(s.a.Ripple,{color:"dark",children:[Object(D.jsx)(T.a,{size:14}),Object(D.jsx)("span",{className:"align-middle ml-25",children:"Print Location"})]})})}),Object(D.jsxs)(s.a.Ripple,{color:"secondary",type:"submit",children:[Object(D.jsx)(M.a,{size:14}),Object(D.jsx)("span",{className:"align-middle ml-25",children:"Save Changes"})]})]})]})}},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return j})),n.d(t,"e",(function(){return p}));var r=n(57),a=n.n(r),c=n(59),i=n(65),s=n(64),o=function(e){return s.a.get(e).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.data}))},u={create:function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post(t,n);case 2:return r=e.sent,c=r.data,e.abrupt("return",null===c||void 0===c?void 0:c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),update:function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){var c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.put("".concat(t,"/").concat(n),r);case 2:return c=e.sent,i=c.data,e.abrupt("return",null===i||void 0===i?void 0:i.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),delete:function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.delete("".concat(t,"/").concat(n));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};function d(e,t){var n=Object(i.a)("".concat(e,"/").concat(t),o),r=n.data,s=n.mutate,d=n.error;return{loading:!r&&!d,error:d,data:r,mutate:s,update:function(){var n=Object(c.a)(a.a.mark((function n(r){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.update(e,t,r);case 2:return n.next=4,s();case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}function l(e){var t=Object(i.a)(e,o,{revalidateOnFocus:!1,revalidateOnReconnect:!1,refreshWhenOffline:!1,refreshWhenHidden:!1,refreshInterval:0}),n=t.data,r=t.mutate,s=t.error;return{loading:!n&&!s,error:s,data:n||[],mutate:r,create:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.create(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}function j(e,t,n){var r=n.page,s=n.limit,d=n.search,l=n.order,j=void 0===l?{}:l,p=n.conditions,b=void 0===p?{}:p,f="".concat(t,"?page=").concat(r,"&limit=").concat(s,"&search=").concat(d,"&order=").concat(JSON.stringify(j),"&conditions=").concat(JSON.stringify(b)),m=Object(i.a)(f,o),h=m.data,v=m.mutate,O=m.error;return{loading:!h&&!O,error:O,data:(null===h||void 0===h?void 0:h.items)||[],total:(null===h||void 0===h?void 0:h.total)||0,mutate:v,mutates:{delete:function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.delete(e,n);case 2:return t.next=4,v(f);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}}function p(e,t){var n=t.conditions,r="".concat(e,"?conditions=").concat(JSON.stringify(n)),a=Object(i.a)(r,o),c=a.data,s=a.mutate,u=a.error;return{loading:!c&&!u,error:u,data:(null===c||void 0===c?void 0:c.items)||[],total:(null===c||void 0===c?void 0:c.total)||0,mutate:s}}},82:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l}));var r=n(57),a=n.n(r),c=n(59),i=n(107),s=n.n(i),o=n(108),u=n.n(o)()(s.a),d=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, do it!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1}).then((function(e){e.value&&t()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.fire({title:"Are you sure want to delete?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",customClass:{confirmButton:"btn btn-danger",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1}).then((function(e){e.value&&t()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},869:function(e,t,n){"use strict";n.r(t);var r=n(88),a=n(57),c=n.n(a),i=n(59),s=n(8),o=n(308),u=n(99),d=n(97),l=(n(221),n(0)),j=n(153),p=n(58),b=n(123),f=n(22),m=n(544),h=n(309),v=n(856),O=n(98),x=n(3),g=function(e){var t=e.form,n=e.order,r=e.isCompleted,a=t.watch("options.taxed"),c=t.watch("options.tax_exempt");return Object(l.useEffect)((function(){a?t.setValue("options.price_offer",!1):(t.setValue("options.tax_exempt",!1),t.setValue("options.tax_zero",!1)),c||t.setValue("options.tax_zero",!1)}),[a,c]),Object(x.jsxs)("div",{className:"mt-1",children:[Object(x.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[Object(x.jsx)(v.a,{disabled:r,id:"order-dept",type:"switch",name:"options.dept",innerRef:t.register()}),Object(x.jsx)(O.a,{className:"mb-0 font-medium-1",for:"order-dept",children:Object(x.jsx)("strong",{children:"\u0641\u0627\u062a\u0648\u0631\u0629 \u0630\u0645\u0645"})})]}),Object(x.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[Object(x.jsx)(v.a,{disabled:a||r,id:"order-price-offer",type:"switch",name:"options.price_offer",innerRef:t.register()}),Object(x.jsx)(O.a,{className:"mb-0 font-medium-1",for:"order-price-offer",children:Object(x.jsx)("strong",{children:"\u0639\u0631\u0636 \u0633\u0639\u0631"})})]}),Object(x.jsxs)("div",{className:"d-flex justify-content-between hidden",children:[Object(x.jsx)(v.a,{id:"order-taxed",type:"switch",disabled:!!(null===n||void 0===n?void 0:n.tax_number)||r,name:"options.taxed",innerRef:t.register()}),Object(x.jsx)(O.a,{className:"mb-0 font-medium-1",for:"order-taxed",children:Object(x.jsx)("strong",{children:"\u0641\u0627\u062a\u0648\u0631\u0629 \u0636\u0631\u064a\u0628\u064a\u0629"})})]}),Object(x.jsxs)("div",{className:"d-flex justify-content-between mt-1 hidden",children:[Object(x.jsx)(v.a,{disabled:!a||r,id:"order-tax-exempt",type:"switch",name:"options.tax_exempt",innerRef:t.register()}),Object(x.jsx)(O.a,{className:"mb-0 font-medium-1",for:"order-tax-exempt",children:Object(x.jsx)("strong",{children:"\u0645\u0639\u0641\u064a \u0645\u0646 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"})})]}),Object(x.jsxs)("div",{className:"d-flex justify-content-between mt-1 hidden",children:[Object(x.jsx)(v.a,{disabled:!a||r||!c,id:"order-tax-zero",type:"switch",name:"options.tax_zero",innerRef:t.register()}),Object(x.jsx)(O.a,{className:"mb-0 font-medium-1",for:"order-tax-exempt",children:Object(x.jsx)("strong",{children:"\u0645\u0639\u0641\u064a \u0628\u0646\u0633\u0628\u0629 \u0627\u0644\u0635\u0641\u0631"})})]})]})},y=n(310),w=n(536),N=["customer","notes","invoice_notes","products","shipping","city_id","coupon_id","shipping_provider_id","options","discount","extra_items","user_id","attachments"];t.default=function(){var e=Object(j.i)().id,t=Object(b.c)(e),n=t.data;t.update,t.updateStatus;var a=Object(p.b)(),v=Object(j.g)(),O=Object(l.useState)(!1),k=Object(s.a)(O,2),C=k[0],_=k[1],S=Object(l.useState)(!1),R=Object(s.a)(S,2),V=(R[0],R[1]),E=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r,a,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.products=(null===(n=t.products)||void 0===n?void 0:n.map((function(e){return{id:e.id,price:e.price,quantity:e.quantity}})))||[],e.next=4,b.a.create(t);case 4:r=e.sent,a=r.id,f.b.success("Order Created"),v.push("/order/edit/".concat(a)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),f.b.error(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){if(!C&&n){_(!0);var e,t=Object(r.a)(N);try{for(t.s();!(e=t.n()).done;){var c=e.value;"shipping"===c||"customer"===c||"notes"===c||"invoice_notes"===c||"city_id"===c||"coupon_id"===c||"shipping_provider_id"===c||"options"===c||"discount"===c||"user_id"===c?a.setValue(c,null):a.setValue(c,n[c])}}catch(s){t.e(s)}finally{t.f()}}var i="COMPLETED"===(null===n||void 0===n?void 0:n.status);V(i)}),[n]),Object(x.jsx)(o.a,{onSubmit:a.handleSubmit(E),children:Object(x.jsxs)(u.a,{children:[Object(x.jsxs)(d.a,{md:9,sm:12,children:[Object(x.jsx)(m.a,{order:n,form:a,isCompleted:!1,isReorder:!0}),Object(x.jsx)(p.a,{control:a.control,defaultValue:[],name:"attachments",render:function(e){var t=e.value,n=e.onChange;return Object(x.jsx)(w.a,{onChange:n,files:t})}})]}),Object(x.jsxs)(d.a,{md:3,sm:12,children:[Object(x.jsx)(h.a,{}),Object(x.jsx)(y.a,{form:a}),Object(x.jsx)(g,{form:a,isReorder:!0})]})]})})}}}]);
//# sourceMappingURL=77.626fbe39.chunk.js.map