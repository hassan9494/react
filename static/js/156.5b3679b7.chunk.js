(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[156],{169:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return u}));var r=a(64),n=a.n(r),c=a(65),s=a(305),o=a.n(s),i=a(179),l=a.n(i)()(o.a),d=function(){var e=Object(c.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, do it!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1}).then((function(e){e.value&&t()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.fire({title:"Are you sure want to delete?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",customClass:{confirmButton:"btn btn-danger",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1}).then((function(e){e.value&&t()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},301:function(e,t,a){"use strict";var r=a(4),n=a(5),c=a(21),s=a(19),o=a(0),i=a.n(o),l=a(1),d=a.n(l),u=a(11),b=a.n(u),f=a(12),j={children:d.a.node,type:d.a.string,size:d.a.oneOfType([d.a.number,d.a.string]),bsSize:d.a.string,valid:d.a.bool,invalid:d.a.bool,tag:f.q,innerRef:d.a.oneOfType([d.a.object,d.a.func,d.a.string]),plaintext:d.a.bool,addon:d.a.bool,className:d.a.string,cssModule:d.a.object},m=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(c.a)(a)),a.focus=a.focus.bind(Object(c.a)(a)),a}Object(s.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.focus=function(){this.ref&&this.ref.focus()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,c=e.type,s=e.bsSize,o=e.valid,l=e.invalid,d=e.tag,u=e.addon,j=e.plaintext,m=e.innerRef,p=Object(n.a)(e,["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"]),v=["radio","checkbox"].indexOf(c)>-1,h=new RegExp("\\D","g"),x=d||("select"===c||"textarea"===c?c:"input"),O="form-control";j?(O+="-plaintext",x=d||"input"):"file"===c?O+="-file":"range"===c?O+="-range":v&&(O=u?null:"form-check-input"),p.size&&h.test(p.size)&&(Object(f.t)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),s=p.size,delete p.size);var g=Object(f.m)(b()(t,l&&"is-invalid",o&&"is-valid",!!s&&"form-control-"+s,O),a);return("input"===x||d&&"function"===typeof d)&&(p.type=c),p.children&&!j&&"select"!==c&&"string"===typeof x&&"select"!==x&&(Object(f.t)('Input with a type of "'+c+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete p.children),i.a.createElement(x,Object(r.a)({},p,{ref:m,className:g,"aria-invalid":l}))},t}(i.a.Component);m.propTypes=j,m.defaultProps={type:"text"},t.a=m},307:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"d",(function(){return u})),a.d(t,"b",(function(){return b})),a.d(t,"c",(function(){return f})),a.d(t,"f",(function(){return j})),a.d(t,"e",(function(){return m}));var r=a(2),n=a(64),c=a.n(n),s=a(65),o=a(85),i=a(77),l=function(e){return i.a.get(e).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.data}))},d={create:function(){var e=Object(s.a)(c.a.mark((function e(t){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("product",t);case 2:return a=e.sent,r=a.data,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(s.a)(c.a.mark((function e(t,a){var r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.put("product/".concat(t),a);case 2:return r=e.sent,n=r.data,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),show:function(){var e=Object(s.a)(c.a.mark((function e(t){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("product/".concat(t));case 2:return a=e.sent,r=a.data,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),delete:function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.delete("product/".concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),restore:function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("restore_product/".concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),autocomplete:function(){var e=Object(s.a)(c.a.mark((function e(t){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("product/autocomplete?q=".concat(t));case 2:return a=e.sent,r=a.data,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),stock:function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("product/stock",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sku:function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("product/sku",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),stock2:function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("product/stock2",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),stock3:function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("product/stock3",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function u(e){var t=Object(o.a)("product/".concat(e),l,{revalidateOnFocus:!1}),a=t.data,r=t.mutate,n=t.error;return{loading:!a&&!n,error:n,data:a,mutate:r,update:function(){var t=Object(s.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.update(e,a);case 2:return t.next=4,r();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}function b(e){var t=e.page,a=e.limit,n=e.search,i=e.order,u=void 0===i?{}:i,b=e.conditions,f=void 0===b?{}:b,j="product/datatable?page=".concat(t,"&limit=").concat(a,"&search=").concat(n,"&order=").concat(JSON.stringify(u),"&conditions=").concat(JSON.stringify(f)),m=Object(o.a)(j,l),p=m.data,v=m.mutate,h=m.error,x=!p&&!h,O={delete:function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.delete(t);case 2:v(Object(r.a)({},p));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};return{loading:x,error:h,data:(null===p||void 0===p?void 0:p.items)||[],total:(null===p||void 0===p?void 0:p.total)||0,mutates:O}}function f(e){var t=e.page,a=e.limit,n=e.search,i=e.order,u=void 0===i?{}:i,b="deletedProduct/datatable?page=".concat(t,"&limit=").concat(a,"&search=").concat(n,"&order=").concat(JSON.stringify(u)),f=Object(o.a)(b,l),j=f.data,m=f.mutate,p=f.error,v=!j&&!p,h={delete:function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.delete(t);case 2:m(Object(r.a)({},j));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};return{loading:v,error:p,data:(null===j||void 0===j?void 0:j.items)||[],total:(null===j||void 0===j?void 0:j.total)||0,mutates:h}}function j(e){var t=e.page,a=e.limit,n=e.search,i=e.order,u=void 0===i?{}:i,b=e.conditions,f=void 0===b?{}:b,j="product/datatable?page=".concat(t,"&limit=").concat(a,"&search=").concat(n,"&order=").concat(JSON.stringify(u),"&conditions=").concat(JSON.stringify(f)),m=Object(o.a)(j,l),p=m.data,v=m.mutate,h=m.error,x=!p&&!h,O={delete:function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.delete(t);case 2:v(Object(r.a)({},p));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};return{loading:x,error:h,data:(null===p||void 0===p?void 0:p.items)||[],total:(null===p||void 0===p?void 0:p.total)||0,mutates:O}}function m(e){var t=e.page,a=e.limit,r=e.search,n=e.order,c="product/datatable?page=".concat(t,"&limit=").concat(a,"&search=").concat(r,"&order=").concat(null===n||void 0===n?void 0:n.column,"&dir=").concat(null===n||void 0===n?void 0:n.direction),s=Object(o.a)(c,l),i=s.data,d=s.error;return{loading:!i&&!d,error:d,data:(null===i||void 0===i?void 0:i.items)||[],total:(null===i||void 0===i?void 0:i.total)||0}}},308:function(e,t,a){"use strict";var r=a(4),n=a(294),c=a(349),s=a(350),o=a(351),i=a(352),l=a(353),d=(a(370),a(0)),u=a.n(d),b=(a(9),a(358),a(357)),f=a(348),j=a(355),m=(a(371),a(359),a(372));function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Object(l.a)(e);if(t){var n=Object(l.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(i.a)(this,a)}}var x={cacheOptions:!1,defaultOptions:!1,filterOption:null,isLoading:!1},O=function(e){var t,a;return a=t=function(t){Object(o.a)(i,t);var a=h(i);function i(e){var t;return Object(c.a)(this,i),(t=a.call(this)).select=void 0,t.lastRequest=void 0,t.mounted=!1,t.handleInputChange=function(e,a){var r=t.props,c=r.cacheOptions,s=r.onInputChange,o=Object(b.e)(e,a,s);if(!o)return delete t.lastRequest,void t.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(c&&t.state.optionsCache[o])t.setState({inputValue:o,loadedInputValue:o,loadedOptions:t.state.optionsCache[o],isLoading:!1,passEmptyOptions:!1});else{var i=t.lastRequest={};t.setState({inputValue:o,isLoading:!0,passEmptyOptions:!t.state.loadedInputValue},(function(){t.loadOptions(o,(function(e){t.mounted&&i===t.lastRequest&&(delete t.lastRequest,t.setState((function(t){return{isLoading:!1,loadedInputValue:o,loadedOptions:e||[],passEmptyOptions:!1,optionsCache:e?v(v({},t.optionsCache),{},Object(n.a)({},o,e)):t.optionsCache}})))}))}))}return o},t.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:"undefined"!==typeof e.inputValue?e.inputValue:"",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1,optionsCache:{},prevDefaultOptions:void 0,prevCacheOptions:void 0},t}return Object(s.a)(i,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0;var t=this.props.defaultOptions,a=this.state.inputValue;!0===t&&this.loadOptions(a,(function(t){if(e.mounted){var a=!!e.lastRequest;e.setState({defaultOptions:t||[],isLoading:a})}}))}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"loadOptions",value:function(e,t){var a=this.props.loadOptions;if(!a)return t();var r=a(e,t);r&&"function"===typeof r.then&&r.then(t,(function(){return t()}))}},{key:"render",value:function(){var t=this,a=this.props,n=(a.loadOptions,a.isLoading),c=Object(j.a)(a,["loadOptions","isLoading"]),s=this.state,o=s.defaultOptions,i=s.inputValue,l=s.isLoading,d=s.loadedInputValue,b=s.loadedOptions,f=s.passEmptyOptions?[]:i&&d?b:o||[];return u.a.createElement(e,Object(r.a)({},c,{ref:function(e){t.select=e},options:f,isLoading:l||n,onInputChange:this.handleInputChange}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.cacheOptions!==t.prevCacheOptions?{prevCacheOptions:e.cacheOptions,optionsCache:{}}:{},r=e.defaultOptions!==t.prevDefaultOptions?{prevDefaultOptions:e.defaultOptions,defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0}:{};return v(v({},a),r)}}]),i}(d.Component),t.defaultProps=x,a}(Object(m.a)(f.a));t.a=O},354:function(e,t,a){"use strict";var r=a(4),n=a(5),c=a(0),s=a.n(c),o=a(1),i=a.n(o),l=a(11),d=a.n(l),u=a(12),b=i.a.oneOfType([i.a.number,i.a.string]),f=i.a.oneOfType([i.a.bool,i.a.string,i.a.number,i.a.shape({size:b,order:b,offset:b})]),j={children:i.a.node,hidden:i.a.bool,check:i.a.bool,size:i.a.string,for:i.a.string,tag:u.q,className:i.a.string,cssModule:i.a.object,xs:f,sm:f,md:f,lg:f,xl:f,widths:i.a.array},m={tag:"label",widths:["xs","sm","md","lg","xl"]},p=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},v=function(e){var t=e.className,a=e.cssModule,c=e.hidden,o=e.widths,i=e.tag,l=e.check,b=e.size,f=e.for,j=Object(n.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),m=[];o.forEach((function(t,r){var n=e[t];if(delete j[t],n||""===n){var c,s=!r;if(Object(u.k)(n)){var o,i=s?"-":"-"+t+"-";c=p(s,t,n.size),m.push(Object(u.m)(d()(((o={})[c]=n.size||""===n.size,o["order"+i+n.order]=n.order||0===n.order,o["offset"+i+n.offset]=n.offset||0===n.offset,o))),a)}else c=p(s,t,n),m.push(c)}}));var v=Object(u.m)(d()(t,!!c&&"sr-only",!!l&&"form-check-label",!!b&&"col-form-label-"+b,m,!!m.length&&"col-form-label"),a);return s.a.createElement(i,Object(r.a)({htmlFor:f},j,{className:v}))};v.propTypes=j,v.defaultProps=m,t.a=v},416:function(e,t,a){"use strict";var r=a(0),n=a.n(r),c=a(1),s=a.n(c);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=Object(r.forwardRef)((function(e,t){var a=e.color,r=void 0===a?"currentColor":a,c=e.size,s=void 0===c?24:c,l=i(e,["color","size"]);return n.a.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),n.a.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),n.a.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),n.a.createElement("polyline",{points:"7 3 7 8 15 8"}))}));l.propTypes={color:s.a.string,size:s.a.oneOfType([s.a.string,s.a.number])},l.displayName="Save",t.a=l},551:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return u}));var r=a(2),n=a(64),c=a.n(n),s=a(65),o=a(8),i=a(0),l=a(77),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(i.useState)(null),a=Object(o.a)(t,2),r=a[0],n=a[1],d=Object(i.useState)(!1),u=Object(o.a)(d,2),b=u[0],f=u[1],j=Object(i.useState)(null),m=Object(o.a)(j,2),p=m[0],v=m[1],h=function(){var t=Object(s.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e){t.next=2;break}return t.abrupt("return");case 2:return f(!0),t.prev=3,t.next=6,l.a.get("/transfer-orders/".concat(e));case 6:a=t.sent,n(a.data),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),v(t.t0),console.error("Error fetching transfer order:",t.t0);case 14:return t.prev=14,f(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[3,10,14,17]])})));return function(){return t.apply(this,arguments)}}();Object(i.useEffect)((function(){h()}),[e]);var x=function(){h()};return{data:r,isLoading:b,error:p,refetch:x,mutate:n}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.useState)([]),a=Object(o.a)(t,2),n=a[0],d=a[1],u=Object(i.useState)(!1),b=Object(o.a)(u,2),f=b[0],j=b[1],m=Object(i.useState)(null),p=Object(o.a)(m,2),v=p[0],h=p[1],x=Object(i.useState)(0),O=Object(o.a)(x,2),g=O[0],k=O[1],y=function(){var t=Object(s.a)(c.a.mark((function t(){var a,n,s,o=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.length>0&&void 0!==o[0]?o[0]:{},j(!0),t.prev=2,n=Object(r.a)(Object(r.a)({},e),a),t.next=6,l.a.get("/transfer-orders",{params:n});case 6:(s=t.sent).data.success?(d(s.data.data.items||[]),k(s.data.data.total||0)):(d([]),k(0)),t.next=16;break;case 10:t.prev=10,t.t0=t.catch(2),h(t.t0),console.error("Error fetching transfer orders:",t.t0),d([]),k(0);case 16:return t.prev=16,j(!1),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,10,16,19]])})));return function(){return t.apply(this,arguments)}}();Object(i.useEffect)((function(){y()}),[JSON.stringify(e)]);var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y(e)};return{data:n,isLoading:f,error:v,refetch:N,total:g,mutate:d}};(function(){var e=Object(s.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/transfer-orders",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))})(),function(){var e=Object(s.a)(c.a.mark((function e(t,a){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.put("/transfer-orders/".concat(t),a);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))}(),function(){var e=Object(s.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.delete("/transfer-orders/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))}(),function(){var e=Object(s.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/transfer-orders/".concat(t,"/complete"));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))}(),function(){var e=Object(s.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/transfer-orders/".concat(t,"/cancel"));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))}(),function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/transfer-orders/statistics/overview");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))}()},563:function(e,t,a){"use strict";var r=a(0),n=a.n(r),c=a(1),s=a.n(c);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=Object(r.forwardRef)((function(e,t){var a=e.color,r=void 0===a?"currentColor":a,c=e.size,s=void 0===c?24:c,l=i(e,["color","size"]);return n.a.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),n.a.createElement("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),n.a.createElement("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),n.a.createElement("line",{x1:"6",y1:"20",x2:"6",y2:"14"}))}));l.propTypes={color:s.a.string,size:s.a.oneOfType([s.a.string,s.a.number])},l.displayName="BarChart2",t.a=l},585:function(e,t,a){"use strict";var r=a(64),n=a.n(r),c=a(65),s=a(8),o=(a(944),a(952)),i=a(955),l=a(943),d=a(55),u=a(414),b=a(404),f=a(405),j=a(406),m=a(111),p=a(0),v=a(22),h=a(169),x=a(69),O=a(622),g=a(606),k=a(429),y=a(77),N=a(3);t.a=function(e){var t=e.form,a=e.transferOrder,r=e.isEditMode,_=e.onStatusToggle,w=e.refetch,S=Object(p.useState)(null),C=Object(s.a)(S,2),A=C[0],z=C[1],P=Object(p.useState)(!1),E=Object(s.a)(P,2),D=E[0],T=E[1],R=Object(p.useState)(""),I=Object(s.a)(R,2),L=I[0],q=I[1],B=Object(p.useState)(!1),F=Object(s.a)(B,2),V=F[0],M=F[1],U=Object(p.useState)(""),W=Object(s.a)(U,2),G=W[0],J=W[1];Object(p.useEffect)((function(){a&&(z(a.status||"PENDING"),t&&t.setValue("status",a.status||"PENDING"))}),[a,t]);var Q=[{label:Object(N.jsxs)("div",{className:"d-flex align-items-center",children:[Object(N.jsx)(O.a,{size:16,className:"mr-2 text-warning"}),Object(N.jsx)("span",{children:"Pending"})]}),value:"PENDING"},{label:Object(N.jsxs)("div",{className:"d-flex align-items-center",children:[Object(N.jsx)(g.a,{size:16,className:"mr-2 text-success"}),Object(N.jsx)("span",{children:"Completed"})]}),value:"COMPLETED"}],Y=function(e){if(e){var r=e.value,n=(null===a||void 0===a?void 0:a.status)||"PENDING";r!==n&&(t&&t.setValue("status",r),z(r),"PENDING"===n&&"COMPLETED"===r?(q("complete"),T(!0)):"COMPLETED"===n&&"PENDING"===r&&(q("revert"),T(!0)))}},H=function(){var e=Object(c.a)(n.a.mark((function e(){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A){e.next=3;break}return v.b.error("Please select a status"),e.abrupt("return");case 3:if(s=(null===a||void 0===a?void 0:a.status)||"PENDING",A!==s){e.next=7;break}return v.b.info("Status is already set to ".concat(A)),e.abrupt("return");case 7:t&&r?Object(h.a)({title:"Update Status",text:"Are you sure you want to change status to ".concat(A,"?"),icon:"warning",confirmButtonText:"Yes, update it!",cancelButtonText:"Cancel"},Object(c.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!_){e.next=4;break}return e.next=4,_(A);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),v.b.error((null===(t=e.t0.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"An error occurred");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))):"PENDING"===s&&"COMPLETED"===A?(q("complete"),T(!0)):"COMPLETED"===s&&"PENDING"===A&&(q("revert"),T(!0));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(c.a)(n.a.mark((function e(){var t,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.prev=1,e.next=4,y.a.post("/transfer-orders/".concat(a.id,"/toggle-status"),{notes:G||void 0});case 4:if(v.b.success("complete"===L?"Transfer order completed successfully":"Transfer order reverted to pending successfully"),T(!1),J(""),!_){e.next=10;break}return e.next=10,_();case 10:if(!w){e.next=13;break}return e.next=13,w();case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.error("Toggle status error:",e.t0),v.b.error((null===(t=e.t0.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to update transfer order status");case 19:return e.prev=19,M(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[1,15,19,22]])})));return function(){return e.apply(this,arguments)}}();return Object(N.jsxs)(o.a,{className:"invoice-action-wrapper",children:[Object(N.jsxs)(i.a,{children:[r&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(l.a,{children:t?Object(N.jsx)(x.a,{control:t.control,defaultValue:A,name:"status",render:function(e){var t=e.field,a=t.onChange,r=t.value,n=(t.name,t.ref);return Object(N.jsx)(m.a,{className:"react-select",classNamePrefix:"select",value:Q.find((function(e){return e.value===(r||A)})),options:Q,onChange:function(e){a((null===e||void 0===e?void 0:e.value)||null),Y(e)},ref:n})}}):Object(N.jsx)(m.a,{className:"react-select",classNamePrefix:"select",value:Q.find((function(e){return e.value===A})),options:Q,onChange:Y})}),Object(N.jsx)(d.a.Ripple,{color:"primary",block:!0,onClick:H,disabled:!A||A===(null===a||void 0===a?void 0:a.status),children:"Update Status"})]}),!r&&Object(N.jsxs)("div",{className:"mt-3",children:[(null===a||void 0===a?void 0:a.can_complete)&&Object(N.jsxs)(d.a.Ripple,{color:"success",className:"mt-2",block:!0,onClick:function(){q("complete"),T(!0)},children:[Object(N.jsx)(g.a,{size:14,className:"mr-1"}),"Complete Transfer"]}),(null===a||void 0===a?void 0:a.can_revert)&&Object(N.jsxs)(d.a.Ripple,{color:"warning",className:"mt-2",block:!0,onClick:function(){q("revert"),T(!0)},children:[Object(N.jsx)(k.a,{size:14,className:"mr-1"}),"Revert to Pending"]})]})]}),Object(N.jsxs)(u.a,{isOpen:D,toggle:function(){return T(!1)},children:[Object(N.jsx)(b.a,{toggle:function(){return T(!1)},children:"complete"===L?"Complete Transfer Order":"Revert to Pending"}),Object(N.jsx)(f.a,{children:"complete"===L?Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("p",{children:"Are you sure you want to complete this transfer order?"})}):Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("p",{children:"Are you sure you want to revert this transfer order to pending?"})})}),Object(N.jsxs)(j.a,{children:[Object(N.jsx)(d.a,{color:"secondary",onClick:function(){return T(!1)},children:"Cancel"}),Object(N.jsx)(d.a,{color:"complete"===L?"success":"warning",onClick:K,disabled:V,children:V?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("span",{className:"spinner-border spinner-border-sm mr-2"}),"Processing..."]}):"complete"===L?"Complete Transfer":"Revert to Pending"})]})]})]})}},586:function(e,t,a){"use strict";var r=a(2),n=a(8),c=a(0),s=a(944),o=a(560),i=a(323),l=a(321),d=a(801),u=a(831),b=a(403),f=a(606),j=a(622),m=a(605),p=a(547),v=a(428),h=a(3);t.a=function(e){var t=e.product,a=(e.transferOrderStatus,e.showLabels),x=void 0===a||a,O=e.compact,g=void 0!==O&&O,k=e.showTooltip,y=void 0===k||k,N=e.className,_=void 0===N?"":N,w=e.style,S=void 0===w?{}:w,C=Object(c.useState)(!1),A=Object(n.a)(C,2),z=A[0],P=A[1],E=(null===t||void 0===t?void 0:t.has_stock_history)||null!==(null===t||void 0===t?void 0:t.stock_before)&&void 0!==(null===t||void 0===t?void 0:t.stock_before)?{type:"historical",stockAvailBefore:t.stock_available_before||0,stockAvailAfter:t.stock_available_after||0,storeAvailBefore:t.store_available_before||0,storeAvailAfter:t.store_available_after||0,totalBefore:t.stock_before||0,totalAfter:t.stock_after||0,stockDiff:t.stock_available_difference||0,storeDiff:t.store_available_difference||0,totalDiff:t.stock_difference||0}:{type:"pending",stockAvailBefore:t.current_stock_available||0,stockAvailAfter:t.current_stock_available||0,storeAvailBefore:t.current_store_available||0,storeAvailAfter:t.current_store_available||0,totalBefore:(t.current_stock_available||0)+(t.current_store_available||0),totalAfter:(t.current_stock_available||0)+(t.current_store_available||0),stockDiff:0,storeDiff:0,totalDiff:0},D="historical"===E.type,T=function(e){return e>0?"success":e<0?"danger":"secondary"},R=function(e){return e>0?Object(h.jsx)(d.a,{size:10,className:"mr-1"}):e<0?Object(h.jsx)(u.a,{size:10,className:"mr-1"}):Object(h.jsx)(b.a,{size:10,className:"mr-1"})},I=function(e){return e>0?"+".concat(e):e<0?"".concat(e):"No change"};return g?Object(h.jsxs)("div",{className:"stock-impact-compact ".concat(_),style:S,id:"stock-impact-".concat((null===t||void 0===t?void 0:t.id)||"unknown"),children:[Object(h.jsxs)("div",{className:"d-flex flex-column",children:[Object(h.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[Object(h.jsx)("small",{className:"text-muted",children:"Stock:"}),Object(h.jsxs)("div",{className:"d-flex align-items-center",children:[Object(h.jsx)("span",{className:"font-weight-bold",children:E.stockAvailBefore}),D&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(m.a,{size:8,className:"mx-1 text-muted"}),Object(h.jsx)("span",{className:"font-weight-bold ".concat(E.stockDiff>0?"text-success":E.stockDiff<0?"text-danger":""),children:E.stockAvailAfter}),0!==E.stockDiff&&Object(h.jsx)(s.a,{color:T(E.stockDiff),className:"ml-1",pill:!0,style:{fontSize:"9px",padding:"2px 4px"},children:I(E.stockDiff)})]})]})]}),Object(h.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[Object(h.jsx)("small",{className:"text-muted",children:"Store:"}),Object(h.jsxs)("div",{className:"d-flex align-items-center",children:[Object(h.jsx)("span",{className:"font-weight-bold",children:E.storeAvailBefore}),D&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(m.a,{size:8,className:"mx-1 text-muted"}),Object(h.jsx)("span",{className:"font-weight-bold ".concat(E.storeDiff>0?"text-success":E.storeDiff<0?"text-danger":""),children:E.storeAvailAfter}),0!==E.storeDiff&&Object(h.jsx)(s.a,{color:T(E.storeDiff),className:"ml-1",pill:!0,style:{fontSize:"9px",padding:"2px 4px"},children:I(E.storeDiff)})]})]})]}),Object(h.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(h.jsx)("small",{className:"text-muted",children:"\u03a3:"}),Object(h.jsxs)("div",{className:"d-flex align-items-center",children:[Object(h.jsx)("span",{className:"font-weight-bold",children:E.totalBefore}),D&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(m.a,{size:8,className:"mx-1 text-muted"}),Object(h.jsx)("span",{className:"font-weight-bold ".concat(E.totalDiff>0?"text-success":E.totalDiff<0?"text-danger":""),children:E.totalAfter})]})]})]})]}),y&&Object(h.jsx)(o.a,{placement:"top",isOpen:z,target:"stock-impact-".concat((null===t||void 0===t?void 0:t.id)||"unknown"),toggle:function(){return P(!z)},children:D?"Actual stock changes after transfer completion":"Pending - No stock changes yet"})]}):Object(h.jsxs)("div",{className:"stock-impact-detailed p-3 ".concat(_),style:Object(r.a)({backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #e9ecef"},S),children:[x&&Object(h.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[Object(h.jsxs)("div",{className:"d-flex align-items-center",children:[Object(h.jsx)(p.a,{size:16,className:"mr-2 text-primary"}),Object(h.jsx)("h6",{className:"mb-0",children:D?"Actual Stock Impact":"Current Stock Status"}),D?Object(h.jsxs)(s.a,{color:"success",className:"ml-2",pill:!0,children:[Object(h.jsx)(f.a,{size:10,className:"mr-1"}),"Completed"]}):Object(h.jsxs)(s.a,{color:"warning",className:"ml-2",pill:!0,children:[Object(h.jsx)(j.a,{size:10,className:"mr-1"}),"Pending"]})]}),y&&Object(h.jsx)(v.a,{size:14,className:"text-muted cursor-pointer",id:"stock-impact-info-".concat((null===t||void 0===t?void 0:t.id)||"unknown")})]}),Object(h.jsx)("div",{className:"stock-impact-row mb-2",children:Object(h.jsxs)(i.a,{className:"align-items-center",children:[Object(h.jsx)(l.a,{xs:4,children:Object(h.jsxs)("div",{className:"d-flex align-items-center",children:[Object(h.jsx)(p.a,{size:12,className:"mr-2 text-info"}),Object(h.jsx)("span",{className:"font-weight-bold",children:"Stock"})]})}),Object(h.jsx)(l.a,{xs:8,children:Object(h.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(h.jsxs)("div",{className:"d-flex align-items-center",children:[Object(h.jsx)("span",{className:"text-muted mr-2",children:"Before:"}),Object(h.jsx)("span",{className:"font-weight-bold",children:E.stockAvailBefore})]}),D&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(m.a,{size:12,className:"mx-2 text-muted"}),Object(h.jsxs)("div",{className:"d-flex align-items-center",children:[Object(h.jsx)("span",{className:"font-weight-bold ".concat(E.stockDiff>0?"text-success":E.stockDiff<0?"text-danger":""),children:E.stockAvailAfter}),0!==E.stockDiff&&Object(h.jsxs)(s.a,{color:T(E.stockDiff),className:"ml-2 d-flex align-items-center",pill:!0,children:[R(E.stockDiff),I(E.stockDiff)]})]})]})]})})]})}),Object(h.jsx)("div",{className:"stock-impact-row mb-2",children:Object(h.jsxs)(i.a,{className:"align-items-center",children:[Object(h.jsx)(l.a,{xs:4,children:Object(h.jsxs)("div",{className:"d-flex align-items-center",children:[Object(h.jsx)(p.a,{size:12,className:"mr-2 text-warning"}),Object(h.jsx)("span",{className:"font-weight-bold",children:"Store"})]})}),Object(h.jsx)(l.a,{xs:8,children:Object(h.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(h.jsxs)("div",{className:"d-flex align-items-center",children:[Object(h.jsx)("span",{className:"text-muted mr-2",children:"Before:"}),Object(h.jsx)("span",{className:"font-weight-bold",children:E.storeAvailBefore})]}),D&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(m.a,{size:12,className:"mx-2 text-muted"}),Object(h.jsxs)("div",{className:"d-flex align-items-center",children:[Object(h.jsx)("span",{className:"font-weight-bold ".concat(E.storeDiff>0?"text-success":E.storeDiff<0?"text-danger":""),children:E.storeAvailAfter}),0!==E.storeDiff&&Object(h.jsxs)(s.a,{color:T(E.storeDiff),className:"ml-2 d-flex align-items-center",pill:!0,children:[R(E.storeDiff),I(E.storeDiff)]})]})]})]})})]})}),Object(h.jsx)("div",{className:"stock-impact-row pt-2 border-top",children:Object(h.jsxs)(i.a,{className:"align-items-center",children:[Object(h.jsx)(l.a,{xs:4,children:Object(h.jsxs)("div",{className:"d-flex align-items-center",children:[Object(h.jsx)(p.a,{size:12,className:"mr-2 text-primary"}),Object(h.jsx)("span",{className:"font-weight-bold",children:"Total"})]})}),Object(h.jsx)(l.a,{xs:8,children:Object(h.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(h.jsxs)("div",{className:"d-flex align-items-center",children:[Object(h.jsx)("span",{className:"text-muted mr-2",children:"Before:"}),Object(h.jsx)("span",{className:"font-weight-bold",children:E.totalBefore})]}),D&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(m.a,{size:12,className:"mx-2 text-muted"}),Object(h.jsxs)("div",{className:"d-flex align-items-center",children:[Object(h.jsx)("span",{className:"font-weight-bold ".concat(E.totalDiff>0?"text-success":E.totalDiff<0?"text-danger":""),children:E.totalAfter}),0!==E.totalDiff&&Object(h.jsxs)(s.a,{color:T(E.totalDiff),className:"ml-2 d-flex align-items-center",pill:!0,children:[R(E.totalDiff),I(E.totalDiff)]})]})]})]})})]})}),Object(h.jsx)("div",{className:"mt-3 pt-3 border-top",children:Object(h.jsxs)("div",{className:"small text-muted",children:[Object(h.jsxs)("div",{className:"d-flex justify-content-between mb-1",children:[Object(h.jsx)("span",{children:"Quantity:"}),Object(h.jsx)("strong",{children:(null===t||void 0===t?void 0:t.quantity)||0})]}),Object(h.jsxs)("div",{className:"d-flex justify-content-between mb-1",children:[Object(h.jsx)("span",{children:"From:"}),Object(h.jsx)("span",{className:"text-capitalize",children:(null===t||void 0===t?void 0:t.from_location_label)||(null===t||void 0===t?void 0:t.from_location)||"stock_available"})]}),Object(h.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(h.jsx)("span",{children:"To:"}),Object(h.jsx)("span",{className:"text-capitalize",children:(null===t||void 0===t?void 0:t.to_location_label)||(null===t||void 0===t?void 0:t.to_location)||"store_available"})]})]})}),y&&Object(h.jsx)(o.a,{placement:"top",target:"stock-impact-info-".concat((null===t||void 0===t?void 0:t.id)||"unknown"),children:D?"Shows actual stock changes after transfer completion":"Shows current stock status (no changes yet)"})]})}},609:function(e,t,a){"use strict";var r=a(0),n=a.n(r),c=a(1),s=a.n(c);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=Object(r.forwardRef)((function(e,t){var a=e.color,r=void 0===a?"currentColor":a,c=e.size,s=void 0===c?24:c,l=i(e,["color","size"]);return n.a.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),n.a.createElement("polyline",{points:"3 6 5 6 21 6"}),n.a.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),n.a.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),n.a.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))}));l.propTypes={color:s.a.string,size:s.a.oneOfType([s.a.string,s.a.number])},l.displayName="Trash2",t.a=l},84:function(e,t,a){"use strict";var r=a(76),n=a(172),c=a(173),s=a(3);t.a=function(e){var t=e.breadCrumbTitle,a=e.breadCrumbParent,o=e.breadCrumbParent2,i=e.breadCrumbParent3,l=e.breadCrumbActive,d=e.right;return Object(s.jsxs)("div",{className:"content-header row",children:[Object(s.jsx)("div",{className:"content-header-left col-9 mb-2",children:Object(s.jsx)("div",{className:"row breadcrumbs-top",children:Object(s.jsxs)("div",{className:"col-12",children:[t?Object(s.jsx)("h2",{className:"content-header-title float-left mb-0",children:t}):"",Object(s.jsx)("div",{className:"breadcrumb-wrapper vs-breadcrumbs d-sm-block d-none col-12",children:Object(s.jsxs)(n.a,{children:[Object(s.jsx)(c.a,{tag:"li",children:Object(s.jsx)(r.b,{to:"/",children:"Home"})}),a&&Object(s.jsx)(c.a,{tag:"li",className:"text-primary",children:a}),o?Object(s.jsx)(c.a,{tag:"li",className:"text-primary",children:o}):"",i?Object(s.jsx)(c.a,{tag:"li",className:"text-primary",children:i}):"",Object(s.jsx)(c.a,{tag:"li",active:!0,children:l})]})})]})})}),d?Object(s.jsx)("div",{className:"content-header-right text-md-right col-3",children:Object(s.jsx)("div",{className:"form-group breadcrum-right dropdown",children:d})}):""]})}},977:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return J}));var r=a(110),n=a(64),c=a.n(n),s=a(2),o=a(65),i=a(8),l=a(0),d=a(84),u=a(303),b=a(378),f=a(952),j=a(955),m=a(55),p=a(323),v=a(321),h=a(943),x=a(354),O=a(953),g=a(944),k=a(956),y=a(301),N=a(407),_=a(376),w=a(22),S=a(623),C=a(622),A=a(547),z=a(415),P=a(605),E=a(609),D=a(761),T=a(416),R=a(563),I=a(606),L=a(308),q=a(551),B=a(585),F=a(586),V=a(20),M=a(77),U=a(307),W=a(293),G=a(3);function J(){var e=Object(_.i)().id,t=Object(_.g)(),a=Object(q.a)(e),n=a.data,J=a.isLoading,Q=a.refetch,Y=Object(l.useState)(null),H=Object(i.a)(Y,2),K=H[0],X=H[1],Z=Object(l.useState)(!1),$=Object(i.a)(Z,2),ee=$[0],te=$[1],ae=Object(l.useState)(!1),re=Object(i.a)(ae,2),ne=re[0],ce=re[1],se=Object(l.useState)([]),oe=Object(i.a)(se,2),ie=oe[0],le=oe[1],de=Object(l.useState)(""),ue=Object(i.a)(de,2),be=ue[0],fe=ue[1],je=Object(l.useState)(null),me=Object(i.a)(je,2),pe=me[0],ve=me[1],he=Object(l.useState)(!1),xe=Object(i.a)(he,2),Oe=xe[0],ge=xe[1],ke=Object(l.useState)({}),ye=Object(i.a)(ke,2),Ne=ye[0],_e=ye[1],we=Object(l.useState)([]),Se=Object(i.a)(we,2),Ce=Se[0],Ae=Se[1],ze=Object(l.useRef)(new Map),Pe=Object(l.useState)(!0),Ee=Object(i.a)(Pe,2),De=Ee[0],Te=Ee[1],Re=Object(l.useState)("stock_available"),Ie=Object(i.a)(Re,2),Le=Ie[0],qe=Ie[1],Be=Object(l.useState)("store_available"),Fe=Object(i.a)(Be,2),Ve=Fe[0],Me=Fe[1],Ue=V.a.can("read","transfer_order_edit"),We=V.a.can("read","transfer_order_complete");V.a.can("read","transfer_order_cancel");Object(l.useEffect)((function(){n&&(n.data?X(n.data):X(n))}),[n]);var Ge=function(){var e=Object(o.a)(c.a.mark((function e(){var t,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="initial",!ze.current.has(t)){e.next=4;break}return Ae(ze.current.get(t)),e.abrupt("return");case 4:return e.prev=4,e.next=7,U.a.autocomplete("");case 7:a=e.sent,r=a.map((function(e){var t=e.stock||e.current_stock||e.quantity||0,a=e.stock_available||e.current_stock_available||0,r=e.store_available||e.current_store_available||0,n=e.sku||"N/A",c=e.name||"Unknown Product",o=e.image||"/static/images/placeholder.png";return{label:Object(G.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(G.jsx)("img",{src:o,alt:c,height:"32",width:"32",style:{marginRight:"10px",borderRadius:"4px"}}),Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{style:{fontWeight:"bold"},children:c}),Object(G.jsxs)("div",{style:{fontSize:"12px",color:"#666"},children:["SKU: ",n," | Stock: ",t," | Stock Avail: ",a]})]})]}),value:e.id,item:Object(s.a)(Object(s.a)({},e),{},{id:e.id,stock:t,stock_available:a,store_available:r,name:c,sku:n,image:o,location:e.location||"N/A",stock_location:e.stock_location||"N/A"})}})),ze.current.set(t,r),Ae(r),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.error("Failed to load initial options:",e.t0),Ae([]);case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}(),Je=function(){var e=Object(o.a)(c.a.mark((function e(t){var a,r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t||"empty",!ze.current.has(a)){e.next=3;break}return e.abrupt("return",ze.current.get(a));case 3:return e.prev=3,ge(!0),e.next=7,U.a.autocomplete(t);case 7:return r=e.sent,n=r.map((function(e){var t=e.stock||e.current_stock||e.quantity||0,a=e.stock_available||e.current_stock_available||0,r=e.store_available||e.current_store_available||0,n=e.sku||"N/A",c=e.name||"Unknown Product",o=e.image||"/static/images/placeholder.png";return{label:Object(G.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(G.jsx)("img",{src:o,alt:c,height:"32",width:"32",style:{marginRight:"10px",borderRadius:"4px"}}),Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{style:{fontWeight:"bold"},children:c}),Object(G.jsxs)("div",{style:{fontSize:"12px",color:"#666"},children:["SKU: ",n," | Stock: ",t," | Stock Avail: ",a]})]})]}),value:e.id,item:Object(s.a)(Object(s.a)({},e),{},{id:e.id,stock:t,stock_available:a,store_available:r,name:c,sku:n,image:o,location:e.location||"N/A",stock_location:e.stock_location||"N/A"})}})),ze.current.set(a,n),e.abrupt("return",n);case 13:return e.prev=13,e.t0=e.catch(3),console.error("Failed to load options:",e.t0),e.abrupt("return",[]);case 17:return e.prev=17,ge(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,13,17,20]])})));return function(t){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(o.a)(c.a.mark((function e(t){var a,r,n,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.show(t);case 3:if(a=e.sent,r=a.stock_available,n=a.store_available,null!==r&&void 0!==r&&null!==n&&void 0!==n){e.next=19;break}return e.prev=7,e.next=10,M.a.get("/products/".concat(t,"/stock"));case 10:(o=e.sent).data&&o.data.data&&(r=o.data.data.stock_available||0,n=o.data.data.store_available||0),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(7),console.log("No separate stock endpoint, using fallback values"),r=a.stock_available||a.stock||0,n=a.store_available||0;case 19:return e.abrupt("return",Object(s.a)(Object(s.a)({},a),{},{id:a.id,stock:a.stock||0,stock_available:r,store_available:n,name:a.name||"Unknown Product",sku:a.sku||"N/A",image:a.image||"/static/images/placeholder.png",location:a.location||"N/A",stock_location:a.stock_location||"N/A"}));case 22:throw e.prev=22,e.t1=e.catch(0),console.error("Error getting product details:",e.t1),e.t1;case 26:case"end":return e.stop()}}),e,null,[[0,22],[7,14]])})));return function(t){return e.apply(this,arguments)}}(),Ye=function(e){var t={};return e.forEach((function(e,a){if(e.product){var r="stock_available"===e.from_location?e.product.stock_available||0:e.product.store_available||0;parseInt(e.quantity||0)>r&&(t[a]="Insufficient stock. Available: ".concat(r))}})),_e(t),0===Object.keys(t).length},He=function(){var e=Object(o.a)(c.a.mark((function e(t){var a,n,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=26;break}if(!ie.find((function(e){return e.product_id===t.value}))){e.next=6;break}return Object(W.d)("Product already added to transfer list"),ve(null),e.abrupt("return");case 6:return e.prev=6,e.next=9,Qe(t.value);case 9:a=e.sent,n={product_id:t.value,product:a,from_location:Le,to_location:Ve,quantity:1},le((function(e){return[].concat(Object(r.a)(e),[n])})),ve(null),Object(W.f)("Added ".concat(a.name," to transfer list")),Ye([].concat(Object(r.a)(ie),[n])),e.next=26;break;case 17:e.prev=17,e.t0=e.catch(6),console.error("Error in handleProductSelect:",e.t0),Object(W.d)("Failed to load product details. Please try again."),o={product_id:t.value,product:Object(s.a)(Object(s.a)({},t.item),{},{stock_available:t.item.stock||0,store_available:0}),from_location:Le,to_location:Ve,quantity:1},le((function(e){return[].concat(Object(r.a)(e),[o])})),ve(null),Ye([].concat(Object(r.a)(ie),[o])),Object(W.d)("Product added with estimated stock values. Please verify.");case 26:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){if(!ee&&K&&(te(!0),fe(K.notes||""),K.products&&K.products.length>0)){var e=K.products.map((function(e){return{product_id:e.product_id,product:{id:e.product_id,name:e.product_name,sku:e.product_sku,image:e.product_image,stock_available:e.current_stock_available||0,store_available:e.current_store_available||0,location:e.product_location||"N/A",stock_location:e.product_stock_location||"N/A"},from_location:e.from_location||"stock_available",to_location:e.to_location||"store_available",quantity:e.quantity||1,stock_available_before:e.stock_available_before,stock_available_after:e.stock_available_after,store_available_before:e.store_available_before,store_available_after:e.store_available_after,stock_before:e.stock_before,stock_after:e.stock_after,current_stock_available:e.current_stock_available||0,current_store_available:e.current_store_available||0,location:e.product_location||"N/A",stock_location:e.product_stock_location||"N/A"}}));le(e),Ye(e)}}),[K,ee]);var Ke=function(e,t,a){le((function(n){var c=Object(r.a)(n);if(c[e][t]=a,"from_location"===t)a===c[e].to_location&&(c[e].to_location="stock_available"===a?"store_available":"stock_available");else if("to_location"===t){if(a===c[e].from_location)return Object(W.d)("From and To locations cannot be the same"),n}else if("quantity"===t){var s,o,i=parseInt(a)||1;if(i<1)return c[e][t]=1,c;var l,d="stock_available"===c[e].from_location?(null===(s=c[e].product)||void 0===s?void 0:s.stock_available)||0:(null===(o=c[e].product)||void 0===o?void 0:o.store_available)||0;if(i>d)Object(W.d)("Cannot transfer more than available stock (".concat(d,") for ").concat(null===(l=c[e].product)||void 0===l?void 0:l.name)),c[e][t]=d>0?d:1;else c[e][t]=i}return Ye(c),c}))},Xe=function(){return ie.some((function(e){var t,a,r="stock_available"===e.from_location?(null===(t=e.product)||void 0===t?void 0:t.stock_available)||0:(null===(a=e.product)||void 0===a?void 0:a.store_available)||0;return parseInt(e.quantity||0)>r}))},Ze=function(){return ie.reduce((function(e,t){return e+(parseInt(t.quantity)||0)}),0)},$e=function(){var t=Object(o.a)(c.a.mark((function t(){var a,r,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ue){t.next=3;break}return w.b.error("You do not have permission to edit transfer orders"),t.abrupt("return");case 3:if(ie&&0!==ie.length){t.next=6;break}return w.b.error("Please add at least one product"),t.abrupt("return");case 6:if(!Xe()){t.next=9;break}return w.b.error("Some products exceed available stock. Please fix before saving."),t.abrupt("return");case 9:return ce(!0),t.prev=10,a={notes:be||"",products:ie.map((function(e){return{product_id:e.product_id,from_location:e.from_location,to_location:e.to_location,quantity:parseInt(e.quantity)||1}}))},t.next=14,M.a.put("/transfer-orders/".concat(e),a);case 14:w.b.success("Transfer order updated successfully"),window.location.reload(),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(10),console.error("Update error:",t.t0),w.b.error((null===(r=t.t0.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Failed to update transfer order");case 22:return t.prev=22,ce(!1),t.finish(22);case 25:case"end":return t.stop()}}),t,null,[[10,18,22,25]])})));return function(){return t.apply(this,arguments)}}(),et=function(){var t=Object(o.a)(c.a.mark((function t(){var a,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(We){t.next=3;break}return w.b.error("You do not have permission to change transfer order status"),t.abrupt("return");case 3:return t.prev=3,t.next=6,M.a.put("/transfer-orders/".concat(e,"/toggle-status"));case 6:w.b.success("Transfer order status updated successfully"),Q(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),w.b.error((null===(a=t.t0.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||"Failed to update transfer order status");case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(){return t.apply(this,arguments)}}(),tt=function(){t.push("/transfer-order/details/".concat(e))},at=function(){var a=Object(o.a)(c.a.mark((function a(){var r,n;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(V.a.can("read","transfer_order_delete")){a.next=3;break}return w.b.error("You do not have permission to delete transfer orders"),a.abrupt("return");case 3:if(!window.confirm("Are you sure you want to delete this transfer order? This action cannot be undone!")){a.next=14;break}return a.prev=4,a.next=7,M.a.delete("/transfer-orders/".concat(e));case 7:w.b.success("Transfer order deleted successfully"),t.push("/transfer-order/list"),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),w.b.error((null===(r=a.t0.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Failed to delete transfer order");case 14:case"end":return a.stop()}}),a,null,[[4,11]])})));return function(){return a.apply(this,arguments)}}();if(Object(l.useEffect)((function(){Ge()}),[]),J)return Object(G.jsxs)(l.Fragment,{children:[Object(G.jsx)(d.a,{breadCrumbTitle:"Transfer Orders",breadCrumbActive:"Edit Transfer"}),Object(G.jsx)("div",{className:"d-flex justify-content-center my-5",children:Object(G.jsx)(u.a,{color:"primary"})})]});if(!K)return Object(G.jsxs)(l.Fragment,{children:[Object(G.jsx)(d.a,{breadCrumbTitle:"Transfer Orders",breadCrumbActive:"Edit Transfer"}),Object(G.jsx)(b.a,{color:"danger",children:"Transfer order not found"})]});var rt=K&&!K.can_edit,nt=function(){var e={stock_to_store:{count:0,quantity:0},store_to_stock:{count:0,quantity:0}};return ie.forEach((function(t){"stock_available"===t.from_location&&"store_available"===t.to_location?(e.stock_to_store.count++,e.stock_to_store.quantity+=parseInt(t.quantity)||0):"store_available"===t.from_location&&"stock_available"===t.to_location&&(e.store_to_stock.count++,e.store_to_stock.quantity+=parseInt(t.quantity)||0)})),e}();return Object(G.jsxs)(l.Fragment,{children:[Object(G.jsx)(d.a,{breadCrumbTitle:"Transfer Orders",breadCrumbActive:"Edit Transfer #".concat(K.number)}),Object(G.jsx)(f.a,{children:Object(G.jsxs)(j.a,{children:[Object(G.jsxs)("div",{className:"mb-2",children:[Object(G.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(G.jsx)("div",{children:Object(G.jsxs)("h4",{className:"mb-0",children:["Edit Transfer #",K.number]})}),Object(G.jsxs)("div",{children:[Object(G.jsxs)(m.a,{color:"secondary",onClick:function(){return t.push("/transfer-order/list")},className:"mr-2",children:[Object(G.jsx)(S.a,{size:14,className:"mr-1"}),"Back to List"]}),Object(G.jsx)(m.a,{color:"primary",onClick:tt,className:"mr-2",children:"Details"})]})]}),rt&&Object(G.jsxs)(b.a,{color:"warning",className:"mt-1",children:[Object(G.jsx)(C.a,{size:16,className:"mr-2"}),"This transfer order cannot be edited because it's ",K.status.toLowerCase(),"."]})]}),Object(G.jsxs)(p.a,{children:[Object(G.jsx)(v.a,{md:8,sm:12,children:Object(G.jsx)(f.a,{className:"mb-2",children:Object(G.jsxs)(j.a,{children:[Object(G.jsxs)("h5",{className:"mb-2",children:[Object(G.jsx)(A.a,{size:18,className:"mr-2"}),"Transfer Details"]}),!rt&&Object(G.jsxs)(h.a,{children:[Object(G.jsx)(x.a,{for:"product-search",children:"Search Product to Add"}),Object(G.jsx)(L.a,{id:"product-search",isClearable:!0,className:"react-select",classNamePrefix:"select",value:pe?{value:pe.id,label:pe.name,item:pe}:null,loadOptions:Je,defaultOptions:Ce,cacheOptions:!0,onChange:He,placeholder:"Search for products to add...",isLoading:Oe,noOptionsMessage:function(e){var t=e.inputValue;return t&&""!==t.trim()?Oe?"Searching...":"No products found":"Start typing to search products"},filterOption:null,formatOptionLabel:function(e,t){return"menu"===t.context?e.label:e.item?e.item.name:e.label},styles:{control:function(e){return Object(s.a)(Object(s.a)({},e),{},{minHeight:"42px"})},menu:function(e){return Object(s.a)(Object(s.a)({},e),{},{zIndex:9999})}}})]}),!rt&&Object(G.jsxs)(f.a,{className:"mb-3 border-primary",children:[Object(G.jsx)(O.a,{style:{cursor:"pointer",padding:"0.5rem 1rem"},onClick:function(){return Te(!De)},children:Object(G.jsxs)("div",{className:"d-flex justify-content-between align-items-center w-100",children:[Object(G.jsxs)("div",{className:"d-flex align-items-center",style:{flex:1},children:[Object(G.jsx)("h6",{className:"mb-0",style:{fontSize:"0.9rem",marginRight:"1rem"},children:"Bulk Location Settings"}),!De&&Object(G.jsxs)("div",{className:"text-muted small",children:[Object(G.jsx)(g.a,{color:"stock_available"===Le?"info":"warning",className:"mr-1",children:"stock_available"===Le?"Stock":"Store"}),"\u2192",Object(G.jsx)(g.a,{color:"store_available"===Ve?"warning":"info",className:"ml-1",children:"store_available"===Ve?"Store":"Stock"})]})]}),Object(G.jsx)(z.a,{size:16,style:{transform:De?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease",marginLeft:"auto"}})]})}),Object(G.jsx)(k.a,{isOpen:De,children:Object(G.jsxs)(j.a,{className:"pb-0 pt-1",style:{padding:"0.5rem 1rem"},children:[Object(G.jsxs)(p.a,{children:[Object(G.jsx)(v.a,{md:5,children:Object(G.jsxs)(h.a,{className:"mb-0",children:[Object(G.jsx)(x.a,{for:"bulk-from",className:"small mb-0",children:"From Location"}),Object(G.jsxs)(y.a,{type:"select",id:"bulk-from",value:Le,onChange:function(e){return qe(e.target.value)},className:"form-control-sm",disabled:ne||rt,children:[Object(G.jsx)("option",{value:"stock_available",children:"Stock Available"}),Object(G.jsx)("option",{value:"store_available",children:"Store Available"})]})]})}),Object(G.jsx)(v.a,{md:2,className:"d-flex align-items-center justify-content-center",children:Object(G.jsx)(m.a,{color:"secondary",size:"sm",onClick:function(){var e=Le;qe(Ve),Me(e)},disabled:ne||rt,className:"mt-1",children:"Swap"})}),Object(G.jsx)(v.a,{md:5,children:Object(G.jsxs)(h.a,{className:"mb-0",children:[Object(G.jsx)(x.a,{for:"bulk-to",className:"small mb-0",children:"To Location"}),Object(G.jsxs)(y.a,{type:"select",id:"bulk-to",value:Ve,onChange:function(e){return Me(e.target.value)},className:"form-control-sm",disabled:ne||rt,children:[Object(G.jsx)("option",{value:"stock_available",children:"Stock Available"}),Object(G.jsx)("option",{value:"store_available",children:"Store Available"})]})]})})]}),Object(G.jsx)(p.a,{className:"my-1",children:Object(G.jsx)(v.a,{md:12,className:"text-right",children:Object(G.jsx)(m.a,{color:"primary",size:"sm",onClick:function(){Le!==Ve?(le((function(e){var t=e.map((function(e){var t,a,r,n="stock_available"===Le?(null===(t=e.product)||void 0===t?void 0:t.stock_available)||0:(null===(a=e.product)||void 0===a?void 0:a.store_available)||0,c=e.quantity;parseInt(c)>n&&(c=n>0?n:1,Object(W.d)("Quantity adjusted to ".concat(c," for ").concat(null===(r=e.product)||void 0===r?void 0:r.name," due to insufficient stock in ").concat(Le)));return Object(s.a)(Object(s.a)({},e),{},{from_location:Le,to_location:Ve,quantity:c})}));return Ye(t),t})),Object(W.f)("Applied locations to all products")):Object(W.d)("From and To locations cannot be the same")},disabled:0===ie.length||ne||Le===Ve||rt,children:"Apply to All Products"})})})]})})]}),Object(G.jsxs)("div",{className:"mt-4",children:[Object(G.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[Object(G.jsxs)("h6",{className:"mb-0",children:["Products in Transfer (",ie.length,")"]}),Object(G.jsxs)("div",{className:"text-muted",children:[Ze()," units"]})]}),ie.length>0?Object(G.jsx)("div",{className:"table-responsive mb-3",children:Object(G.jsxs)(N.a,{bordered:!0,hover:!0,children:[Object(G.jsx)("thead",{className:"thead-light",children:Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{width:"20%",children:"Product"}),Object(G.jsx)("th",{width:"10%",children:"From"}),Object(G.jsx)("th",{width:"10%",children:"To"}),Object(G.jsx)("th",{width:"10%",children:"Quantity"}),Object(G.jsx)("th",{width:"15%",children:" Current Stock"}),Object(G.jsx)("th",{width:"25%",children:"Stock Impact"}),Object(G.jsx)("th",{width:"10%",children:"Actions"})]})}),Object(G.jsx)("tbody",{children:ie.map((function(e,t){var a=e.product||{},r="stock_available"===e.from_location?a.stock_available||0:a.store_available||0,n=Ne[t],c=Ue&&!rt,o=a.image||"/static/images/placeholder.png",i=a.name||"Product",l=a.sku||"N/A",d=e.location||"N/A",u=e.stock_location||"N/A",b=e.current_stock_available||a.stock_available||0,f=e.current_store_available||a.store_available||0,j=b+f;return Object(G.jsxs)("tr",{className:n?"table-warning":"",children:[Object(G.jsx)("td",{children:Object(G.jsxs)("div",{className:"d-flex align-items-center",children:[o?Object(G.jsx)("img",{src:o,alt:i,className:"rounded mr-2",style:{width:40,height:40,objectFit:"cover"}}):Object(G.jsx)("div",{className:"mr-2",style:{width:40,height:40,backgroundColor:"#f8f9fa",borderRadius:"4px"}}),Object(G.jsxs)("div",{children:[Object(G.jsx)("a",{className:"font-weight-bold",href:"".concat("http://localhost:3000","/product/").concat(i.replace(/\s+/g,"-").toLowerCase()),target:"_blank",rel:"noopener noreferrer",children:i}),Object(G.jsxs)("small",{className:"text-muted",children:["SKU: ",l]})]})]})}),Object(G.jsxs)("td",{children:[Object(G.jsxs)("select",{className:"form-control width-100 form-control-sm ".concat(n?"border-danger":""),value:e.from_location,onChange:function(e){return Ke(t,"from_location",e.target.value)},disabled:!c||ne,children:[Object(G.jsx)("option",{value:"stock_available",children:"Stock"}),Object(G.jsx)("option",{value:"store_available",children:"Store"})]}),Object(G.jsx)("div",{className:"mt-1 small",children:"stock_available"===e.from_location?Object(G.jsxs)("div",{className:"text-info d-flex align-items-center",children:[Object(G.jsx)("span",{className:"mr-1",children:"\ud83d\udce6"}),Object(G.jsx)("span",{className:"text-truncate",style:{maxWidth:"120px"},title:u,children:u})]}):Object(G.jsxs)("div",{className:"text-warning d-flex align-items-center",children:[Object(G.jsx)("span",{className:"mr-1",children:"\ud83c\udfea"}),Object(G.jsx)("span",{className:"text-truncate",style:{maxWidth:"120px"},title:d,children:d})]})})]}),Object(G.jsxs)("td",{children:[Object(G.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[Object(G.jsx)(P.a,{size:14,className:"mr-1 text-muted"}),Object(G.jsxs)("select",{className:"form-control form-control-sm width-100",value:e.to_location,onChange:function(e){return Ke(t,"to_location",e.target.value)},disabled:!c||ne,children:[Object(G.jsx)("option",{value:"stock_available",children:"Stock"}),Object(G.jsx)("option",{value:"store_available",children:"Store"})]})]}),Object(G.jsx)("div",{className:"mt-1 small text-center",children:"stock_available"===e.to_location?Object(G.jsxs)("div",{className:"text-info d-flex align-items-center justify-content-center",children:[Object(G.jsx)("span",{className:"mr-1",children:"\ud83d\udce6"}),Object(G.jsx)("span",{className:"text-truncate",style:{maxWidth:"120px"},title:u,children:u})]}):Object(G.jsxs)("div",{className:"text-warning d-flex align-items-center justify-content-center",children:[Object(G.jsx)("span",{className:"mr-1",children:"\ud83c\udfea"}),Object(G.jsx)("span",{className:"text-truncate",style:{maxWidth:"120px"},title:d,children:d})]})})]}),Object(G.jsxs)("td",{children:[Object(G.jsx)(y.a,{type:"number",min:"1",max:r,value:e.quantity,onChange:function(e){return Ke(t,"quantity",e.target.value)},className:"form-control-sm ".concat(n?"border-danger":""),disabled:!c||ne}),n&&Object(G.jsx)("small",{className:"text-danger d-block mt-1",children:Ne[t]})]}),Object(G.jsx)("td",{className:"text-center",children:Object(G.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(G.jsxs)("div",{className:"d-flex align-items-center mb-1",children:[Object(G.jsx)("span",{className:"text-muted",children:"Stock:"}),Object(G.jsx)("span",{className:"font-weight-bold ml-1",children:b})]}),Object(G.jsxs)("div",{className:"d-flex align-items-center mb-1",children:[Object(G.jsx)("span",{className:"text-muted",children:"Store:"}),Object(G.jsx)("span",{className:"font-weight-bold ml-1",children:f})]}),Object(G.jsxs)("div",{className:"d-flex align-items-center",children:[Object(G.jsx)("span",{className:"text-muted",children:"\u03a3:"}),Object(G.jsx)("span",{className:"font-weight-bold ml-1",children:j})]})]})}),Object(G.jsx)("td",{children:Object(G.jsx)(F.a,{product:e,compact:!0,showLabels:!1})}),Object(G.jsx)("td",{className:"text-center",children:c&&Object(G.jsx)(m.a,{color:"danger",size:"sm",onClick:function(){return function(e){var t,a,r=(null===(t=ie[e])||void 0===t||null===(a=t.product)||void 0===a?void 0:a.name)||"Product",n=ie.filter((function(t,a){return a!==e}));le(n);var c=Object(s.a)({},Ne);delete c[e],_e(c),Object(W.f)("Removed ".concat(r," from transfer list"))}(t)},disabled:ne,children:Object(G.jsx)(E.a,{size:14})})})]},t)}))})]})}):Object(G.jsxs)("div",{className:"text-center p-5 border rounded bg-light",children:[Object(G.jsx)(A.a,{size:48,className:"text-muted mb-3"}),Object(G.jsx)("p",{className:"text-muted",children:"No products added to this transfer"}),!rt&&Object(G.jsx)("p",{className:"text-muted small",children:"Use the search above to add products"})]})]}),Object(G.jsxs)(h.a,{children:[Object(G.jsx)(x.a,{for:"notes",children:"Notes (Optional)"}),Object(G.jsx)(y.a,{type:"textarea",id:"notes",rows:"3",value:be,onChange:function(e){return fe(e.target.value)},placeholder:"Add any notes about this transfer...",disabled:ne||rt})]}),!rt&&Ue&&Object(G.jsxs)("div",{className:"mt-4 d-flex justify-content-between",children:[Object(G.jsx)(m.a,{color:"secondary",onClick:tt,disabled:ne,children:"Cancel"}),Object(G.jsxs)("div",{children:[K.can_edit&&Object(G.jsxs)(m.a,{color:"danger",onClick:at,className:"mr-2",disabled:ne,children:[Object(G.jsx)(D.a,{size:14,className:"mr-1"}),"Delete Transfer"]}),Object(G.jsx)(m.a,{color:"primary",onClick:$e,disabled:ne||0===ie.length||Xe(),children:ne?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(u.a,{size:"sm",className:"mr-1"}),"Saving..."]}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(T.a,{size:14,className:"mr-1"}),"Save Changes"]})})]})]})]})})}),Object(G.jsxs)(v.a,{md:4,sm:12,children:[Object(G.jsx)(B.a,{transferOrder:K,isEditMode:!0,onToggleStatus:et,onUpdateStatus:Q}),Object(G.jsx)(f.a,{className:"mt-4",children:Object(G.jsxs)(j.a,{children:[Object(G.jsxs)("h6",{className:"mb-3 d-flex align-items-center",children:[Object(G.jsx)(R.a,{size:16,className:"mr-2"}),"Transfer Summary"]}),Object(G.jsxs)("div",{className:"mb-3",children:[Object(G.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[Object(G.jsx)("span",{className:"text-muted",children:"Total Products:"}),Object(G.jsx)("strong",{children:ie.length})]}),Object(G.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[Object(G.jsx)("span",{className:"text-muted",children:"Total Quantity:"}),Object(G.jsx)("strong",{children:Ze()})]}),nt.stock_to_store.count>0&&Object(G.jsxs)("div",{className:"mb-2 p-2 bg-info-light rounded",children:[Object(G.jsxs)("div",{className:"d-flex justify-content-between mb-1",children:[Object(G.jsx)("span",{className:"small",children:"Stock \u2192 Store"}),Object(G.jsx)(g.a,{color:"info",children:nt.stock_to_store.count})]}),Object(G.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(G.jsx)("span",{className:"small",children:"Quantity:"}),Object(G.jsx)("strong",{children:nt.stock_to_store.quantity})]})]}),nt.store_to_stock.count>0&&Object(G.jsxs)("div",{className:"mb-2 p-2 bg-warning-light rounded",children:[Object(G.jsxs)("div",{className:"d-flex justify-content-between mb-1",children:[Object(G.jsx)("span",{className:"small",children:"Store \u2192 Stock"}),Object(G.jsx)(g.a,{color:"warning",children:nt.store_to_stock.count})]}),Object(G.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(G.jsx)("span",{className:"small",children:"Quantity:"}),Object(G.jsx)("strong",{children:nt.store_to_stock.quantity})]})]})]}),Object(G.jsxs)("div",{className:"mt-3 pt-3 border-top",children:[Object(G.jsx)("h6",{children:"Stock Validation"}),Xe()?Object(G.jsxs)(b.a,{color:"danger",className:"mt-2",children:[Object(G.jsx)(C.a,{size:14,className:"mr-2"}),Object(G.jsx)("small",{children:"Some products exceed available stock"})]}):ie.length>0?Object(G.jsxs)(b.a,{color:"success",className:"mt-2",children:[Object(G.jsx)(I.a,{size:14,className:"mr-2"}),Object(G.jsx)("small",{children:"All products have sufficient stock"})]}):Object(G.jsxs)(b.a,{color:"secondary",className:"mt-2",children:[Object(G.jsx)(A.a,{size:14,className:"mr-2"}),Object(G.jsx)("small",{children:"Add products to begin validation"})]})]})]})})]})]})]})})]})}}}]);
//# sourceMappingURL=156.5b3679b7.chunk.js.map