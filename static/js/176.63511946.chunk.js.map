{"version":3,"sources":["data/use-product.js","../node_modules/react-select/async/dist/react-select.browser.esm.js","../node_modules/reactstrap/es/Form.js","../node_modules/react-feather/dist/icons/plus.js","../node_modules/react-feather/dist/icons/minus.js","../node_modules/reactstrap/es/TabContext.js","../node_modules/reactstrap/es/Nav.js","../node_modules/reactstrap/es/TabContent.js","../node_modules/reactstrap/es/TabPane.js","views/stock-adjustment/Request.js"],"names":["fetcher","url","axios","get","then","res","data","api","create","params","a","post","update","id","put","show","delete","restore","autocomplete","q","stock","sku","stock2","stock3","useProduct","useSWR","revalidateOnFocus","mutate","error","loading","useDatatable","page","limit","search","order","conditions","JSON","stringify","mutates","items","total","useDatatableForDeleted","useVariantsDatatable","useStockDatatable","column","direction","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","this","constructor","_possibleConstructorReturn","defaultProps","cacheOptions","defaultOptions","filterOption","isLoading","Async","SelectComponent","_class","_temp","_Component","_inherits","_super","props","_this","_classCallCheck","select","lastRequest","mounted","handleInputChange","newValue","actionMeta","_this$props","onInputChange","inputValue","setState","loadedInputValue","loadedOptions","passEmptyOptions","state","optionsCache","request","loadOptions","options","Array","isArray","undefined","prevDefaultOptions","prevCacheOptions","_createClass","value","_this2","focus","blur","callback","loader","_this3","_this$props2","isLoadingProp","_objectWithoutProperties","_this$state","React","createElement","_extends","ref","_ref","newCacheOptionsState","newDefaultOptionsState","Component","makeAsyncSelect","manageState","Select","propTypes","children","PropTypes","node","inline","bool","tag","tagPropType","innerRef","oneOfType","func","string","className","cssModule","Form","getRef","bind","_assertThisInitialized","submit","_inheritsLoose","_proto","render","Tag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","assign","hasOwnProperty","excluded","sourceKeys","indexOf","sourceSymbolKeys","propertyIsEnumerable","Plus","forwardRef","_ref$color","color","_ref$size","size","rest","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","x1","y1","x2","y2","number","displayName","Minus","TabContext","createContext","tabs","pills","vertical","horizontal","justified","navbar","card","Nav","getVerticalClass","activeTab","any","TabContent","getDerivedStateFromProps","nextProps","prevState","omit","Provider","activeTabId","tabId","TabPane","getClasses","active","Consumer","StockAdjustmentRequest","useState","setActiveTab","searchTerm","setSearchTerm","selectedProduct","setSelectedProduct","adjustmentType","setAdjustmentType","adjustmentLocation","setAdjustmentLocation","transferFromLocation","setTransferFromLocation","transferToLocation","setTransferToLocation","quantity","setQuantity","reason","setReason","setProducts","setLoading","formLoading","setFormLoading","filterStatus","setFilterStatus","selectedUser","setSelectedUser","setUsers","startDate","setStartDate","endDate","setEndDate","isAdmin","setIsAdmin","setCurrentUser","setDefaultOptions","useRef","Map","setProductSearchInput","locationMap","stock_available","store_available","reverseLocationMap","1","2","useEffect","isCurrentUserAdmin","user","getCurrentUser","checkAdmin","loadUsers","userApi","results","formattedUsers","map","label","name","email","console","resetForm","loadInitialOptions","cacheKey","current","has","productApi","product","stockValue","current_stock","stockAvailable","current_stock_available","storeAvailable","current_store_available","skuValue","productName","imageUrl","image","style","display","alignItems","src","alt","marginRight","borderRadius","fontWeight","fontSize","item","set","promiseOptions","handleProductSelect","selectedOption","log","tempProduct","isFullProduct","fullProduct","hasStockAvailable","hasStoreAvailable","formattedProduct","message","response","status","handleSubmit","preventDefault","showError","quantityNum","parseInt","currentStockAvailable","currentStoreAvailable","maxAllowed","requestData","product_id","adjustment_type","transfer_from_location","transfer_to_location","adjustment_location","stockAdjustmentApi","showSuccess","getMaxAllowedQuantity","Infinity","autoClose","type","formatDate","dateString","date","toLocaleDateString","toLocaleTimeString","hour","minute","columns","selector","row","sortable","minWidth","cell","img","imgHeight","imgWidth","href","process","replace","toLowerCase","rel","maxWidth","itemId","badgeId","pill","placement","typeBadge","is_transfer","fromLocation","location","config","text","transfer","locationBadge","historical_stock_available_before","historical_stock_available_after","historical_store_available_before","historical_store_available_after","historical_stock_before","historical_stock_after","expected","expected_stock_before","stockAvailAfter","storeAvailAfter","stockAvailBefore","expected_stock_available_before","storeAvailBefore","expected_store_available_before","remaining","Math","max","calculateExpectedValues","expected_stock_after","pending","icon","tooltip","approved","rejected","statusBadge","created_at","whiteSpace","newStock","currentStock","isNaN","actualQuantity","min","transferQty","decreaseQty","newStockAvailable","newStoreAvailable","calculateNewStock","onClick","onChange","option","placeholder","useStockAdjustmentDatatable","title","hasSearch","user_id","dateRange","isSticky","initialOrder","dir","onSubmit","md","for","isClearable","classNamePrefix","noOptionsMessage","trim","formatOptionLabel","context","styles","control","base","minHeight","menu","zIndex","onError","outline","onBlur","required","disabled"],"mappings":"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","file":"static/js/176.63511946.chunk.js","sourcesContent":["import useSWR from 'swr'\nimport axios from '../utility/axiosIsntance'\n\nconst fetcher = (url) => axios.get(url).then(res => res.data?.data)\n\nexport const api = {\n\n    create: async (params) => {\n        const { data } = await axios.post('product', params)\n        return data?.data\n    },\n\n    update: async (id, params) => {\n        const { data } = await axios.put(`product/${id}`, params)\n        return data?.data\n    },\n    show: async (id) => {\n        const { data } = await axios.get(`product/${id}`)\n        return data?.data\n    },\n\n\n    delete: async (id) => {\n        await axios.delete(`product/${id}`)\n    },\n    restore: async (id) => {\n        await axios.get(`restore_product/${id}`)\n    },\n    autocomplete: async (q) => {\n        const { data } = await axios.get(`product/autocomplete?q=${q}`)\n        return data?.data\n    },\n    stock: async (params) => {\n        await axios.post(`product/stock`, params)\n    },\n    sku: async (params) => {\n        await axios.post(`product/sku`, params)\n    },\n    stock2: async (params) => {\n        await axios.post(`product/stock2`, params)\n    },\n    stock3: async (params) => {\n        await axios.post(`product/stock3`, params)\n    }\n\n}\n\nexport function useProduct(id) {\n\n    const { data, mutate, error } = useSWR(`product/${id}`, fetcher, {\n        revalidateOnFocus: false\n    })\n\n    const loading = !data && !error\n\n    return {\n        loading,\n        error,\n        data,\n        mutate,\n        update: async (params) => {\n            await api.update(id, params)\n            await mutate()\n        }\n    }\n}\n\nexport function useDatatable({ page, limit, search, order = {}, conditions = {}}) {\n\n    const url = `product/datatable?page=${page}&limit=${limit}&search=${search}&order=${JSON.stringify(order)}&conditions=${JSON.stringify(conditions)}`\n\n    const { data, mutate, error } = useSWR(url, fetcher)\n\n    const loading = !data && !error\n\n    const mutates = {\n        delete: async (id) => {\n            await api.delete(id)\n            mutate({ ...data })\n        }\n    }\n\n    return {\n        loading,\n        error,\n        data: data?.items || [],\n        total: data?.total || 0,\n        mutates\n    }\n\n}\nexport function useDatatableForKit({ page, limit, search, order = {}}) {\n\n    const url = `kitProduct/datatable?page=${page}&limit=${limit}&search=${search}&order=${JSON.stringify(order)}`\n\n    const { data, mutate, error } = useSWR(url, fetcher)\n\n    const loading = !data && !error\n\n    const mutates = {\n        delete: async (id) => {\n            await api.delete(id)\n            mutate({ ...data })\n        }\n    }\n\n    return {\n        loading,\n        error,\n        data: data?.items || [],\n        total: data?.total || 0,\n        mutates\n    }\n\n}\nexport function useDatatableForDeleted({ page, limit, search, order = {}}) {\n\n    const url = `deletedProduct/datatable?page=${page}&limit=${limit}&search=${search}&order=${JSON.stringify(order)}`\n\n    const { data, mutate, error } = useSWR(url, fetcher)\n\n    const loading = !data && !error\n\n    const mutates = {\n        delete: async (id) => {\n            await api.delete(id)\n            mutate({ ...data })\n        }\n    }\n\n    return {\n        loading,\n        error,\n        data: data?.items || [],\n        total: data?.total || 0,\n        mutates\n    }\n\n}\nexport function useVariantsDatatable({ page, limit, search, order = {}, conditions = {}}) {\n\n    const url = `product/datatable?page=${page}&limit=${limit}&search=${search}&order=${JSON.stringify(order)}&conditions=${JSON.stringify(conditions)}`\n\n    const { data, mutate, error } = useSWR(url, fetcher)\n\n    const loading = !data && !error\n\n    const mutates = {\n        delete: async (id) => {\n            await api.delete(id)\n            mutate({ ...data })\n        }\n    }\n\n    return {\n        loading,\n        error,\n        data: data?.items || [],\n        total: data?.total || 0,\n        mutates\n    }\n\n}\n\nexport function useStockDatatable({ page, limit, search, order }) {\n\n    const url = `product/datatable?page=${page}&limit=${limit}&search=${search}&order=${order?.column}&dir=${order?.direction}`\n\n    const { data, error } = useSWR(url, fetcher)\n\n    const loading = !data && !error\n\n    return {\n        loading,\n        error,\n        data: data?.items || [],\n        total: data?.total || 0\n    }\n\n}\n\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport '@babel/runtime/helpers/toConsumableArray';\nimport React, { Component } from 'react';\nimport '@emotion/react';\nimport 'react-dom';\nimport '@babel/runtime/helpers/typeof';\nimport { F as handleInputChange } from '../../dist/index-8b64410c.browser.esm.js';\nimport { S as Select } from '../../dist/Select-d53e3329.browser.esm.js';\nimport _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport '@babel/runtime/helpers/taggedTemplateLiteral';\nimport 'react-input-autosize';\nimport { m as manageState } from '../../dist/stateManager-66a21f68.browser.esm.js';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\nvar defaultProps = {\n  cacheOptions: false,\n  defaultOptions: false,\n  filterOption: null,\n  isLoading: false\n};\nvar makeAsyncSelect = function makeAsyncSelect(SelectComponent) {\n  var _class, _temp;\n\n  return _temp = _class = /*#__PURE__*/function (_Component) {\n    _inherits(Async, _Component);\n\n    var _super = _createSuper(Async);\n\n    function Async(props) {\n      var _this;\n\n      _classCallCheck(this, Async);\n\n      _this = _super.call(this);\n      _this.select = void 0;\n      _this.lastRequest = void 0;\n      _this.mounted = false;\n\n      _this.handleInputChange = function (newValue, actionMeta) {\n        var _this$props = _this.props,\n            cacheOptions = _this$props.cacheOptions,\n            onInputChange = _this$props.onInputChange; // TODO\n\n        var inputValue = handleInputChange(newValue, actionMeta, onInputChange);\n\n        if (!inputValue) {\n          delete _this.lastRequest;\n\n          _this.setState({\n            inputValue: '',\n            loadedInputValue: '',\n            loadedOptions: [],\n            isLoading: false,\n            passEmptyOptions: false\n          });\n\n          return;\n        }\n\n        if (cacheOptions && _this.state.optionsCache[inputValue]) {\n          _this.setState({\n            inputValue: inputValue,\n            loadedInputValue: inputValue,\n            loadedOptions: _this.state.optionsCache[inputValue],\n            isLoading: false,\n            passEmptyOptions: false\n          });\n        } else {\n          var request = _this.lastRequest = {};\n\n          _this.setState({\n            inputValue: inputValue,\n            isLoading: true,\n            passEmptyOptions: !_this.state.loadedInputValue\n          }, function () {\n            _this.loadOptions(inputValue, function (options) {\n              if (!_this.mounted) return;\n              if (request !== _this.lastRequest) return;\n              delete _this.lastRequest;\n\n              _this.setState(function (state) {\n                return {\n                  isLoading: false,\n                  loadedInputValue: inputValue,\n                  loadedOptions: options || [],\n                  passEmptyOptions: false,\n                  optionsCache: options ? _objectSpread(_objectSpread({}, state.optionsCache), {}, _defineProperty({}, inputValue, options)) : state.optionsCache\n                };\n              });\n            });\n          });\n        }\n\n        return inputValue;\n      };\n\n      _this.state = {\n        defaultOptions: Array.isArray(props.defaultOptions) ? props.defaultOptions : undefined,\n        inputValue: typeof props.inputValue !== 'undefined' ? props.inputValue : '',\n        isLoading: props.defaultOptions === true,\n        loadedOptions: [],\n        passEmptyOptions: false,\n        optionsCache: {},\n        prevDefaultOptions: undefined,\n        prevCacheOptions: undefined\n      };\n      return _this;\n    }\n\n    _createClass(Async, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        this.mounted = true;\n        var defaultOptions = this.props.defaultOptions;\n        var inputValue = this.state.inputValue;\n\n        if (defaultOptions === true) {\n          this.loadOptions(inputValue, function (options) {\n            if (!_this2.mounted) return;\n            var isLoading = !!_this2.lastRequest;\n\n            _this2.setState({\n              defaultOptions: options || [],\n              isLoading: isLoading\n            });\n          });\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.mounted = false;\n      }\n    }, {\n      key: \"focus\",\n      value: function focus() {\n        this.select.focus();\n      }\n    }, {\n      key: \"blur\",\n      value: function blur() {\n        this.select.blur();\n      }\n    }, {\n      key: \"loadOptions\",\n      value: function loadOptions(inputValue, callback) {\n        var loadOptions = this.props.loadOptions;\n        if (!loadOptions) return callback();\n        var loader = loadOptions(inputValue, callback);\n\n        if (loader && typeof loader.then === 'function') {\n          loader.then(callback, function () {\n            return callback();\n          });\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this3 = this;\n\n        var _this$props2 = this.props,\n            loadOptions = _this$props2.loadOptions,\n            isLoadingProp = _this$props2.isLoading,\n            props = _objectWithoutProperties(_this$props2, [\"loadOptions\", \"isLoading\"]);\n\n        var _this$state = this.state,\n            defaultOptions = _this$state.defaultOptions,\n            inputValue = _this$state.inputValue,\n            isLoading = _this$state.isLoading,\n            loadedInputValue = _this$state.loadedInputValue,\n            loadedOptions = _this$state.loadedOptions,\n            passEmptyOptions = _this$state.passEmptyOptions;\n        var options = passEmptyOptions ? [] : inputValue && loadedInputValue ? loadedOptions : defaultOptions || [];\n        return /*#__PURE__*/React.createElement(SelectComponent, _extends({}, props, {\n          ref: function ref(_ref) {\n            _this3.select = _ref;\n          },\n          options: options,\n          isLoading: isLoading || isLoadingProp,\n          onInputChange: this.handleInputChange\n        }));\n      }\n    }], [{\n      key: \"getDerivedStateFromProps\",\n      value: function getDerivedStateFromProps(props, state) {\n        var newCacheOptionsState = props.cacheOptions !== state.prevCacheOptions ? {\n          prevCacheOptions: props.cacheOptions,\n          optionsCache: {}\n        } : {};\n        var newDefaultOptionsState = props.defaultOptions !== state.prevDefaultOptions ? {\n          prevDefaultOptions: props.defaultOptions,\n          defaultOptions: Array.isArray(props.defaultOptions) ? props.defaultOptions : undefined\n        } : {};\n        return _objectSpread(_objectSpread({}, newCacheOptionsState), newDefaultOptionsState);\n      }\n    }]);\n\n    return Async;\n  }(Component), _class.defaultProps = defaultProps, _temp;\n};\nvar SelectState = manageState(Select);\nvar Async = makeAsyncSelect(SelectState);\n\nexport default Async;\nexport { defaultProps, makeAsyncSelect };\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  children: PropTypes.node,\n  inline: PropTypes.bool,\n  tag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'form'\n};\n\nvar Form = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Form, _Component);\n\n  function Form(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n    _this.getRef = _this.getRef.bind(_assertThisInitialized(_this));\n    _this.submit = _this.submit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = Form.prototype;\n\n  _proto.getRef = function getRef(ref) {\n    if (this.props.innerRef) {\n      this.props.innerRef(ref);\n    }\n\n    this.ref = ref;\n  };\n\n  _proto.submit = function submit() {\n    if (this.ref) {\n      this.ref.submit();\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        className = _this$props.className,\n        cssModule = _this$props.cssModule,\n        inline = _this$props.inline,\n        Tag = _this$props.tag,\n        innerRef = _this$props.innerRef,\n        attributes = _objectWithoutPropertiesLoose(_this$props, [\"className\", \"cssModule\", \"inline\", \"tag\", \"innerRef\"]);\n\n    var classes = mapToCssModules(classNames(className, inline ? 'form-inline' : false), cssModule);\n    return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n      ref: innerRef,\n      className: classes\n    }));\n  };\n\n  return Form;\n}(Component);\n\nForm.propTypes = propTypes;\nForm.defaultProps = defaultProps;\nexport default Form;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Plus = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"5\",\n    x2: \"12\",\n    y2: \"19\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"5\",\n    y1: \"12\",\n    x2: \"19\",\n    y2: \"12\"\n  }));\n});\nPlus.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nPlus.displayName = 'Plus';\nexport default Plus;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Minus = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"5\",\n    y1: \"12\",\n    x2: \"19\",\n    y2: \"12\"\n  }));\n});\nMinus.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nMinus.displayName = 'Minus';\nexport default Minus;","import React from 'react';\n/**\n * TabContext\n * {\n *  activeTabId: PropTypes.any\n * }\n */\n\nexport var TabContext = /*#__PURE__*/React.createContext({});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tabs: PropTypes.bool,\n  pills: PropTypes.bool,\n  vertical: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  horizontal: PropTypes.string,\n  justified: PropTypes.bool,\n  fill: PropTypes.bool,\n  navbar: PropTypes.bool,\n  card: PropTypes.bool,\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'ul',\n  vertical: false\n};\n\nvar getVerticalClass = function getVerticalClass(vertical) {\n  if (vertical === false) {\n    return false;\n  } else if (vertical === true || vertical === 'xs') {\n    return 'flex-column';\n  }\n\n  return \"flex-\" + vertical + \"-column\";\n};\n\nvar Nav = function Nav(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      tabs = props.tabs,\n      pills = props.pills,\n      vertical = props.vertical,\n      horizontal = props.horizontal,\n      justified = props.justified,\n      fill = props.fill,\n      navbar = props.navbar,\n      card = props.card,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tabs\", \"pills\", \"vertical\", \"horizontal\", \"justified\", \"fill\", \"navbar\", \"card\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, navbar ? 'navbar-nav' : 'nav', horizontal ? \"justify-content-\" + horizontal : false, getVerticalClass(vertical), {\n    'nav-tabs': tabs,\n    'card-header-tabs': card && tabs,\n    'nav-pills': pills,\n    'card-header-pills': card && pills,\n    'nav-justified': justified,\n    'nav-fill': fill\n  }), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nNav.propTypes = propTypes;\nNav.defaultProps = defaultProps;\nexport default Nav;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { TabContext } from './TabContext';\nimport { mapToCssModules, omit, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  activeTab: PropTypes.any,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar TabContent = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(TabContent, _Component);\n\n  TabContent.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    if (prevState.activeTab !== nextProps.activeTab) {\n      return {\n        activeTab: nextProps.activeTab\n      };\n    }\n\n    return null;\n  };\n\n  function TabContent(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n    _this.state = {\n      activeTab: _this.props.activeTab\n    };\n    return _this;\n  }\n\n  var _proto = TabContent.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        className = _this$props.className,\n        cssModule = _this$props.cssModule,\n        Tag = _this$props.tag;\n    var attributes = omit(this.props, Object.keys(propTypes));\n    var classes = mapToCssModules(classNames('tab-content', className), cssModule);\n    return /*#__PURE__*/React.createElement(TabContext.Provider, {\n      value: {\n        activeTabId: this.state.activeTab\n      }\n    }, /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n      className: classes\n    })));\n  };\n\n  return TabContent;\n}(Component);\n\nexport default TabContent;\nTabContent.propTypes = propTypes;\nTabContent.defaultProps = defaultProps;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { TabContext } from './TabContext';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  tabId: PropTypes.any\n};\nvar defaultProps = {\n  tag: 'div'\n};\nexport default function TabPane(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      tabId = props.tabId,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tabId\", \"tag\"]);\n\n  var getClasses = function getClasses(activeTabId) {\n    return mapToCssModules(classNames('tab-pane', className, {\n      active: tabId === activeTabId\n    }), cssModule);\n  };\n\n  return /*#__PURE__*/React.createElement(TabContext.Consumer, null, function (_ref) {\n    var activeTabId = _ref.activeTabId;\n    return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n      className: getClasses(activeTabId)\n    }));\n  });\n}\nTabPane.propTypes = propTypes;\nTabPane.defaultProps = defaultProps;","import React, { useState, useEffect, useRef } from 'react'\nimport {\n  Card,\n  CardBody,\n  CardHeader,\n  Row,\n  Col,\n  Form,\n  FormGroup,\n  Label,\n  Input,\n  Button,\n  Alert,\n  Badge,\n  Spinner,\n  TabContent,\n  TabPane,\n  Nav,\n  NavItem,\n  NavLink,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  UncontrolledTooltip\n} from 'reactstrap'\nimport {\n  Plus,\n  Minus,\n  Search,\n  AlertCircle,\n  CheckCircle,\n  XCircle,\n  Package,\n  Users,\n  ChevronsUp,\n  ChevronsDown,\n  Clock,\n  User,\n  RefreshCw,\n  ArrowRight,\n  ArrowLeft\n} from 'react-feather'\nimport Select from 'react-select'\nimport Datatable from '../../@core/components/datatable'\nimport { api as productApi } from '../../data/use-product'\nimport { api as userApi } from '../../data/use-user'\nimport { useStockAdjustmentDatatable } from '../../data/use-stock-adjustment-datatable'\nimport { api as stockAdjustmentApi } from '../../data/use-stock-adjustment'\nimport { getCurrentUser, isCurrentUserAdmin } from '../../data/use-auth'\nimport { showError, showSuccess } from '../../utility/Utils'\nimport Avatar from '../../@core/components/avatar'\nimport AsyncSelect from 'react-select/async/dist/react-select.esm'\n\nconst StockAdjustmentRequest = () => {\n  const [activeTab, setActiveTab] = useState('1')\n  const [searchTerm, setSearchTerm] = useState('')\n  const [selectedProduct, setSelectedProduct] = useState(null)\n\n  // Adjustment settings\n  const [adjustmentType, setAdjustmentType] = useState('increase') // 'increase', 'decrease', 'transfer'\n  const [adjustmentLocation, setAdjustmentLocation] = useState('total') // 'total', 'stock_available', 'store_available'\n  const [transferFromLocation, setTransferFromLocation] = useState('stock_available')\n  const [transferToLocation, setTransferToLocation] = useState('store_available')\n\n  const [quantity, setQuantity] = useState('')\n  const [reason, setReason] = useState('')\n  const [products, setProducts] = useState([])\n  const [loading, setLoading] = useState(false)\n  const [formLoading, setFormLoading] = useState(false)\n  const [filterStatus, setFilterStatus] = useState('all')\n  const [selectedUser, setSelectedUser] = useState(null)\n  const [users, setUsers] = useState([])\n  const [startDate, setStartDate] = useState('')\n  const [endDate, setEndDate] = useState('')\n  const [isAdmin, setIsAdmin] = useState(false)\n  const [currentUser, setCurrentUser] = useState(null)\n  const [defaultOptions, setDefaultOptions] = useState([])\n  const optionsCache = useRef(new Map())\n\n  // For product search\n  const [productSearchInput, setProductSearchInput] = useState('')\n  // const debounceTimeout = useRef(null)\n\n  // Location mapping for integer values\n  const locationMap = {\n    stock_available: 1,\n    store_available: 2\n  }\n\n  // Reverse mapping for display\n  const reverseLocationMap = {\n    1: 'stock_available',\n    2: 'store_available'\n  }\n\n  useEffect(() => {\n    const checkAdmin = async () => {\n      setIsAdmin(isCurrentUserAdmin())\n      const user = getCurrentUser()\n      setCurrentUser(user)\n    }\n    checkAdmin()\n  }, [])\n\n  // Load users for filter (admin only)\n  const loadUsers = async () => {\n    try {\n      const results = await userApi.autocomplete('')\n      const formattedUsers = results.map(user => ({\n        value: user.id,\n        label: `${user.name} (${user.email})`\n      }))\n      setUsers(formattedUsers)\n    } catch (error) {\n      console.error('Error loading users:', error)\n    }\n  }\n\n  useEffect(() => {\n    if (isAdmin) {\n      loadUsers()\n    }\n  }, [isAdmin])\n\n  const resetForm = () => {\n    setSelectedProduct(null)\n    setAdjustmentType('increase')\n    setAdjustmentLocation('total')\n    setTransferFromLocation('stock_available')\n    setTransferToLocation('store_available')\n    setQuantity('')\n    setReason('')\n    setProductSearchInput('')\n    setProducts([])\n  }\n\n\n  const loadInitialOptions = async () => {\n    const cacheKey = 'initial'\n    if (optionsCache.current.has(cacheKey)) {\n      setDefaultOptions(optionsCache.current.get(cacheKey))\n      return\n    }\n\n    try {\n      const data = await productApi.autocomplete('')\n      const options = data.map((product) => {\n        const stockValue = product.stock || product.current_stock || product.quantity || 0\n        const stockAvailable = product.stock_available || product.current_stock_available || 0\n        const storeAvailable = product.store_available || product.current_store_available || 0\n        const skuValue = product.sku || 'N/A'\n        const productName = product.name || 'Unknown Product'\n        const imageUrl = product.image || '/static/images/placeholder.png'\n\n        return {\n          label: (\n              <div style={{ display: 'flex', alignItems: 'center' }}>\n                <img\n                    src={imageUrl}\n                    alt={productName}\n                    height=\"32\"\n                    width=\"32\"\n                    style={{ marginRight: '10px', borderRadius: '4px' }}\n                />\n                <div>\n                  <div style={{ fontWeight: 'bold' }}>{productName}</div>\n                  <div style={{ fontSize: '12px', color: '#666' }}>\n                    SKU: {skuValue} | Stock: {stockValue} | Stock Avail: {stockAvailable}\n                  </div>\n                </div>\n              </div>\n          ),\n          value: product.id,\n          item: {\n            ...product,\n            id: product.id,\n            stock: stockValue,\n            stock_available: stockAvailable,\n            store_available: storeAvailable,\n            name: productName,\n            sku: skuValue,\n            image: imageUrl\n          }\n        }\n      })\n\n      optionsCache.current.set(cacheKey, options)\n      setDefaultOptions(options)\n    } catch (error) {\n      console.error('Failed to load initial options:', error)\n      setDefaultOptions([])\n    }\n  }\n\n  const promiseOptions = async (inputValue) => {\n    // Return cached results if available\n    const cacheKey = inputValue || 'empty'\n    if (optionsCache.current.has(cacheKey)) {\n      return optionsCache.current.get(cacheKey)\n    }\n\n    try {\n      setLoading(true)\n      const data = await productApi.autocomplete(inputValue)\n      const options = data.map((product) => {\n        const stockValue = product.stock || product.current_stock || product.quantity || 0\n        const stockAvailable = product.stock_available || product.current_stock_available || 0\n        const storeAvailable = product.store_available || product.current_store_available || 0\n        const skuValue = product.sku || 'N/A'\n        const productName = product.name || 'Unknown Product'\n        const imageUrl = product.image || '/static/images/placeholder.png'\n\n        return {\n          label: (\n              <div style={{ display: 'flex', alignItems: 'center' }}>\n                <img\n                    src={imageUrl}\n                    alt={productName}\n                    height=\"32\"\n                    width=\"32\"\n                    style={{ marginRight: '10px', borderRadius: '4px' }}\n                />\n                <div>\n                  <div style={{ fontWeight: 'bold' }}>{productName}</div>\n                  <div style={{ fontSize: '12px', color: '#666' }}>\n                    SKU: {skuValue} | Stock: {stockValue} | Stock Avail: {stockAvailable}\n                  </div>\n                </div>\n              </div>\n          ),\n          value: product.id,\n          item: {\n            ...product,\n            id: product.id,\n            stock: stockValue,\n            stock_available: stockAvailable,\n            store_available: storeAvailable,\n            name: productName,\n            sku: skuValue,\n            image: imageUrl\n          }\n        }\n      })\n\n      // Cache the results\n      optionsCache.current.set(cacheKey, options)\n      return options\n    } catch (error) {\n      console.error('Failed to load options:', error)\n      return []\n    } finally {\n      setLoading(false)\n    }\n  }\n  const handleProductSearchInput = (inputValue) => {\n    setProductSearchInput(inputValue)\n  }\n\n  const handleProductSelect = async (selectedOption) => {\n    console.log('Selected product option:', selectedOption)\n\n    if (selectedOption) {\n      try {\n        // First set the product from autocomplete\n        const tempProduct = {\n          ...selectedOption.item,\n          isFullProduct: false\n        }\n        setSelectedProduct(tempProduct)\n\n        // Then fetch full product details\n        console.log('Fetching full product details for ID:', selectedOption.value)\n\n        let fullProduct\n        try {\n          fullProduct = await productApi.show(selectedOption.value)\n          console.log('Full product API response:', fullProduct)\n        } catch (apiError) {\n          console.error('productApi.show failed:', apiError)\n          // If API doesn't exist, use the autocomplete data\n          fullProduct = selectedOption.item\n        }\n\n        if (fullProduct) {\n          console.log('Stock fields in full product:', {\n            stock: fullProduct.stock,\n            stock_available: fullProduct.stock_available,\n            store_available: fullProduct.store_available,\n            hasStockAvailable: 'stock_available' in fullProduct,\n            hasStoreAvailable: 'store_available' in fullProduct\n          })\n\n          const formattedProduct = {\n            ...fullProduct,\n            id: fullProduct.id,\n            stock: fullProduct.stock || 0,\n            stock_available: fullProduct.stock_available || 0,\n            store_available: fullProduct.store_available || 0,\n            name: fullProduct.name || 'Unknown Product',\n            sku: fullProduct.sku || 'N/A',\n            image: fullProduct.image || '/static/images/placeholder.png',\n            isFullProduct: true\n          }\n\n          console.log('Setting formatted product:', formattedProduct)\n          setSelectedProduct(formattedProduct)\n        }\n      } catch (error) {\n        console.error('Error in handleProductSelect:', error)\n        console.error('Error details:', {\n          message: error.message,\n          response: error.response?.data,\n          status: error.response?.status\n        })\n        // Keep the autocomplete product as fallback\n      }\n    } else {\n      setSelectedProduct(null)\n      setProductSearchInput('')\n    }\n  }\n\n// Add this useEffect after the other useEffects\n  useEffect(() => {\n    loadInitialOptions()\n  }, [])\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n\n    if (!selectedProduct || !quantity || quantity <= 0) {\n      showError('Please select a product and enter valid quantity')\n      return\n    }\n    const quantityNum = parseInt(quantity)\n    const currentStock = selectedProduct.stock || 0\n    const currentStockAvailable = selectedProduct.stock_available || 0\n    const currentStoreAvailable = selectedProduct.store_available || 0\n\n    // Validate decrease operations\n    if (adjustmentType === 'decrease') {\n      let maxAllowed = 0\n\n      if (adjustmentLocation === 'total') {\n        maxAllowed = currentStockAvailable + currentStoreAvailable\n      } else if (adjustmentLocation === 'stock_available') {\n        maxAllowed = currentStockAvailable\n      } else if (adjustmentLocation === 'store_available') {\n        maxAllowed = currentStoreAvailable\n      }\n\n      if (quantityNum > maxAllowed) {\n        showError(`Cannot decrease more than available stock. Maximum allowed: ${maxAllowed}`)\n        setQuantity(maxAllowed.toString())\n        return\n      }\n      if (quantityNum > maxAllowed) {\n        showError(`Cannot decrease more than available stock. Maximum allowed: ${maxAllowed}`)\n        setQuantity(maxAllowed.toString())\n        return\n      }\n    }\n\n\n    try {\n      setFormLoading(true)\n\n      const requestData = {\n        product_id: selectedProduct.id, // Changed from selectedProduct.value to selectedProduct.id\n        adjustment_type: adjustmentType,\n        quantity: parseInt(quantity),\n        reason: reason || null\n      }\n\n      // Add location-specific data with integer mapping for transfers\n      if (adjustmentType === 'transfer') {\n        // Map string locations to integers\n        requestData.transfer_from_location = locationMap[transferFromLocation]\n        requestData.transfer_to_location = locationMap[transferToLocation]\n      } else {\n        requestData.adjustment_location = adjustmentLocation\n      }\n\n      console.log('Submitting request data:', requestData)\n\n      await stockAdjustmentApi.create(requestData)\n\n      showSuccess('Stock adjustment request submitted successfully! Waiting for approval.')\n      resetForm()\n    } catch (error) {\n      console.error('Submit error:', error)\n      showError(`Failed to submit request: ${error.response?.data?.message || error.message}`)\n    } finally {\n      setFormLoading(false)\n    }\n  }\n// Add a function to calculate maximum allowed quantity\n  const getMaxAllowedQuantity = () => {\n    if (!selectedProduct) return 0\n\n    const currentStock = selectedProduct.stock || 0\n    const currentStockAvailable = selectedProduct.stock_available || 0\n    const currentStoreAvailable = selectedProduct.store_available || 0\n\n    if (adjustmentType === 'increase') {\n      return Infinity // No limit for increase\n    } else if (adjustmentType === 'decrease') {\n      switch (adjustmentLocation) {\n        case 'total':\n          return currentStockAvailable + currentStoreAvailable\n        case 'stock_available':\n          return currentStockAvailable\n        case 'store_available':\n          return currentStoreAvailable\n        default:\n          return 0\n      }\n    } else if (adjustmentType === 'transfer') {\n      if (transferFromLocation === 'stock_available') {\n        return currentStockAvailable\n      } else {\n        return currentStoreAvailable\n      }\n    }\n\n    return 0\n  }\n\n// Add a useEffect to automatically correct quantity when inputs change\n  useEffect(() => {\n    if (!selectedProduct || !quantity || quantity <= 0) return\n\n    const quantityNum = parseInt(quantity)\n    const maxAllowed = getMaxAllowedQuantity()\n\n    // Only auto-correct for decrease and transfer operations\n    if ((adjustmentType === 'decrease' || adjustmentType === 'transfer') &&\n        quantityNum > maxAllowed &&\n        maxAllowed > 0) {\n      setQuantity(maxAllowed.toString())\n\n      // Show a notification that quantity was adjusted\n      if (adjustmentType === 'decrease') {\n        showError(`Quantity adjusted to maximum available: ${maxAllowed}`, {\n          autoClose: 3000,\n          type: 'warning'\n        })\n      } else {\n        showError(`Transfer quantity adjusted to maximum available in source: ${maxAllowed}`, {\n          autoClose: 3000,\n          type: 'warning'\n        })\n      }\n    }\n  }, [quantity, selectedProduct, adjustmentType, adjustmentLocation, transferFromLocation])\n\n\n  const calculateNewStock = () => {\n    if (!selectedProduct || !quantity) return null\n\n    const currentStock = selectedProduct.stock || 0\n    const currentStockAvailable = selectedProduct.stock_available || 0\n    const currentStoreAvailable = selectedProduct.store_available || 0\n    const quantityNum = parseInt(quantity)\n\n    if (isNaN(quantityNum)) return {\n      total: currentStock,\n      stock_available: currentStockAvailable,\n      store_available: currentStoreAvailable\n    }\n\n    // Get actual quantity (respecting max limits)\n    const actualQuantity = Math.min(quantityNum, getMaxAllowedQuantity())\n\n    if (adjustmentType === 'transfer') {\n      if (transferFromLocation === 'stock_available') {\n        const transferQty = Math.min(actualQuantity, currentStockAvailable)\n        return {\n          total: currentStock,\n          stock_available: Math.max(0, currentStockAvailable - transferQty),\n          store_available: currentStoreAvailable + transferQty\n        }\n      } else {\n        const transferQty = Math.min(actualQuantity, currentStoreAvailable)\n        return {\n          total: currentStock,\n          stock_available: currentStockAvailable + transferQty,\n          store_available: Math.max(0, currentStoreAvailable - transferQty)\n        }\n      }\n    } else if (adjustmentType === 'increase') {\n      if (adjustmentLocation === 'total') {\n        return {\n          total: currentStock + actualQuantity,\n          stock_available: currentStockAvailable,\n          store_available: currentStoreAvailable + actualQuantity\n        }\n      } else if (adjustmentLocation === 'stock_available') {\n        return {\n          total: currentStock + actualQuantity,\n          stock_available: currentStockAvailable + actualQuantity,\n          store_available: currentStoreAvailable\n        }\n      } else { // store_available\n        return {\n          total: currentStock + actualQuantity,\n          stock_available: currentStockAvailable,\n          store_available: currentStoreAvailable + actualQuantity\n        }\n      }\n    } else { // decrease\n      let decreaseQty = actualQuantity\n\n      if (adjustmentLocation === 'total') {\n        // Ensure we don't try to decrease more than total available\n        decreaseQty = Math.min(actualQuantity, currentStockAvailable + currentStoreAvailable)\n\n        // Default: take from store_available first\n        let newStockAvailable = currentStockAvailable\n        let newStoreAvailable = currentStoreAvailable\n\n        if (currentStoreAvailable >= decreaseQty) {\n          newStoreAvailable = currentStoreAvailable - decreaseQty\n        } else {\n          const remaining = decreaseQty - currentStoreAvailable\n          newStoreAvailable = 0\n          newStockAvailable = Math.max(0, currentStockAvailable - remaining)\n        }\n\n        return {\n          total: Math.max(0, currentStock - decreaseQty),\n          stock_available: newStockAvailable,\n          store_available: newStoreAvailable\n        }\n      } else if (adjustmentLocation === 'stock_available') {\n        decreaseQty = Math.min(actualQuantity, currentStockAvailable)\n        return {\n          total: Math.max(0, currentStock - decreaseQty),\n          stock_available: Math.max(0, currentStockAvailable - decreaseQty),\n          store_available: currentStoreAvailable\n        }\n      } else { // store_available\n        decreaseQty = Math.min(actualQuantity, currentStoreAvailable)\n        return {\n          total: Math.max(0, currentStock - decreaseQty),\n          stock_available: currentStockAvailable,\n          store_available: Math.max(0, currentStoreAvailable - decreaseQty)\n        }\n      }\n    }\n  }\n\n  const statusBadge = (status, itemId) => {\n    const statusConfig = {\n      pending: {\n        color: 'warning',\n        icon: <AlertCircle size={12} />,\n        text: 'Pending',\n        tooltip: 'Awaiting approval'\n      },\n      approved: {\n        color: 'success',\n        icon: <CheckCircle size={12} />,\n        text: 'Approved',\n        tooltip: 'Approved and processed'\n      },\n      rejected: {\n        color: 'danger',\n        icon: <XCircle size={12} />,\n        text: 'Rejected',\n        tooltip: 'Request was rejected'\n      }\n    }\n\n    const config = statusConfig[status] || {\n      color: 'secondary',\n      icon: null,\n      text: status,\n      tooltip: status\n    }\n\n    const badgeId = `status-badge-${status}-${itemId}`\n\n    return (\n        <>\n          <Badge\n              id={badgeId}\n              color={config.color}\n              className=\"d-flex align-items-center gap-1\"\n              pill\n          >\n            {config.icon}\n            <span>{config.text}</span>\n          </Badge>\n          <UncontrolledTooltip placement=\"top\" target={badgeId}>\n            {config.tooltip}\n          </UncontrolledTooltip>\n        </>\n    )\n  }\n\n  const typeBadge = (type, itemId) => {\n    const badgeId = `type-badge-${type}-${itemId}`\n\n    return (\n        <>\n          <Badge\n              id={badgeId}\n              color={type === 'increase' ? 'success' : type === 'decrease' ? 'danger' : 'info'}\n              className=\"text-uppercase\"\n              pill\n          >\n            {type === 'increase' ? <ChevronsUp size={10} /> : type === 'decrease' ? <ChevronsDown size={10} /> : <ArrowRight size={10} />}\n            <span className=\"ms-1\">{type}</span>\n          </Badge>\n          <UncontrolledTooltip placement=\"top\" target={badgeId}>\n            {type === 'increase' ? 'Increase stock' : type === 'decrease' ? 'Decrease stock' : 'Transfer stock'}\n          </UncontrolledTooltip>\n        </>\n    )\n  }\n\n  const locationBadge = (location) => {\n    const locationConfig = {\n      total: { color: 'primary', text: 'Total' },\n      stock_available: { color: 'info', text: 'Stock Available' },\n      store_available: { color: 'warning', text: 'Store Available' },\n      transfer: { color: 'secondary', text: 'Transfer' }\n    }\n\n    const config = locationConfig[location] || { color: 'secondary', text: location }\n\n    return (\n        <Badge color={config.color} className=\"text-capitalize\">\n          {config.text}\n        </Badge>\n    )\n  }\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'N/A'\n    const date = new Date(dateString)\n    return `${date.toLocaleDateString()} ${date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`\n  }\n\n  // Define columns\n  const columns = [\n    {\n      name: 'Name',\n      selector: row => row.product?.name,\n      sortable: true,\n      minWidth: '400px',\n      cell: row => {\n        const productName = row.product?.name || row.name || 'N/A'\n        const imageUrl = row.product?.image || row.image\n\n        return (\n            <div className='d-flex align-items-center'>\n              <Avatar\n                  img={imageUrl}\n                  className=\"mr-2\"\n                  imgHeight={32}\n                  imgWidth={32}\n\n              />\n              <a\n                  className='text-dark'\n                  href={`${process.env.REACT_APP_WEBSITE}/product/${productName.replace(/\\s+/g, '-').toLowerCase()}`}\n                  target='_blank'\n                  rel=\"noopener noreferrer\"\n              >\n                {productName}\n              </a>\n            </div>\n        )\n      }\n    },\n    ...(isAdmin ? [\n      {\n        name: 'Requested By',\n        selector: row => row.user?.name,\n        sortable: true,\n        minWidth: '150px',\n        cell: row => (\n            <div>\n              <div className=\"d-flex align-items-center\">\n                <User size={14} className=\"me-1 text-muted\" />\n                <span className=\"text-truncate d-inline-block\" style={{ maxWidth: '140px' }}>\n                {row.user?.name || 'N/A'}\n              </span>\n              </div>\n              <small className=\"text-muted d-block text-truncate\" style={{ maxWidth: '180px' }}>\n                {row.user?.email || ''}\n              </small>\n            </div>\n\n        )\n      }\n    ] : []),\n    {\n      name: 'Type',\n      selector: row => row.adjustment_type,\n      sortable: true,\n      width: '120px',\n      cell: row => typeBadge(row.adjustment_type, row.id)\n    },\n    {\n      name: 'Location',\n      width: '140px',\n      cell: row => {\n        if (row.is_transfer) {\n          // Convert integer locations back to string for display\n          const fromLocation = reverseLocationMap[row.transfer_from_location] || row.transfer_from_location\n          const toLocation = reverseLocationMap[row.transfer_to_location] || row.transfer_to_location\n\n          return (\n              <div className=\"small\">\n                <div>Transfer</div>\n                <div className=\"text-muted\">\n                  {fromLocation === 'stock_available' ? 'Stock  Store' : 'Store  Stock'}\n                </div>\n              </div>\n          )\n        }\n        return locationBadge(row.adjustment_location)\n      }\n    },\n    {\n      name: 'Quantity',\n      selector: row => row.quantity,\n      sortable: true,\n      width: '100px',\n      cell: row => (\n          <div className=\"fw-bold text-center\">\n            {row.quantity}\n          </div>\n      )\n    },\n    {\n      name: 'Stock Impact',\n      minWidth: '200px',\n      cell: (row) => {\n        const isProcessed = row.status === 'approved' || row.status === 'rejected'\n\n        if (isProcessed) {\n          // Show historical data for approved/rejected\n          return (\n              <div className=\"small\">\n                <div className=\"d-flex justify-content-between\">\n                  <span className=\"text-muted\">Stock Avail:</span>\n                  <span>\n                  {row.historical_stock_available_before !== 'N/A' ? `${row.historical_stock_available_before}  ${row.historical_stock_available_after}` : 'N/A  N/A'}\n                </span>\n                </div>\n                <div className=\"d-flex justify-content-between\">\n                  <span className=\"text-muted\">Store Avail:</span>\n                  <span>\n                  {row.historical_store_available_before !== 'N/A' ? `${row.historical_store_available_before}  ${row.historical_store_available_after}` : 'N/A  N/A'}\n                </span>\n                </div>\n                <div className=\"d-flex justify-content-between\">\n                  <span className=\"text-muted\">Stock:</span>\n                  <span className=\"fw-bold\">\n                  {row.historical_stock_before !== 'N/A' ? `${row.historical_stock_before}  ${row.historical_stock_after}` : 'N/A  N/A'}\n                </span>\n                </div>\n              </div>\n          )\n        } else {\n          // For pending items, calculate expected values\n          // Need to calculate expected stock_available_after and store_available_after\n          const calculateExpectedValues = () => {\n            if (!row.expected_stock_before) return { stockAvailAfter: '?', storeAvailAfter: '?' }\n\n            const stockBefore = row.expected_stock_before\n            const stockAvailBefore = row.expected_stock_available_before\n            const storeAvailBefore = row.expected_store_available_before\n            const quantity = row.quantity\n\n            if (row.adjustment_type === 'transfer') {\n              // Convert integer locations back to string for calculation\n              const fromLocation = reverseLocationMap[row.transfer_from_location] || row.transfer_from_location\n              const toLocation = reverseLocationMap[row.transfer_to_location] || row.transfer_to_location\n\n              if (fromLocation === 'stock_available') {\n                return {\n                  stockAvailAfter: stockAvailBefore - quantity,\n                  storeAvailAfter: storeAvailBefore + quantity\n                }\n              } else {\n                return {\n                  stockAvailAfter: stockAvailBefore + quantity,\n                  storeAvailAfter: storeAvailBefore - quantity\n                }\n              }\n            } else if (row.adjustment_type === 'increase') {\n              if (row.adjustment_location === 'total') {\n                return {\n                  stockAvailAfter: stockAvailBefore,\n                  storeAvailAfter: storeAvailBefore + quantity\n                }\n              } else if (row.adjustment_location === 'stock_available') {\n                return {\n                  stockAvailAfter: stockAvailBefore + quantity,\n                  storeAvailAfter: storeAvailBefore\n                }\n              } else { // store_available\n                return {\n                  stockAvailAfter: stockAvailBefore,\n                  storeAvailAfter: storeAvailBefore + quantity\n                }\n              }\n            } else { // decrease\n              if (row.adjustment_location === 'total') {\n                // Take from store_available first\n                if (storeAvailBefore >= quantity) {\n                  return {\n                    stockAvailAfter: stockAvailBefore,\n                    storeAvailAfter: storeAvailBefore - quantity\n                  }\n                } else {\n                  const remaining = quantity - storeAvailBefore\n                  return {\n                    stockAvailAfter: Math.max(0, stockAvailBefore - remaining),\n                    storeAvailAfter: 0\n                  }\n                }\n              } else if (row.adjustment_location === 'stock_available') {\n                return {\n                  stockAvailAfter: Math.max(0, stockAvailBefore - quantity),\n                  storeAvailAfter: storeAvailBefore\n                }\n              } else { // store_available\n                return {\n                  stockAvailAfter: stockAvailBefore,\n                  storeAvailAfter: Math.max(0, storeAvailBefore - quantity)\n                }\n              }\n            }\n          }\n\n          const expected = calculateExpectedValues()\n\n          return (\n              <div className=\"small\">\n                <div className=\"d-flex justify-content-between\">\n                  <span className=\"text-muted\">Stock Avail:</span>\n                  <span>{row.expected_stock_available_before || 0}  {expected.stockAvailAfter}</span>\n                </div>\n                <div className=\"d-flex justify-content-between\">\n                  <span className=\"text-muted\">Store Avail:</span>\n                  <span>{row.expected_store_available_before || 0}  {expected.storeAvailAfter}</span>\n                </div>\n                <div className=\"d-flex justify-content-between\">\n                  <span className=\"text-muted\">Total:</span>\n                  <span className=\"fw-bold\">{row.expected_stock_before || 0}  {row.expected_stock_after || 0}</span>\n                </div>\n              </div>\n          )\n        }\n      }\n    },\n    {\n      name: 'Status',\n      selector: row => row.status,\n      sortable: true,\n      width: '130px',\n      cell: row => statusBadge(row.status, row.id)\n    },\n    {\n      name: 'Date',\n      selector: row => row.created_at,\n      sortable: true,\n      width: '150px',\n      cell: row => (\n          <div style={{ whiteSpace: 'nowrap' }}>\n            <div className=\"small d-flex align-items-center\">\n              <Clock size={10} className=\"me-1 text-muted\" />\n              {formatDate(row.created_at)}\n            </div>\n          </div>\n      )\n    }\n  ]\n\n  const handleFilterReset = () => {\n    setSearchTerm('')\n    setSelectedUser(null)\n    setStartDate('')\n    setEndDate('')\n    setFilterStatus('all')\n  }\n\n  // Status options\n  const statusOptions = [\n    { value: 'all', label: 'All Status' },\n    { value: 'pending', label: 'Pending' },\n    { value: 'approved', label: 'Approved' },\n    { value: 'rejected', label: 'Rejected' }\n  ]\n\n  const newStock = calculateNewStock()\n  const currentStock = selectedProduct ? (selectedProduct.stock || 0) : 0\n  const currentStockAvailable = selectedProduct ? (selectedProduct.stock_available || 0) : 0\n  const currentStoreAvailable = selectedProduct ? (selectedProduct.store_available || 0) : 0\n\n  // // Clean up timeout on unmount\n  // useEffect(() => {\n  //   return () => {\n  //     if (debounceTimeout.current) {\n  //       clearTimeout(debounceTimeout.current)\n  //     }\n  //   }\n  // }, [])\n\n  return (\n      <div>\n        <Card>\n          <CardHeader>\n            <Row className=\"align-items-center\">\n              <Col>\n                <h4 className=\"mb-0\">\n                  {isAdmin ? 'All Stock Adjustment Requests' : 'My Stock Adjustment Requests'}\n                </h4>\n              </Col>\n            </Row>\n          </CardHeader>\n          <CardBody>\n            <Nav tabs className=\"mb-1\">\n              <NavItem>\n                <NavLink\n                    className={activeTab === '1' ? 'active' : ''}\n                    onClick={() => setActiveTab('1')}\n                >\n                  <Package size={16} className=\"me-1\" />\n                  {isAdmin ? 'All Requests' : 'My Requests'}\n                </NavLink>\n              </NavItem>\n              <NavItem>\n                <NavLink\n                    className={activeTab === '2' ? 'active' : ''}\n                    onClick={() => setActiveTab('2')}\n                >\n                  <Plus size={16} className=\"me-1\" />\n                  New Request\n                </NavLink>\n              </NavItem>\n            </Nav>\n\n            <TabContent activeTab={activeTab}>\n              {/* Tab 1: Requests List */}\n              <TabPane tabId=\"1\">\n                {/* Filter Bar */}\n                <div className=\"d-flex align-items-center gap-2 mb-3\">\n                  {/* Status Filter */}\n                  <select\n                      className=\"form-select form-select-sm\"\n                      style={{ width: '120px' }}\n                      value={filterStatus}\n                      onChange={(e) => setFilterStatus(e.target.value)}\n                  >\n                    {statusOptions.map(option => (\n                        <option key={option.value} value={option.value}>\n                          {option.label}\n                        </option>\n                    ))}\n                  </select>\n\n                  {/* Date Filters */}\n                  <Input\n                      type=\"date\"\n                      value={startDate || ''}\n                      onChange={(e) => setStartDate(e.target.value)}\n                      className=\"form-control-sm\"\n                      style={{ width: '130px' }}\n                      placeholder=\"Start date\"\n                  />\n                  <Input\n                      type=\"date\"\n                      value={endDate || ''}\n                      onChange={(e) => setEndDate(e.target.value)}\n                      className=\"form-control-sm\"\n                      style={{ width: '130px' }}\n                      placeholder=\"End date\"\n                  />\n\n                  {/* Reset Button */}\n                  {(searchTerm || selectedUser || startDate || endDate || filterStatus !== 'all') && (\n                      <Button\n                          color=\"secondary\"\n                          size=\"sm\"\n                          onClick={handleFilterReset}\n                          className=\"d-flex align-items-center\"\n                      >\n                        <RefreshCw size={14} />\n                      </Button>\n                  )}\n                </div>\n\n                {/* Use the same Datatable component */}\n                <Datatable\n                    useDatatable={useStockAdjustmentDatatable}\n                    columns={columns}\n                    title={isAdmin ? \"All Stock Adjustment Requests\" : \"My Stock Adjustment Requests\"}\n                    hasSearch={true}\n                    conditions={{\n                      status: filterStatus !== 'all' ? filterStatus : '',\n                      user_id: selectedUser?.value || ''\n                    }}\n                    dateRange={{\n                      startDate,\n                      endDate\n                    }}\n                    isSticky={true}\n                    initialOrder={{ column: 'created_at', dir: 'desc' }}\n                />\n              </TabPane>\n\n              {/* Tab 2: New Request Form */}\n              <TabPane tabId=\"2\">\n                <Card>\n                  <CardBody>\n                    <Form onSubmit={handleSubmit}>\n                      <Row>\n\n                        <Col md=\"6\">\n                          <FormGroup>\n                            <Label for=\"product-search\">Search Product *</Label>\n                            <AsyncSelect\n                                id=\"product-search\"\n                                isClearable={true}\n                                className='react-select'\n                                classNamePrefix='select'\n                                value={selectedProduct ? {\n                                  value: selectedProduct.id,\n                                  label: selectedProduct.name,\n                                  item: selectedProduct\n                                } : null}\n                                loadOptions={promiseOptions}\n                                defaultOptions={defaultOptions}\n                                cacheOptions\n                                onChange={handleProductSelect}\n                                onInputChange={handleProductSearchInput}\n                                placeholder=\"Search for products...\"\n                                isLoading={loading}\n                                noOptionsMessage={({ inputValue }) => {\n                                  if (!inputValue || inputValue.trim() === '') {\n                                    return \"Start typing to search products\"\n                                  }\n                                  if (loading) {\n                                    return \"Searching...\"\n                                  }\n                                  return \"No products found\"\n                                }}\n                                filterOption={null}\n                                formatOptionLabel={(option, { context }) => {\n                                  // When in the menu (dropdown), show the full JSX label\n                                  if (context === 'menu') {\n                                    return option.label\n                                  }\n                                  // When selected (in the input), just show the name\n                                  return option.item ? option.item.name : option.label\n                                }}\n                                styles={{\n                                  control: (base) => ({\n                                    ...base,\n                                    minHeight: '42px'\n                                  }),\n                                  menu: (base) => ({\n                                    ...base,\n                                    zIndex: 9999\n                                  })\n                                }}\n                            />\n                          </FormGroup>\n                        </Col>\n\n                        <Col md=\"6\">\n                          <FormGroup>\n                            <Label>Current Stock Distribution</Label>\n                            <div className=\"bg-light p-2 rounded\">\n                              {selectedProduct && selectedProduct.image && (\n                                  <div className=\"d-flex align-items-center mb-2\">\n                                    <img\n                                        src={selectedProduct.image}\n                                        alt={selectedProduct.name}\n                                        height=\"40\"\n                                        width=\"40\"\n                                        className=\"mr-2 rounded\"\n                                        onError={(e) => {\n                                          e.target.src = '/static/images/placeholder.png'\n                                        }}\n                                    />\n                                    <a\n                                        className='text-dark font-weight-bold'\n                                        href={`${process.env.REACT_APP_WEBSITE}/product/${selectedProduct.name.replace(/\\s+/g, '-').toLowerCase()}`}\n                                        target='_blank'\n                                        rel=\"noopener noreferrer\"\n                                    >\n                                      {selectedProduct.name}\n                                    </a>        </div>\n                              )}\n                              <div className=\"d-flex justify-content-between\">\n                                <span>Total Stock:</span>\n                                <strong>{currentStock}</strong>\n                              </div>\n                              <div className=\"d-flex justify-content-between\">\n                                <span>Stock Available:</span>\n                                <strong className=\"text-info\">{currentStockAvailable}</strong>\n                              </div>\n                              <div className=\"d-flex justify-content-between\">\n                                <span>Store Available:</span>\n                                <strong className=\"text-warning\">{currentStoreAvailable}</strong>\n                              </div>\n                            </div>\n                          </FormGroup>\n                        </Col>\n                      </Row>\n\n                      {selectedProduct && (\n                          <>\n                            <Row className=\"mt-0\">\n                              <Col md=\"4\">\n                                <FormGroup>\n                                  <Label>Adjustment Type *</Label>\n                                  <div className=\"d-flex flex-column gap-2\">\n                                    <div className=\"d-flex gap-2\">\n                                      <Button\n                                          color={adjustmentType === 'increase' ? 'success' : 'outline-success'}\n                                          onClick={() => {\n                                            setAdjustmentType('increase')\n                                            setAdjustmentLocation('total')\n                                          }}\n                                          className=\"flex-fill\"\n                                          outline={adjustmentType !== 'increase'}\n                                      >\n                                        <Plus size={16} className=\"me-1\" />\n                                        Increase\n                                      </Button>\n                                      <Button\n                                          color={adjustmentType === 'decrease' ? 'danger' : 'outline-danger'}\n                                          onClick={() => {\n                                            setAdjustmentType('decrease')\n                                            setAdjustmentLocation('total')\n                                          }}\n                                          className=\"flex-fill\"\n                                          outline={adjustmentType !== 'decrease'}\n                                      >\n                                        <Minus size={16} className=\"me-1\" />\n                                        Decrease\n                                      </Button>\n                                    </div>\n                                    <Button\n                                        color={adjustmentType === 'transfer' ? 'info' : 'outline-info'}\n                                        onClick={() => setAdjustmentType('transfer')}\n                                        outline={adjustmentType !== 'transfer'}\n                                    >\n                                      <ArrowRight size={16} className=\"me-1\" />\n                                      Transfer Between Locations\n                                    </Button>\n                                  </div>\n                                </FormGroup>\n                              </Col>\n\n                              <Col md=\"4\">\n                                <FormGroup>\n                                  <Label for=\"quantity\">Quantity *</Label>\n                                  <Input\n                                      id=\"quantity\"\n                                      type=\"number\"\n                                      value={quantity}\n                                      onChange={e => {\n                                        const value = e.target.value\n                                        const maxAllowed = getMaxAllowedQuantity()\n\n                                        // Prevent entering values greater than max allowed\n                                        if (value && parseInt(value) > maxAllowed) {\n                                          setQuantity(maxAllowed.toString())\n                                        } else {\n                                          setQuantity(value)\n                                        }\n                                      }}\n                                      onBlur={() => {\n                                        // Auto-correct on blur\n                                        const quantityNum = parseInt(quantity)\n                                        const maxAllowed = getMaxAllowedQuantity()\n\n                                        if ((adjustmentType === 'decrease' || adjustmentType === 'transfer') &&\n                                            quantityNum > maxAllowed &&\n                                            maxAllowed > 0) {\n                                          setQuantity(maxAllowed.toString())\n                                        }\n                                      }}\n                                      min=\"1\"\n                                      max={adjustmentType === 'increase' ? undefined : getMaxAllowedQuantity()}\n                                      required\n                                      placeholder=\"Enter quantity\"\n                                      disabled={formLoading}\n                                  />\n                                  {(adjustmentType === 'decrease' || adjustmentType === 'transfer') && (\n                                      <small className=\"text-muted d-block mt-1\">\n                                        Maximum allowed: {getMaxAllowedQuantity()}\n                                      </small>\n                                  )}\n                                </FormGroup>\n                              </Col>\n\n                              <Col md=\"4\">\n                                <FormGroup>\n                                  <Label>New Stock After Adjustment</Label>\n                                  {newStock && (\n                                      <div className=\"bg-light p-2 rounded\">\n                                        <div className=\"d-flex justify-content-between\">\n                                          <span>Total Stock:</span>\n                                          <strong className={newStock.total < 0 ? 'text-danger' : ''}>\n                                            {newStock.total}\n                                          </strong>\n                                        </div>\n                                        <div className=\"d-flex justify-content-between\">\n                                          <span>Stock Available:</span>\n                                          <strong className={newStock.stock_available < 0 ? 'text-danger' : 'text-info'}>\n                                            {newStock.stock_available}\n                                          </strong>\n                                        </div>\n                                        <div className=\"d-flex justify-content-between\">\n                                          <span>Store Available:</span>\n                                          <strong className={newStock.store_available < 0 ? 'text-danger' : 'text-warning'}>\n                                            {newStock.store_available}\n                                          </strong>\n                                        </div>\n                                      </div>\n                                  )}\n                                </FormGroup>\n                              </Col>\n                            </Row>\n\n                            {/* Adjustment Location/Transfer Settings */}\n                            <Row className=\"mt-3\">\n                              <Col md=\"12\">\n                                {adjustmentType === 'transfer' ? (\n                                    <FormGroup>\n                                      <Label>Transfer Details</Label>\n                                      <div className=\"d-flex align-items-center gap-3\">\n                                        <div className=\"d-flex align-items-center\">\n                                          <select\n                                              className=\"form-select\"\n                                              value={transferFromLocation}\n                                              onChange={(e) => setTransferFromLocation(e.target.value)}\n                                          >\n                                            <option value=\"stock_available\">Stock Available</option>\n                                            <option value=\"store_available\">Store Available</option>\n                                          </select>\n                                          <ArrowRight size={20} className=\"mx-3\" />\n                                          <select\n                                              className=\"form-select\"\n                                              value={transferToLocation}\n                                              onChange={(e) => setTransferToLocation(e.target.value)}\n                                          >\n                                            <option value=\"store_available\">Store Available</option>\n                                            <option value=\"stock_available\">Stock Available</option>\n                                          </select>\n                                        </div>\n                                        <div className=\"text-muted\">\n                                          Transfer {quantity || 0} units from {transferFromLocation === 'stock_available' ? 'Stock Available' : 'Store Available'} to {transferToLocation === 'stock_available' ? 'Stock Available' : 'Store Available'}\n                                        </div>\n                                      </div>\n                                    </FormGroup>\n                                ) : (\n                                    <FormGroup>\n                                      <Label>Adjustment Location</Label>\n                                      <div className=\"d-flex gap-2\">\n                                        <Button\n                                            color={adjustmentLocation === 'total' ? 'primary' : 'outline-primary'}\n                                            onClick={() => setAdjustmentLocation('total')}\n                                            outline={adjustmentLocation !== 'total'}\n                                        >\n                                          Total Stock\n                                        </Button>\n                                        <Button\n                                            color={adjustmentLocation === 'stock_available' ? 'info' : 'outline-info'}\n                                            onClick={() => setAdjustmentLocation('stock_available')}\n                                            outline={adjustmentLocation !== 'stock_available'}\n                                        >\n                                          Stock Available Only\n                                        </Button>\n                                        <Button\n                                            color={adjustmentLocation === 'store_available' ? 'warning' : 'outline-warning'}\n                                            onClick={() => setAdjustmentLocation('store_available')}\n                                            outline={adjustmentLocation !== 'store_available'}\n                                        >\n                                          Store Available Only\n                                        </Button>\n                                      </div>\n                                      <small className=\"text-muted\">\n                                        {adjustmentType === 'increase' ? 'Increase' : 'Decrease'} {adjustmentLocation === 'total' ? 'total stock' : adjustmentLocation === 'stock_available' ? 'stock available only' : 'store available only'}\n                                      </small>\n                                    </FormGroup>\n                                )}\n                              </Col>\n                            </Row>\n                            <div className=\"d-flex gap-2 mt-3\">\n                              <Button\n                                  type=\"submit\"\n                                  color=\"primary\"\n                                  disabled={!selectedProduct || !quantity || quantity <= 0 || formLoading}\n                              >\n                                {formLoading ? (\n                                    <>\n                                      <Spinner size=\"sm\" className=\"me-2\" />\n                                      Submitting...\n                                    </>\n                                ) : (\n                                    'Submit Request'\n                                )}\n                              </Button>\n                              <Button type=\"button\" color=\"secondary\" onClick={resetForm} disabled={formLoading}>\n                                Clear Form\n                              </Button>\n                            </div>\n                          </>\n                      )}\n                    </Form>\n                  </CardBody>\n                </Card>\n              </TabPane>\n            </TabContent>\n          </CardBody>\n        </Card>\n      </div>\n  )\n}\n\nexport default StockAdjustmentRequest"],"sourceRoot":""}