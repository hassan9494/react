{"version":3,"sources":["../node_modules/react-feather/dist/icons/database.js","../node_modules/reactstrap/es/Alert.js","../node_modules/reactstrap/es/ModalHeader.js","../node_modules/reactstrap/es/ModalBody.js","../node_modules/reactstrap/es/ModalFooter.js","../node_modules/reactstrap/es/Portal.js","../node_modules/reactstrap/es/Modal.js","views/stock-adjustment/Approve.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","Database","forwardRef","_ref","ref","_ref$color","color","_ref$size","size","rest","React","createElement","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","rx","ry","d","propTypes","PropTypes","string","oneOfType","number","displayName","ownKeys","object","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","children","node","className","closeClassName","closeAriaLabel","cssModule","fade","bool","isOpen","toggle","func","tag","tagPropType","transition","shape","Fade","innerRef","defaultProps","unmountOnExit","Alert","props","Tag","attributes","classes","mapToCssModules","classNames","closeClasses","alertTransition","baseClass","timeout","in","role","type","onClick","wrapTag","charCode","close","ModalHeader","closeButton","WrapTag","closeIcon","String","fromCharCode","ModalBody","ModalFooter","isRequired","any","Portal","_React$Component","_inheritsLoose","_proto","componentWillUnmount","defaultNode","document","body","removeChild","render","canUseDOM","appendChild","ReactDOM","createPortal","Component","noop","FadePropTypes","autoFocus","centered","scrollable","keyboard","labelledBy","backdrop","oneOf","onEnter","onExit","onOpened","onClosed","wrapClassName","modalClassName","backdropClassName","contentClassName","external","zIndex","backdropTransition","modalTransition","unmountOnClose","returnFocusAfterClose","container","targetPropType","propsToOmit","TransitionTimeouts","Modal","mountOnEnter","_this","_element","_originalBodyPadding","getFocusableChildren","bind","_assertThisInitialized","handleBackdropClick","handleBackdropMouseDown","handleEscape","handleStaticBackdropAnimation","handleTab","manageFocusAfterClose","clearBackdropAnimationTimeout","state","showStaticBackdropAnimation","componentDidMount","_this$props","init","setState","setFocus","_isMounted","componentDidUpdate","prevProps","prevState","style","destroy","isAppearing","onEntered","onExited","_dialog","parentNode","focus","querySelectorAll","focusableElements","join","getFocusedChild","currentFocus","focusableChildren","activeElement","err","e","_mouseDownElement","stopPropagation","which","totalFocusable","focusedIndex","shiftKey","preventDefault","keyCode","keyCodes","esc","_this2","_backdropAnimationTimeout","setTimeout","_triggeringElement","setAttribute","position","_mountContainer","getTarget","getOriginalBodyPadding","conditionallyUpdateScrollbar","openCount","modalOpenClassName","modalOpenClassNameRegex","RegExp","replace","trim","Math","max","setScrollbarWidth","renderModalDialog","_classNames","_this3","omit","dialogBaseClass","c","isModalHidden","display","_this$props2","modalAttributes","onMouseDown","onKeyUp","onKeyDown","tabIndex","hasTransition","Backdrop","clearTimeout","undefined","StockAdjustmentApprove","useState","selectedItem","setSelectedItem","rejectModal","setRejectModal","approveModal","setApproveModal","rejectReason","setRejectReason","approveNotes","setApproveNotes","processingAction","setProcessingAction","processingId","setProcessingId","isAdmin","setIsAdmin","canProceed","message","validationResult","setValidationResult","searchTerm","setSearchTerm","filterStatus","setFilterStatus","selectedUser","setSelectedUser","startDate","setStartDate","endDate","setEndDate","setUsers","useEffect","isCurrentUserAdmin","loadUsers","a","userApi","autocomplete","result","formattedUsers","map","user","value","id","label","name","email","console","error","calculateExpectedStock","item","stockAvailAfter","storeAvailAfter","totalAfter","currentStock","product","current_stock","currentStockAvail","current_stock_available","currentStoreAvail","current_store_available","quantity","is_transfer","transfer_from_location","adjustment_type","adjustment_location","remaining","canAdjustmentBeApproved","currentStockAvailable","currentStoreAvailable","maxAllowed","locationName","newTotal","warning","maxTransfer","sourceAfter","handleApprove","validation","showError","window","confirm","newStock","stockAdjustmentApi","approve","showSuccess","response","data","handleReject","reject","formatDate","dateString","date","Date","toLocaleDateString","toLocaleTimeString","hour","minute","columns","selector","row","sortable","minWidth","cell","productName","imageUrl","image","link","img","imgHeight","imgWidth","onError","src","href","process","toLowerCase","rel","maxWidth","itemId","badgeId","pill","placement","typeBadge","location","config","total","text","stock_available","store_available","transfer","locationBadge","status","historical_stock_available_before","historical_stock_available_after","historical_store_available_before","historical_store_available_after","historical_stock_before","historical_stock_after","expected","pending","icon","tooltip","approved","rejected","statusBadge","created_at","whiteSpace","handleApproveClick","disabled","handleFilterReset","statusOptions","FilterBar","onChange","option","placeholder","useDatatable","useStockAdjustmentDatatable","title","hasSearch","conditions","user_id","dateRange","isSticky","initialOrder","column","dir","sm","alt","objectFit","onerror","backgroundColor","sku","marginRight","isIncrease","isDecrease","isTransfer","safeQuantity","requestedQuantity","min","calculateSafeQuantity","isOverLimit","abs","transfer_to_location","showInfo","autoClose","reason"],"mappings":"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","file":"static/js/183.eecc8dfe.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Database = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: \"12\",\n    cy: \"5\",\n    rx: \"9\",\n    ry: \"3\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5\"\n  }));\n});\nDatabase.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nDatabase.displayName = 'Database';\nexport default Database;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nimport Fade from './Fade';\nvar propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  closeClassName: PropTypes.string,\n  closeAriaLabel: PropTypes.string,\n  cssModule: PropTypes.object,\n  color: PropTypes.string,\n  fade: PropTypes.bool,\n  isOpen: PropTypes.bool,\n  toggle: PropTypes.func,\n  tag: tagPropType,\n  transition: PropTypes.shape(Fade.propTypes),\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  color: 'success',\n  isOpen: true,\n  tag: 'div',\n  closeAriaLabel: 'Close',\n  fade: true,\n  transition: _objectSpread(_objectSpread({}, Fade.defaultProps), {}, {\n    unmountOnExit: true\n  })\n};\n\nfunction Alert(props) {\n  var className = props.className,\n      closeClassName = props.closeClassName,\n      closeAriaLabel = props.closeAriaLabel,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      color = props.color,\n      isOpen = props.isOpen,\n      toggle = props.toggle,\n      children = props.children,\n      transition = props.transition,\n      fade = props.fade,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"closeClassName\", \"closeAriaLabel\", \"cssModule\", \"tag\", \"color\", \"isOpen\", \"toggle\", \"children\", \"transition\", \"fade\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'alert', \"alert-\" + color, {\n    'alert-dismissible': toggle\n  }), cssModule);\n  var closeClasses = mapToCssModules(classNames('close', closeClassName), cssModule);\n\n  var alertTransition = _objectSpread(_objectSpread(_objectSpread({}, Fade.defaultProps), transition), {}, {\n    baseClass: fade ? transition.baseClass : '',\n    timeout: fade ? transition.timeout : 0\n  });\n\n  return /*#__PURE__*/React.createElement(Fade, _extends({}, attributes, alertTransition, {\n    tag: Tag,\n    className: classes,\n    in: isOpen,\n    role: \"alert\",\n    innerRef: innerRef\n  }), toggle ? /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: closeClasses,\n    \"aria-label\": closeAriaLabel,\n    onClick: toggle\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\"\n  }, \"\\xD7\")) : null, children);\n}\n\nAlert.propTypes = propTypes;\nAlert.defaultProps = defaultProps;\nexport default Alert;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  wrapTag: tagPropType,\n  toggle: PropTypes.func,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  children: PropTypes.node,\n  closeAriaLabel: PropTypes.string,\n  charCode: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  close: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'h5',\n  wrapTag: 'div',\n  closeAriaLabel: 'Close',\n  charCode: 215\n};\n\nvar ModalHeader = function ModalHeader(props) {\n  var closeButton;\n\n  var className = props.className,\n      cssModule = props.cssModule,\n      children = props.children,\n      toggle = props.toggle,\n      Tag = props.tag,\n      WrapTag = props.wrapTag,\n      closeAriaLabel = props.closeAriaLabel,\n      charCode = props.charCode,\n      close = props.close,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"children\", \"toggle\", \"tag\", \"wrapTag\", \"closeAriaLabel\", \"charCode\", \"close\"]);\n\n  var classes = mapToCssModules(classNames(className, 'modal-header'), cssModule);\n\n  if (!close && toggle) {\n    var closeIcon = typeof charCode === 'number' ? String.fromCharCode(charCode) : charCode;\n    closeButton = /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: toggle,\n      className: mapToCssModules('close', cssModule),\n      \"aria-label\": closeAriaLabel\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\"\n    }, closeIcon));\n  }\n\n  return /*#__PURE__*/React.createElement(WrapTag, _extends({}, attributes, {\n    className: classes\n  }), /*#__PURE__*/React.createElement(Tag, {\n    className: mapToCssModules('modal-title', cssModule)\n  }, children), close || closeButton);\n};\n\nModalHeader.propTypes = propTypes;\nModalHeader.defaultProps = defaultProps;\nexport default ModalHeader;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar ModalBody = function ModalBody(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'modal-body'), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nModalBody.propTypes = propTypes;\nModalBody.defaultProps = defaultProps;\nexport default ModalBody;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar ModalFooter = function ModalFooter(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'modal-footer'), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nModalFooter.propTypes = propTypes;\nModalFooter.defaultProps = defaultProps;\nexport default ModalFooter;","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { canUseDOM } from './utils';\nvar propTypes = {\n  children: PropTypes.node.isRequired,\n  node: PropTypes.any\n};\n\nvar Portal = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Portal, _React$Component);\n\n  function Portal() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Portal.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.defaultNode) {\n      document.body.removeChild(this.defaultNode);\n    }\n\n    this.defaultNode = null;\n  };\n\n  _proto.render = function render() {\n    if (!canUseDOM) {\n      return null;\n    }\n\n    if (!this.props.node && !this.defaultNode) {\n      this.defaultNode = document.createElement('div');\n      document.body.appendChild(this.defaultNode);\n    }\n\n    return /*#__PURE__*/ReactDOM.createPortal(this.props.children, this.props.node || this.defaultNode);\n  };\n\n  return Portal;\n}(React.Component);\n\nPortal.propTypes = propTypes;\nexport default Portal;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Portal from './Portal';\nimport Fade from './Fade';\nimport { getOriginalBodyPadding, conditionallyUpdateScrollbar, setScrollbarWidth, mapToCssModules, omit, focusableElements, TransitionTimeouts, keyCodes, targetPropType, getTarget } from './utils';\n\nfunction noop() {}\n\nvar FadePropTypes = PropTypes.shape(Fade.propTypes);\nvar propTypes = {\n  isOpen: PropTypes.bool,\n  autoFocus: PropTypes.bool,\n  centered: PropTypes.bool,\n  scrollable: PropTypes.bool,\n  size: PropTypes.string,\n  toggle: PropTypes.func,\n  keyboard: PropTypes.bool,\n  role: PropTypes.string,\n  labelledBy: PropTypes.string,\n  backdrop: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['static'])]),\n  onEnter: PropTypes.func,\n  onExit: PropTypes.func,\n  onOpened: PropTypes.func,\n  onClosed: PropTypes.func,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  wrapClassName: PropTypes.string,\n  modalClassName: PropTypes.string,\n  backdropClassName: PropTypes.string,\n  contentClassName: PropTypes.string,\n  external: PropTypes.node,\n  fade: PropTypes.bool,\n  cssModule: PropTypes.object,\n  zIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  backdropTransition: FadePropTypes,\n  modalTransition: FadePropTypes,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func]),\n  unmountOnClose: PropTypes.bool,\n  returnFocusAfterClose: PropTypes.bool,\n  container: targetPropType\n};\nvar propsToOmit = Object.keys(propTypes);\nvar defaultProps = {\n  isOpen: false,\n  autoFocus: true,\n  centered: false,\n  scrollable: false,\n  role: 'dialog',\n  backdrop: true,\n  keyboard: true,\n  zIndex: 1050,\n  fade: true,\n  onOpened: noop,\n  onClosed: noop,\n  modalTransition: {\n    timeout: TransitionTimeouts.Modal\n  },\n  backdropTransition: {\n    mountOnEnter: true,\n    timeout: TransitionTimeouts.Fade // uses standard fade transition\n\n  },\n  unmountOnClose: true,\n  returnFocusAfterClose: true,\n  container: 'body'\n};\n\nvar Modal = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Modal, _React$Component);\n\n  function Modal(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this._element = null;\n    _this._originalBodyPadding = null;\n    _this.getFocusableChildren = _this.getFocusableChildren.bind(_assertThisInitialized(_this));\n    _this.handleBackdropClick = _this.handleBackdropClick.bind(_assertThisInitialized(_this));\n    _this.handleBackdropMouseDown = _this.handleBackdropMouseDown.bind(_assertThisInitialized(_this));\n    _this.handleEscape = _this.handleEscape.bind(_assertThisInitialized(_this));\n    _this.handleStaticBackdropAnimation = _this.handleStaticBackdropAnimation.bind(_assertThisInitialized(_this));\n    _this.handleTab = _this.handleTab.bind(_assertThisInitialized(_this));\n    _this.onOpened = _this.onOpened.bind(_assertThisInitialized(_this));\n    _this.onClosed = _this.onClosed.bind(_assertThisInitialized(_this));\n    _this.manageFocusAfterClose = _this.manageFocusAfterClose.bind(_assertThisInitialized(_this));\n    _this.clearBackdropAnimationTimeout = _this.clearBackdropAnimationTimeout.bind(_assertThisInitialized(_this));\n    _this.state = {\n      isOpen: false,\n      showStaticBackdropAnimation: false\n    };\n    return _this;\n  }\n\n  var _proto = Modal.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this$props = this.props,\n        isOpen = _this$props.isOpen,\n        autoFocus = _this$props.autoFocus,\n        onEnter = _this$props.onEnter;\n\n    if (isOpen) {\n      this.init();\n      this.setState({\n        isOpen: true\n      });\n\n      if (autoFocus) {\n        this.setFocus();\n      }\n    }\n\n    if (onEnter) {\n      onEnter();\n    }\n\n    this._isMounted = true;\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    if (this.props.isOpen && !prevProps.isOpen) {\n      this.init();\n      this.setState({\n        isOpen: true\n      }); // let render() renders Modal Dialog first\n\n      return;\n    } // now Modal Dialog is rendered and we can refer this._element and this._dialog\n\n\n    if (this.props.autoFocus && this.state.isOpen && !prevState.isOpen) {\n      this.setFocus();\n    }\n\n    if (this._element && prevProps.zIndex !== this.props.zIndex) {\n      this._element.style.zIndex = this.props.zIndex;\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.clearBackdropAnimationTimeout();\n\n    if (this.props.onExit) {\n      this.props.onExit();\n    }\n\n    if (this._element) {\n      this.destroy();\n\n      if (this.props.isOpen || this.state.isOpen) {\n        this.close();\n      }\n    }\n\n    this._isMounted = false;\n  };\n\n  _proto.onOpened = function onOpened(node, isAppearing) {\n    this.props.onOpened();\n    (this.props.modalTransition.onEntered || noop)(node, isAppearing);\n  };\n\n  _proto.onClosed = function onClosed(node) {\n    var unmountOnClose = this.props.unmountOnClose; // so all methods get called before it is unmounted\n\n    this.props.onClosed();\n    (this.props.modalTransition.onExited || noop)(node);\n\n    if (unmountOnClose) {\n      this.destroy();\n    }\n\n    this.close();\n\n    if (this._isMounted) {\n      this.setState({\n        isOpen: false\n      });\n    }\n  };\n\n  _proto.setFocus = function setFocus() {\n    if (this._dialog && this._dialog.parentNode && typeof this._dialog.parentNode.focus === 'function') {\n      this._dialog.parentNode.focus();\n    }\n  };\n\n  _proto.getFocusableChildren = function getFocusableChildren() {\n    return this._element.querySelectorAll(focusableElements.join(', '));\n  };\n\n  _proto.getFocusedChild = function getFocusedChild() {\n    var currentFocus;\n    var focusableChildren = this.getFocusableChildren();\n\n    try {\n      currentFocus = document.activeElement;\n    } catch (err) {\n      currentFocus = focusableChildren[0];\n    }\n\n    return currentFocus;\n  } // not mouseUp because scrollbar fires it, shouldn't close when user scrolls\n  ;\n\n  _proto.handleBackdropClick = function handleBackdropClick(e) {\n    if (e.target === this._mouseDownElement) {\n      e.stopPropagation();\n      var backdrop = this._dialog ? this._dialog.parentNode : null;\n\n      if (backdrop && e.target === backdrop && this.props.backdrop === 'static') {\n        this.handleStaticBackdropAnimation();\n      }\n\n      if (!this.props.isOpen || this.props.backdrop !== true) return;\n\n      if (backdrop && e.target === backdrop && this.props.toggle) {\n        this.props.toggle(e);\n      }\n    }\n  };\n\n  _proto.handleTab = function handleTab(e) {\n    if (e.which !== 9) return;\n    var focusableChildren = this.getFocusableChildren();\n    var totalFocusable = focusableChildren.length;\n    if (totalFocusable === 0) return;\n    var currentFocus = this.getFocusedChild();\n    var focusedIndex = 0;\n\n    for (var i = 0; i < totalFocusable; i += 1) {\n      if (focusableChildren[i] === currentFocus) {\n        focusedIndex = i;\n        break;\n      }\n    }\n\n    if (e.shiftKey && focusedIndex === 0) {\n      e.preventDefault();\n      focusableChildren[totalFocusable - 1].focus();\n    } else if (!e.shiftKey && focusedIndex === totalFocusable - 1) {\n      e.preventDefault();\n      focusableChildren[0].focus();\n    }\n  };\n\n  _proto.handleBackdropMouseDown = function handleBackdropMouseDown(e) {\n    this._mouseDownElement = e.target;\n  };\n\n  _proto.handleEscape = function handleEscape(e) {\n    if (this.props.isOpen && e.keyCode === keyCodes.esc && this.props.toggle) {\n      if (this.props.keyboard) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.props.toggle(e);\n      } else if (this.props.backdrop === 'static') {\n        e.preventDefault();\n        e.stopPropagation();\n        this.handleStaticBackdropAnimation();\n      }\n    }\n  };\n\n  _proto.handleStaticBackdropAnimation = function handleStaticBackdropAnimation() {\n    var _this2 = this;\n\n    this.clearBackdropAnimationTimeout();\n    this.setState({\n      showStaticBackdropAnimation: true\n    });\n    this._backdropAnimationTimeout = setTimeout(function () {\n      _this2.setState({\n        showStaticBackdropAnimation: false\n      });\n    }, 100);\n  };\n\n  _proto.init = function init() {\n    try {\n      this._triggeringElement = document.activeElement;\n    } catch (err) {\n      this._triggeringElement = null;\n    }\n\n    if (!this._element) {\n      this._element = document.createElement('div');\n\n      this._element.setAttribute('tabindex', '-1');\n\n      this._element.style.position = 'relative';\n      this._element.style.zIndex = this.props.zIndex;\n      this._mountContainer = getTarget(this.props.container);\n\n      this._mountContainer.appendChild(this._element);\n    }\n\n    this._originalBodyPadding = getOriginalBodyPadding();\n    conditionallyUpdateScrollbar();\n\n    if (Modal.openCount === 0) {\n      document.body.className = classNames(document.body.className, mapToCssModules('modal-open', this.props.cssModule));\n    }\n\n    Modal.openCount += 1;\n  };\n\n  _proto.destroy = function destroy() {\n    if (this._element) {\n      this._mountContainer.removeChild(this._element);\n\n      this._element = null;\n    }\n\n    this.manageFocusAfterClose();\n  };\n\n  _proto.manageFocusAfterClose = function manageFocusAfterClose() {\n    if (this._triggeringElement) {\n      var returnFocusAfterClose = this.props.returnFocusAfterClose;\n      if (this._triggeringElement.focus && returnFocusAfterClose) this._triggeringElement.focus();\n      this._triggeringElement = null;\n    }\n  };\n\n  _proto.close = function close() {\n    if (Modal.openCount <= 1) {\n      var modalOpenClassName = mapToCssModules('modal-open', this.props.cssModule); // Use regex to prevent matching `modal-open` as part of a different class, e.g. `my-modal-opened`\n\n      var modalOpenClassNameRegex = new RegExp(\"(^| )\" + modalOpenClassName + \"( |$)\");\n      document.body.className = document.body.className.replace(modalOpenClassNameRegex, ' ').trim();\n    }\n\n    this.manageFocusAfterClose();\n    Modal.openCount = Math.max(0, Modal.openCount - 1);\n    setScrollbarWidth(this._originalBodyPadding);\n  };\n\n  _proto.renderModalDialog = function renderModalDialog() {\n    var _classNames,\n        _this3 = this;\n\n    var attributes = omit(this.props, propsToOmit);\n    var dialogBaseClass = 'modal-dialog';\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, attributes, {\n      className: mapToCssModules(classNames(dialogBaseClass, this.props.className, (_classNames = {}, _classNames[\"modal-\" + this.props.size] = this.props.size, _classNames[dialogBaseClass + \"-centered\"] = this.props.centered, _classNames[dialogBaseClass + \"-scrollable\"] = this.props.scrollable, _classNames)), this.props.cssModule),\n      role: \"document\",\n      ref: function ref(c) {\n        _this3._dialog = c;\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: mapToCssModules(classNames('modal-content', this.props.contentClassName), this.props.cssModule)\n    }, this.props.children));\n  };\n\n  _proto.render = function render() {\n    var unmountOnClose = this.props.unmountOnClose;\n\n    if (!!this._element && (this.state.isOpen || !unmountOnClose)) {\n      var isModalHidden = !!this._element && !this.state.isOpen && !unmountOnClose;\n      this._element.style.display = isModalHidden ? 'none' : 'block';\n      var _this$props2 = this.props,\n          wrapClassName = _this$props2.wrapClassName,\n          modalClassName = _this$props2.modalClassName,\n          backdropClassName = _this$props2.backdropClassName,\n          cssModule = _this$props2.cssModule,\n          isOpen = _this$props2.isOpen,\n          backdrop = _this$props2.backdrop,\n          role = _this$props2.role,\n          labelledBy = _this$props2.labelledBy,\n          external = _this$props2.external,\n          innerRef = _this$props2.innerRef;\n      var modalAttributes = {\n        onClick: this.handleBackdropClick,\n        onMouseDown: this.handleBackdropMouseDown,\n        onKeyUp: this.handleEscape,\n        onKeyDown: this.handleTab,\n        style: {\n          display: 'block'\n        },\n        'aria-labelledby': labelledBy,\n        role: role,\n        tabIndex: '-1'\n      };\n      var hasTransition = this.props.fade;\n\n      var modalTransition = _objectSpread(_objectSpread(_objectSpread({}, Fade.defaultProps), this.props.modalTransition), {}, {\n        baseClass: hasTransition ? this.props.modalTransition.baseClass : '',\n        timeout: hasTransition ? this.props.modalTransition.timeout : 0\n      });\n\n      var backdropTransition = _objectSpread(_objectSpread(_objectSpread({}, Fade.defaultProps), this.props.backdropTransition), {}, {\n        baseClass: hasTransition ? this.props.backdropTransition.baseClass : '',\n        timeout: hasTransition ? this.props.backdropTransition.timeout : 0\n      });\n\n      var Backdrop = backdrop && (hasTransition ? /*#__PURE__*/React.createElement(Fade, _extends({}, backdropTransition, {\n        in: isOpen && !!backdrop,\n        cssModule: cssModule,\n        className: mapToCssModules(classNames('modal-backdrop', backdropClassName), cssModule)\n      })) : /*#__PURE__*/React.createElement(\"div\", {\n        className: mapToCssModules(classNames('modal-backdrop', 'show', backdropClassName), cssModule)\n      }));\n      return /*#__PURE__*/React.createElement(Portal, {\n        node: this._element\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: mapToCssModules(wrapClassName)\n      }, /*#__PURE__*/React.createElement(Fade, _extends({}, modalAttributes, modalTransition, {\n        in: isOpen,\n        onEntered: this.onOpened,\n        onExited: this.onClosed,\n        cssModule: cssModule,\n        className: mapToCssModules(classNames('modal', modalClassName, this.state.showStaticBackdropAnimation && 'modal-static'), cssModule),\n        innerRef: innerRef\n      }), external, this.renderModalDialog()), Backdrop));\n    }\n\n    return null;\n  };\n\n  _proto.clearBackdropAnimationTimeout = function clearBackdropAnimationTimeout() {\n    if (this._backdropAnimationTimeout) {\n      clearTimeout(this._backdropAnimationTimeout);\n      this._backdropAnimationTimeout = undefined;\n    }\n  };\n\n  return Modal;\n}(React.Component);\n\nModal.propTypes = propTypes;\nModal.defaultProps = defaultProps;\nModal.openCount = 0;\nexport default Modal;","import React, { useState, useEffect } from 'react'\nimport {\n  Card,\n  CardBody,\n  CardHeader,\n  Badge,\n  Button,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Form,\n  FormGroup,\n  Label,\n  Input,\n  Row,\n  Col,\n  Alert,\n  Spinner,\n  UncontrolledTooltip\n} from 'reactstrap'\nimport {\n  Check,\n  X,\n  Search,\n  AlertCircle,\n  CheckCircle,\n  XCircle,\n  RefreshCw,\n  ChevronRight,\n  Clock,\n  User,\n  ChevronsUp,\n  ChevronsDown,\n  ArrowRight,\n  Package,\n  Database,\n  Home\n} from 'react-feather'\nimport Datatable from '../../@core/components/datatable'\nimport { useStockAdjustmentDatatable } from '../../data/use-stock-adjustment-datatable'\nimport Select from 'react-select'\nimport { api as stockAdjustmentApi } from '../../data/use-stock-adjustment'\nimport { api as userApi } from '../../data/use-user'\nimport { isCurrentUserAdmin } from '../../data/use-auth'\nimport { showError, showSuccess, showInfo } from '../../utility/Utils'\nimport Avatar from '../../@core/components/avatar'\n\nconst StockAdjustmentApprove = () => {\n  const [selectedItem, setSelectedItem] = useState(null)\n  const [rejectModal, setRejectModal] = useState(false)\n  const [approveModal, setApproveModal] = useState(false)\n  const [rejectReason, setRejectReason] = useState('')\n  const [approveNotes, setApproveNotes] = useState('')\n  const [processingAction, setProcessingAction] = useState(false)\n  const [processingId, setProcessingId] = useState(null)\n  const [isAdmin, setIsAdmin] = useState(false)\n  const [validationResult, setValidationResult] = useState({ canProceed: true, message: '' })\n\n  // Filter states\n  const [searchTerm, setSearchTerm] = useState('')\n  const [filterStatus, setFilterStatus] = useState('all')\n  const [selectedUser, setSelectedUser] = useState(null)\n  const [startDate, setStartDate] = useState('')\n  const [endDate, setEndDate] = useState('')\n  const [users, setUsers] = useState([])\n\n  useEffect(() => {\n    setIsAdmin(isCurrentUserAdmin())\n  }, [])\n\n  // Load users for filter\n  const loadUsers = async () => {\n    try {\n      const result = await userApi.autocomplete('')\n      const formattedUsers = result.map(user => ({\n        value: user.id,\n        label: `${user.name} (${user.email})`\n      }))\n      setUsers(formattedUsers)\n    } catch (error) {\n      console.error('Error loading users:', error)\n    }\n  }\n\n  useEffect(() => {\n    if (isAdmin) {\n      loadUsers()\n    }\n  }, [isAdmin])\n\n  // Helper function to calculate expected stock values\n  const calculateExpectedStock = (item) => {\n    if (!item) return { stockAvailAfter: 0, storeAvailAfter: 0, totalAfter: 0 }\n\n    const currentStock = item.product?.current_stock || 0\n    const currentStockAvail = item.product?.current_stock_available || 0\n    const currentStoreAvail = item.product?.current_store_available || 0\n    const quantity = item.quantity\n\n    let stockAvailAfter = currentStockAvail\n    let storeAvailAfter = currentStoreAvail\n    let totalAfter = currentStock\n\n    if (item.is_transfer) {\n      if (item.transfer_from_location === 'stock_available') {\n        stockAvailAfter = Math.max(0, currentStockAvail - quantity)\n        storeAvailAfter = currentStoreAvail + quantity\n      } else {\n        stockAvailAfter = currentStockAvail + quantity\n        storeAvailAfter = Math.max(0, currentStoreAvail - quantity)\n      }\n      totalAfter = currentStock // Total doesn't change for transfers\n    } else if (item.adjustment_type === 'increase') {\n      if (item.adjustment_location === 'total') {\n        stockAvailAfter = currentStockAvail\n        storeAvailAfter = currentStoreAvail + quantity\n        totalAfter = currentStock + quantity\n      } else if (item.adjustment_location === 'stock_available') {\n        stockAvailAfter = currentStockAvail + quantity\n        storeAvailAfter = currentStoreAvail\n        totalAfter = currentStock + quantity\n      } else { // store_available\n        stockAvailAfter = currentStockAvail\n        storeAvailAfter = currentStoreAvail + quantity\n        totalAfter = currentStock + quantity\n      }\n    } else { // decrease\n      if (item.adjustment_location === 'total') {\n        // Take from store_available first\n        if (currentStoreAvail >= quantity) {\n          stockAvailAfter = currentStockAvail\n          storeAvailAfter = currentStoreAvail - quantity\n        } else {\n          const remaining = quantity - currentStoreAvail\n          stockAvailAfter = Math.max(0, currentStockAvail - remaining)\n          storeAvailAfter = 0\n        }\n        totalAfter = Math.max(0, currentStock - quantity)\n      } else if (item.adjustment_location === 'stock_available') {\n        stockAvailAfter = Math.max(0, currentStockAvail - quantity)\n        storeAvailAfter = currentStoreAvail\n        totalAfter = Math.max(0, currentStock - quantity)\n      } else { // store_available\n        stockAvailAfter = currentStockAvail\n        storeAvailAfter = Math.max(0, currentStoreAvail - quantity)\n        totalAfter = Math.max(0, currentStock - quantity)\n      }\n    }\n\n    return { stockAvailAfter, storeAvailAfter, totalAfter }\n  }\n\n  // Function to check if adjustment can be approved\n  const canAdjustmentBeApproved = (item) => {\n    if (!item || !item.product) return { canProceed: false, message: 'Product not found' }\n\n    const currentStock = item.product.current_stock || 0\n    const currentStockAvailable = item.product.current_stock_available || 0\n    const currentStoreAvailable = item.product.current_store_available || 0\n    const quantity = item.quantity\n\n    if (item.adjustment_type === 'decrease') {\n      let maxAllowed = 0\n      let locationName = ''\n\n      switch (item.adjustment_location) {\n        case 'total':\n          maxAllowed = currentStockAvailable + currentStoreAvailable\n          locationName = 'total available stock'\n          break\n        case 'stock_available':\n          maxAllowed = currentStockAvailable\n          locationName = 'stock available'\n          break\n        case 'store_available':\n          maxAllowed = currentStoreAvailable\n          locationName = 'store available'\n          break\n        default:\n          return { canProceed: false, message: 'Invalid adjustment location' }\n      }\n\n      if (quantity > maxAllowed) {\n        return {\n          canProceed: false,\n          message: `Cannot decrease ${quantity} units from ${locationName}. Only ${maxAllowed} units available.`,\n          maxAllowed\n        }\n      }\n\n      // Check if this will leave stock at dangerously low levels\n      if (item.adjustment_location === 'total') {\n        const newTotal = currentStock - quantity\n        if (newTotal <= 5) {\n          return {\n            canProceed: true,\n            message: `Warning: This will reduce total stock to ${newTotal} units.`,\n            warning: true\n          }\n        }\n      }\n    }\n\n    if (item.adjustment_type === 'transfer') {\n      let maxTransfer = 0\n      let locationName = ''\n\n      if (item.transfer_from_location === 'stock_available') {\n        maxTransfer = currentStockAvailable\n        locationName = 'stock available'\n      } else if (item.transfer_from_location === 'store_available') {\n        maxTransfer = currentStoreAvailable\n        locationName = 'store available'\n      } else {\n        return { canProceed: false, message: 'Invalid transfer source location' }\n      }\n\n      if (quantity > maxTransfer) {\n        return {\n          canProceed: false,\n          message: `Cannot transfer ${quantity} units from ${locationName}. Only ${maxTransfer} units available.`,\n          maxAllowed: maxTransfer\n        }\n      }\n\n      // Check if source will be critically low after transfer\n      const sourceAfter = maxTransfer - quantity\n      if (sourceAfter <= 2) {\n        return {\n          canProceed: true,\n          message: `Warning: ${locationName} will have only ${sourceAfter} units remaining after transfer.`,\n          warning: true\n        }\n      }\n    }\n\n    return { canProceed: true }\n  }\n\n  // Function to calculate safe quantity\n  const calculateSafeQuantity = (item) => {\n    if (!item || !item.product) return item?.quantity || 0\n\n    const currentStockAvailable = item.product.current_stock_available || 0\n    const currentStoreAvailable = item.product.current_store_available || 0\n    const requestedQuantity = item.quantity\n\n    if (item.adjustment_type === 'decrease') {\n      let maxAllowed = 0\n\n      switch (item.adjustment_location) {\n        case 'total':\n          maxAllowed = currentStockAvailable + currentStoreAvailable\n          break\n        case 'stock_available':\n          maxAllowed = currentStockAvailable\n          break\n        case 'store_available':\n          maxAllowed = currentStoreAvailable\n          break\n        default:\n          return requestedQuantity\n      }\n\n      return Math.min(requestedQuantity, maxAllowed)\n    }\n\n    if (item.adjustment_type === 'transfer') {\n      let maxTransfer = 0\n\n      if (item.transfer_from_location === 'stock_available') {\n        maxTransfer = currentStockAvailable\n      } else if (item.transfer_from_location === 'store_available') {\n        maxTransfer = currentStoreAvailable\n      }\n\n      return Math.min(requestedQuantity, maxTransfer)\n    }\n\n    return requestedQuantity\n  }\n\n  const handleApproveClick = (item) => {\n    setSelectedItem(item)\n    const validation = canAdjustmentBeApproved(item)\n    setValidationResult(validation)\n    setApproveModal(true)\n  }\n\n  const handleRejectClick = (item) => {\n    setSelectedItem(item)\n    setRejectModal(true)\n  }\n\n  const handleApprove = async () => {\n    if (!selectedItem) return\n\n    // Re-validate before approving\n    const validation = canAdjustmentBeApproved(selectedItem)\n\n    if (!validation.canProceed) {\n      showError(validation.message)\n      return\n    }\n\n    // Additional confirmation for risky operations\n    if (validation.warning) {\n      const confirmProceed = window.confirm(\n          `${validation.message}\\n\\nDo you want to proceed with this adjustment?`\n      )\n      if (!confirmProceed) return\n    }\n\n    // For decrease operations that will leave low stock\n    if (selectedItem.adjustment_type === 'decrease') {\n      const currentStock = selectedItem.product.current_stock || 0\n      const quantity = selectedItem.quantity\n      const newStock = currentStock - quantity\n\n      if (newStock <= 3) {\n        const confirmProceed = window.confirm(\n            ` WARNING: This adjustment will reduce total stock to ${newStock} units.\\n\\n` +\n            `Are you sure you want to approve this?`\n        )\n        if (!confirmProceed) return\n      }\n    }\n\n    try {\n      setProcessingAction(true)\n      setProcessingId(selectedItem.id)\n      await stockAdjustmentApi.approve(selectedItem.id, approveNotes || '')\n      showSuccess('Adjustment approved successfully!')\n      setApproveModal(false)\n      setApproveNotes('')\n      setSelectedItem(null)\n      setValidationResult({ canProceed: true, message: '' })\n    } catch (error) {\n      showError(`Failed to approve adjustment: ${error.response?.data?.message || error.message}`)\n    } finally {\n      setProcessingAction(false)\n      setProcessingId(null)\n    }\n  }\n\n  const handleReject = async () => {\n    if (!selectedItem) return\n\n    try {\n      setProcessingAction(true)\n      setProcessingId(selectedItem.id)\n      await stockAdjustmentApi.reject(selectedItem.id, rejectReason)\n      showSuccess('Adjustment rejected')\n      setRejectModal(false)\n      setRejectReason('')\n      setSelectedItem(null)\n    } catch (error) {\n      showError(`Failed to reject adjustment: ${error.response?.data?.message || error.message}`)\n    } finally {\n      setProcessingAction(false)\n      setProcessingId(null)\n    }\n  }\n\n  const statusBadge = (status, itemId) => {\n    const statusConfig = {\n      pending: {\n        color: 'warning',\n        icon: <AlertCircle size={12} />,\n        text: 'Pending',\n        tooltip: 'Awaiting approval'\n      },\n      approved: {\n        color: 'success',\n        icon: <CheckCircle size={12} />,\n        text: 'Approved',\n        tooltip: 'Approved and processed'\n      },\n      rejected: {\n        color: 'danger',\n        icon: <XCircle size={12} />,\n        text: 'Rejected',\n        tooltip: 'Request was rejected'\n      }\n    }\n\n    const config = statusConfig[status] || {\n      color: 'secondary',\n      icon: null,\n      text: status,\n      tooltip: status\n    }\n\n    const badgeId = `status-badge-${status}-${itemId}`\n\n    return (\n        <>\n          <Badge\n              id={badgeId}\n              color={config.color}\n              className=\"d-flex align-items-center gap-1\"\n              pill\n          >\n            {config.icon}\n            <span>{config.text}</span>\n          </Badge>\n          <UncontrolledTooltip placement=\"top\" target={badgeId}>\n            {config.tooltip}\n          </UncontrolledTooltip>\n        </>\n    )\n  }\n\n  const typeBadge = (type, itemId) => {\n    const badgeId = `type-badge-${type}-${itemId}`\n\n    return (\n        <>\n          <Badge\n              id={badgeId}\n              color={type === 'increase' ? 'success' : type === 'decrease' ? 'danger' : 'info'}\n              className=\"text-uppercase\"\n              pill\n          >\n            {type === 'increase' ? <ChevronsUp size={10} /> : type === 'decrease' ? <ChevronsDown size={10} /> : <ArrowRight size={10} />}\n            <span className=\"ms-1\">{type}</span>\n          </Badge>\n          <UncontrolledTooltip placement=\"top\" target={badgeId}>\n            {type === 'increase' ? 'Increase stock' : type === 'decrease' ? 'Decrease stock' : 'Transfer stock'}\n          </UncontrolledTooltip>\n        </>\n    )\n  }\n\n  const locationBadge = (location) => {\n    const locationConfig = {\n      total: { color: 'primary', text: 'Total' },\n      stock_available: { color: 'info', text: 'Stock Available' },\n      store_available: { color: 'warning', text: 'Store Available' },\n      transfer: { color: 'secondary', text: 'Transfer' }\n    }\n\n    const config = locationConfig[location] || { color: 'secondary', text: location }\n\n    return (\n        <Badge color={config.color} className=\"text-capitalize\">\n          {config.text}\n        </Badge>\n    )\n  }\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'N/A'\n    const date = new Date(dateString)\n    return `${date.toLocaleDateString()} ${date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`\n  }\n\n  const columns = [\n    {\n      name: 'Name',\n      selector: row => row.product?.name,\n      sortable: true,\n      minWidth: '400px',\n      cell: row => {\n        const productName = row.product?.name || 'N/A'\n        const imageUrl = row.product?.image\n        const productLink = row.product?.link\n\n        return (\n            <div className='d-flex align-items-center'>\n              <Avatar\n                  img={imageUrl}\n                  className=\"mr-2\"\n                  imgHeight={32}\n                  imgWidth={32}\n                  onError={(e) => {\n                    e.target.src = '/static/images/placeholder.png'\n                  }}\n              />\n              <a\n                  className='text-dark'\n                  href={`${process.env.REACT_APP_WEBSITE}/product/${productName.replace(/\\s+/g, '-').toLowerCase()}`}\n                  target='_blank'\n                  rel=\"noopener noreferrer\"\n              >\n                {productName}\n              </a>\n            </div>\n        )\n      }\n    },\n    {\n      name: 'Requested By',\n      selector: row => row.user?.name,\n      sortable: true,\n      minWidth: '180px',\n      cell: row => (\n          <div>\n            <div className=\"d-flex align-items-center\">\n              <User size={14} className=\"me-1 text-muted\" />\n              <span className=\"text-truncate d-inline-block\" style={{ maxWidth: '140px' }}>\n              {row.user?.name || 'N/A'}\n            </span>\n            </div>\n            <small className=\"text-muted d-block text-truncate\" style={{ maxWidth: '180px' }}>\n              {row.user?.email || ''}\n            </small>\n          </div>\n      )\n    },\n    {\n      name: 'Type',\n      selector: row => row.adjustment_type,\n      sortable: true,\n      width: '120px',\n      cell: row => typeBadge(row.adjustment_type, row.id)\n    },\n    {\n      name: 'Location',\n      width: '140px',\n      cell: row => {\n        if (row.is_transfer) {\n          return (\n              <div className=\"small\">\n                <div>Transfer</div>\n                <div className=\"text-muted\">\n                  {row.transfer_from_location === 'stock_available' ? 'Stock  Store' : 'Store  Stock'}\n                </div>\n              </div>\n          )\n        }\n        return locationBadge(row.adjustment_location)\n      }\n    },\n    {\n      name: 'Quantity',\n      selector: row => row.quantity,\n      sortable: true,\n      width: '100px',\n      cell: row => (\n          <div className=\"fw-bold text-center\">\n            {row.quantity}\n          </div>\n      )\n    },\n    {\n      name: 'Stock Impact',\n      minWidth: '200px',\n      cell: (row) => {\n        const isProcessed = row.status === 'approved' || row.status === 'rejected'\n\n        if (isProcessed) {\n          // Show historical data for approved/rejected\n          return (\n              <div className=\"small\">\n                <div className=\"d-flex justify-content-between\">\n                  <span className=\"text-muted\">Stock Avail:</span>\n                  <span>\n                  {row.historical_stock_available_before !== 'N/A' ? `${row.historical_stock_available_before}  ${row.historical_stock_available_after}` : 'N/A  N/A'}\n                </span>\n                </div>\n                <div className=\"d-flex justify-content-between\">\n                  <span className=\"text-muted\">Store Avail:</span>\n                  <span>\n                  {row.historical_store_available_before !== 'N/A' ? `${row.historical_store_available_before}  ${row.historical_store_available_after}` : 'N/A  N/A'}\n                </span>\n                </div>\n                <div className=\"d-flex justify-content-between\">\n                  <span className=\"text-muted\">Total:</span>\n                  <span className=\"fw-bold\">\n                  {row.historical_stock_before !== 'N/A' ? `${row.historical_stock_before}  ${row.historical_stock_after}` : 'N/A  N/A'}\n                </span>\n                </div>\n              </div>\n          )\n        } else {\n          // For pending items, calculate expected values\n          const expected = calculateExpectedStock(row)\n          const validation = canAdjustmentBeApproved(row)\n\n          return (\n              <div className=\"small\">\n                <div className=\"d-flex justify-content-between\">\n                  <span className=\"text-muted\">Stock Avail:</span>\n                  <span className={row.adjustment_type === 'decrease' && row.adjustment_location === 'stock_available' && row.quantity > (row.product?.current_stock_available || 0) ? 'text-danger fw-bold' : ''}>\n                  {row.product?.current_stock_available || 0}  {expected.stockAvailAfter}\n                    {row.adjustment_type === 'decrease' && row.adjustment_location === 'stock_available' && row.quantity > (row.product?.current_stock_available || 0) && (\n                        <span className=\"ms-1\"></span>\n                    )}\n                </span>\n                </div>\n                <div className=\"d-flex justify-content-between\">\n                  <span className=\"text-muted\">Store Avail:</span>\n                  <span className={row.adjustment_type === 'decrease' && row.adjustment_location === 'store_available' && row.quantity > (row.product?.current_store_available || 0) ? 'text-danger fw-bold' : ''}>\n                  {row.product?.current_store_available || 0}  {expected.storeAvailAfter}\n                    {row.adjustment_type === 'decrease' && row.adjustment_location === 'store_available' && row.quantity > (row.product?.current_store_available || 0) && (\n                        <span className=\"ms-1\"></span>\n                    )}\n                </span>\n                </div>\n                <div className=\"d-flex justify-content-between\">\n                  <span className=\"text-muted\">Total:</span>\n                  <span className={!validation.canProceed ? 'text-danger fw-bold' : 'fw-bold'}>\n                  {row.product?.current_stock || 0}  {expected.totalAfter}\n                    {!validation.canProceed && (\n                        <span className=\"ms-1\"></span>\n                    )}\n                </span>\n                </div>\n\n              </div>\n          )\n        }\n      }\n    },\n    {\n      name: 'Current Stock',\n      minWidth: '150px',\n      cell: (row) => {\n        const validation = canAdjustmentBeApproved(row)\n\n        return (\n            <div className=\"small\">\n              <div className=\"d-flex justify-content-between\">\n                <span className=\"text-muted\">Stock Avail:</span>\n                <span className={`${row.adjustment_type === 'decrease' && row.adjustment_location === 'stock_available' && row.quantity > (row.product?.current_stock_available || 0) ? 'text-danger fw-bold' : 'text-info fw-medium'}`}>\n                {row.product?.current_stock_available || 0}\n              </span>\n              </div>\n              <div className=\"d-flex justify-content-between\">\n                <span className=\"text-muted\">Store Avail:</span>\n                <span className={`${row.adjustment_type === 'decrease' && row.adjustment_location === 'store_available' && row.quantity > (row.product?.current_store_available || 0) ? 'text-danger fw-bold' : 'text-warning fw-medium'}`}>\n                {row.product?.current_store_available || 0}\n              </span>\n              </div>\n              <div className=\"d-flex justify-content-between\">\n                <span className=\"text-muted\">Total:</span>\n                <span className={`${!validation.canProceed ? 'text-danger fw-bold' : 'fw-bold'}`}>\n                {row.product?.current_stock || 0}\n              </span>\n              </div>\n            </div>\n        )\n      }\n    },\n    {\n      name: 'Status',\n      selector: row => row.status,\n      sortable: true,\n      width: '130px',\n      cell: row => statusBadge(row.status, row.id)\n    },\n    {\n      name: 'Date',\n      selector: row => row.created_at,\n      sortable: true,\n      width: '150px',\n      cell: row => (\n          <div style={{ whiteSpace: 'nowrap' }}>\n            <div className=\"small d-flex align-items-center\">\n              <Clock size={10} className=\"me-1 text-muted\" />\n              {formatDate(row.created_at)}\n            </div>\n          </div>\n      )\n    },\n    {\n      name: 'Actions',\n      minWidth: 'fit-content',\n      cell: (row) => {\n        const validation = canAdjustmentBeApproved(row)\n\n        return (\n            <div className=\"d-flex gap-1\">\n              {row.status === 'pending' ? (\n                  <>\n                    <Button\n                        id={`approve-btn-${row.id}`}\n                        color={validation.canProceed ? \"success\" : \"secondary\"}\n                        size=\"sm\"\n                        onClick={() => handleApproveClick(row)}\n                        disabled={processingAction && processingId === row.id}\n                        className=\"d-flex align-items-center justify-content-center\"\n                        style={{ width: '32px', height: '32px' }}\n                    >\n                      {processingAction && processingId === row.id ? (\n                          <Spinner size=\"sm\" />\n                      ) : (\n                          <>\n                            {validation.canProceed ? <Check size={14} /> : <AlertCircle size={14} />}\n                          </>\n                      )}\n                    </Button>\n                    <UncontrolledTooltip placement=\"top\" target={`approve-btn-${row.id}`}>\n                      {validation.canProceed ? 'Approve this request' : 'Cannot approve - insufficient stock'}\n                    </UncontrolledTooltip>\n\n                    <Button\n                        id={`reject-btn-${row.id}`}\n                        color=\"danger\"\n                        size=\"sm\"\n                        onClick={() => handleRejectClick(row)}\n                        disabled={processingAction && processingId === row.id}\n                        className=\"d-flex align-items-center justify-content-center\"\n                        style={{ width: '32px', height: '32px' }}\n                    >\n                      {processingAction && processingId === row.id ? (\n                          <Spinner size=\"sm\" />\n                      ) : (\n                          <X size={14} />\n                      )}\n                    </Button>\n                    <UncontrolledTooltip placement=\"top\" target={`reject-btn-${row.id}`}>\n                      Reject this request\n                    </UncontrolledTooltip>\n                  </>\n              ) : (\n                  <Button\n                      color=\"light\"\n                      size=\"sm\"\n                      disabled\n                      className=\"text-muted\"\n                  >\n                    {row.status === 'approved' ? 'Approved' : 'Rejected'}\n                  </Button>\n              )}\n            </div>\n        )\n      }\n    }\n  ]\n\n  const handleFilterReset = () => {\n    setSearchTerm('')\n    setSelectedUser(null)\n    setStartDate('')\n    setEndDate('')\n    setFilterStatus('all')\n  }\n\n  // Filter status options\n  const statusOptions = [\n    { value: 'all', label: 'All Status' },\n    { value: 'pending', label: 'Pending' },\n    { value: 'approved', label: 'Approved' },\n    { value: 'rejected', label: 'Rejected' }\n  ]\n\n  if (!isAdmin) {\n    return (\n        <Card>\n          <CardBody className=\"text-center py-5\">\n            <Alert color=\"danger\" className=\"mb-4\">\n              <AlertCircle size={24} className=\"me-2\" />\n              <h4>Access Denied</h4>\n              <p>Only administrators, super users, and stock managers can access this page.</p>\n            </Alert>\n            <Button color=\"primary\" href=\"/stock-adjustments/request\">\n              Go to Request Page\n            </Button>\n          </CardBody>\n        </Card>\n    )\n  }\n\n  // Filter bar component\n  const FilterBar = () => (\n      <div className=\"d-flex align-items-center gap-2 mb-3\">\n        {/* Status Filter */}\n        <select\n            className=\"form-select form-select-sm\"\n            style={{ width: '120px' }}\n            value={filterStatus}\n            onChange={(e) => setFilterStatus(e.target.value)}\n        >\n          {statusOptions.map(option => (\n              <option key={option.value} value={option.value}>\n                {option.label}\n              </option>\n          ))}\n        </select>\n\n        {/* Date Filters */}\n        <Input\n            type=\"date\"\n            value={startDate || ''}\n            onChange={(e) => setStartDate(e.target.value)}\n            className=\"form-control-sm\"\n            style={{ width: '130px' }}\n            placeholder=\"Start date\"\n        />\n        <Input\n            type=\"date\"\n            value={endDate || ''}\n            onChange={(e) => setEndDate(e.target.value)}\n            className=\"form-control-sm\"\n            style={{ width: '130px' }}\n            placeholder=\"End date\"\n        />\n\n        {/* Reset Button */}\n        {(searchTerm || selectedUser || startDate || endDate || filterStatus !== 'all') && (\n            <Button\n                color=\"secondary\"\n                size=\"sm\"\n                onClick={handleFilterReset}\n                className=\"d-flex align-items-center\"\n            >\n              <RefreshCw size={14} />\n            </Button>\n        )}\n      </div>\n  )\n\n  return (\n      <>\n        <Card>\n          <CardHeader>\n            <h4 className=\"mb-0\">Stock Adjustment Approvals</h4>\n          </CardHeader>\n          <CardBody>\n            <FilterBar />\n            <Datatable\n                useDatatable={useStockAdjustmentDatatable}\n                columns={columns}\n                title=\"\"\n                hasSearch={true}\n                conditions={{\n                  status: filterStatus,\n                  user_id: selectedUser?.value || ''\n                }}\n                dateRange={{\n                  startDate,\n                  endDate\n                }}\n                isSticky={true}\n                initialOrder={{ column: 'created_at', dir: 'desc' }}\n            />\n          </CardBody>\n        </Card>\n\n        {/* Approve Modal */}\n        <Modal isOpen={approveModal} toggle={() => !processingAction && setApproveModal(false)}>\n          <ModalHeader toggle={() => !processingAction && setApproveModal(false)}>\n            <CheckCircle size={20} className=\"me-2 text-success\" />\n            Approve Stock Adjustment\n          </ModalHeader>\n          <ModalBody>\n            {selectedItem && (\n                <>\n                  <div className=\"mb-3\">\n                    <h6>Adjustment Details</h6>\n\n                    {/* Product Row with Image */}\n                    <Row className=\"mb-2 align-items-center\">\n                      <Col sm=\"3\" className=\"text-muted\">Product:</Col>\n                      <Col sm=\"9\">\n                        <div className=\"d-flex align-items-center\">\n                          {/* Product Image */}\n                          {selectedItem.product?.image ? (\n                              <img\n                                  src={selectedItem.product.image}\n                                  alt={selectedItem.product?.name || 'Product'}\n                                  height=\"50\"\n                                  width=\"50\"\n                                  className=\"rounded me-3\"\n                                  style={{ objectFit: 'cover' }}\n                                  onError={(e) => {\n                                    e.target.src = '/static/images/placeholder.png'\n                                    e.target.onerror = null\n                                  }}\n                              />\n                          ) : (\n                              <div\n                                  className=\"rounded me-3 d-flex align-items-center justify-content-center\"\n                                  style={{\n                                    height: '50px',\n                                    width: '50px',\n                                    backgroundColor: '#f8f9fa',\n                                    color: '#6c757d'\n                                  }}\n                              >\n                                <Package size={24} />\n                              </div>\n                          )}\n\n                          {/* Product Details */}\n                          <div>\n                            <strong className=\"d-block\">{selectedItem.product?.name || 'N/A'}</strong>\n                            <div className=\"small text-muted\">SKU: {selectedItem.product?.sku || 'N/A'}</div>\n                            {selectedItem.product?.current_stock !== undefined && (\n                                <div className=\"small text-muted\">\n                                  Current Total Stock: <span className=\"fw-bold\">{selectedItem.product.current_stock}</span>\n                                </div>\n                            )}\n                          </div>\n                        </div>\n                      </Col>\n                    </Row>\n\n                    <Row className=\"mb-2\">\n                      <Col sm=\"4\" className=\"text-muted\">Requested By:</Col>\n                      <Col sm=\"8\">\n                        <div>{selectedItem.user?.name || 'N/A'}</div>\n                        <div className=\"small text-muted\">{selectedItem.user?.email || ''}</div>\n                      </Col>\n                    </Row>\n\n                    <Row className=\"mb-2\">\n                      <Col sm=\"4\" className=\"text-muted\">Adjustment:</Col>\n                      <Col sm=\"8\">\n                        <Badge color={selectedItem.adjustment_type === 'increase' ? 'success' : selectedItem.adjustment_type === 'decrease' ? 'danger' : 'info'}>\n                          {selectedItem.adjustment_type} {selectedItem.quantity} units\n                        </Badge>\n                        {selectedItem.is_transfer && (\n                            <div className=\"small text-muted mt-1\">\n                              {selectedItem.transfer_from_location === 'stock_available' ? 'Stock  Store' : 'Store  Stock'}\n                            </div>\n                        )}\n                      </Col>\n                    </Row>\n\n                    <hr className=\"my-2\" />\n\n                    <h6 className=\"mt-3\">Stock Changes</h6>\n\n                    {/* Current Stock Row with Visual Indicators */}\n                    <Row className=\"mb-2\">\n                      <Col sm=\"4\" className=\"text-muted\">Current Stock:</Col>\n                      <Col sm=\"8\">\n                        <div className=\"mb-1\">\n                          <div className=\"d-flex align-items-center\">\n                            <div className=\"rounded-circle bg-info\" style={{ width: '8px', height: '8px', marginRight: '8px' }}></div>\n                            <Database size={12} className=\"me-1 text-info\" />\n                            <span className=\"text-muted small\">Stock Available:</span>\n                            <span className=\"fw-medium ms-2 small text-info\">{selectedItem.product?.current_stock_available || 0}</span>\n                          </div>\n                        </div>\n                        <div className=\"mb-1\">\n                          <div className=\"d-flex align-items-center\">\n                            <div className=\"rounded-circle bg-warning\" style={{ width: '8px', height: '8px', marginRight: '8px' }}></div>\n                            <Home size={12} className=\"me-1 text-warning\" />\n                            <span className=\"text-muted small\">Store Available:</span>\n                            <span className=\"fw-medium ms-2 small text-warning\">{selectedItem.product?.current_store_available || 0}</span>\n                          </div>\n                        </div>\n                        <div>\n                          <div className=\"d-flex align-items-center\">\n                            <div className=\"rounded-circle bg-primary\" style={{ width: '8px', height: '8px', marginRight: '8px' }}></div>\n                            <Package size={12} className=\"me-1 text-primary\" />\n                            <span className=\"text-muted small\">Total:</span>\n                            <span className=\"fw-bold ms-2 small\">{selectedItem.product?.current_stock || 0}</span>\n                          </div>\n                        </div>\n                      </Col>\n                    </Row>\n\n                    {/* After Adjustment Row with Visual Indicators */}\n                    <Row className=\"mb-2\">\n                      <Col sm=\"4\" className=\"text-muted\">After Adjustment:</Col>\n                      <Col sm=\"8\">\n                        {(() => {\n                          const expected = calculateExpectedStock(selectedItem)\n                          const isIncrease = selectedItem.adjustment_type === 'increase'\n                          const isDecrease = selectedItem.adjustment_type === 'decrease'\n                          const isTransfer = selectedItem.adjustment_type === 'transfer'\n\n                          // Calculate safe maximum\n                          const safeQuantity = calculateSafeQuantity(selectedItem)\n                          const isOverLimit = selectedItem.quantity > safeQuantity\n\n                          return (\n                              <>\n                                <div className=\"mb-1\">\n                                  <div className=\"d-flex align-items-center\">\n                                    <div className=\"rounded-circle bg-info\" style={{ width: '8px', height: '8px', marginRight: '8px' }}></div>\n                                    <Database size={12} className=\"me-1 text-info\" />\n                                    <span className=\"text-muted small\">Stock Available:</span>\n                                    <span className={`fw-bold ms-2 small ${\n                                        isOverLimit && selectedItem.adjustment_type === 'decrease' && selectedItem.adjustment_location === 'stock_available' ? 'text-danger' : isIncrease ? 'text-success' : isDecrease ? 'text-danger' : isTransfer ? 'text-info' : ''\n                                    }`}>\n                                {expected.stockAvailAfter}\n                                      {expected.stockAvailAfter !== selectedItem.product?.current_stock_available && (\n                                          <span className=\"ms-1\">\n                                    ({isIncrease ? '+' : isDecrease ? '-' : ''}{Math.abs(expected.stockAvailAfter - (selectedItem.product?.current_stock_available || 0))})\n                                  </span>\n                                      )}\n                                      {isOverLimit && selectedItem.adjustment_type === 'decrease' && selectedItem.adjustment_location === 'stock_available' && (\n                                          <span className=\"ms-1\"></span>\n                                      )}\n                              </span>\n                                  </div>\n                                </div>\n                                <div className=\"mb-1\">\n                                  <div className=\"d-flex align-items-center\">\n                                    <div className=\"rounded-circle bg-warning\" style={{ width: '8px', height: '8px', marginRight: '8px' }}></div>\n                                    <Home size={12} className=\"me-1 text-warning\" />\n                                    <span className=\"text-muted small\">Store Available:</span>\n                                    <span className={`fw-bold ms-2 small ${\n                                        isOverLimit && selectedItem.adjustment_type === 'decrease' && selectedItem.adjustment_location === 'store_available' ? 'text-danger' : isIncrease ? 'text-success' : isDecrease ? 'text-danger' : isTransfer ? 'text-info' : ''\n                                    }`}>\n                                {expected.storeAvailAfter}\n                                      {expected.storeAvailAfter !== selectedItem.product?.current_store_available && (\n                                          <span className=\"ms-1\">\n                                    ({isIncrease ? '+' : isDecrease ? '-' : ''}{Math.abs(expected.storeAvailAfter - (selectedItem.product?.current_store_available || 0))})\n                                  </span>\n                                      )}\n                                      {isOverLimit && selectedItem.adjustment_type === 'decrease' && selectedItem.adjustment_location === 'store_available' && (\n                                          <span className=\"ms-1\"></span>\n                                      )}\n                              </span>\n                                  </div>\n                                </div>\n                                <div>\n                                  <div className=\"d-flex align-items-center\">\n                                    <div className=\"rounded-circle bg-primary\" style={{ width: '8px', height: '8px', marginRight: '8px' }}></div>\n                                    <Package size={12} className=\"me-1 text-primary\" />\n                                    <span className=\"text-muted small\">Total:</span>\n                                    <span className={`fw-bold ms-2 small ${\n                                        isOverLimit ? 'text-danger' : isIncrease ? 'text-success' : isDecrease ? 'text-danger' : isTransfer ? 'text-info' : ''\n                                    }`}>\n                                {expected.totalAfter}\n                                      {expected.totalAfter !== selectedItem.product?.current_stock && (\n                                          <span className=\"ms-1\">\n                                    ({isIncrease ? '+' : isDecrease ? '-' : ''}{Math.abs(expected.totalAfter - (selectedItem.product?.current_stock || 0))})\n                                  </span>\n                                      )}\n                                      {isOverLimit && (\n                                          <span className=\"ms-1\"></span>\n                                      )}\n                              </span>\n                                  </div>\n                                </div>\n\n                                {/* Stock Availability Validation */}\n                                {validationResult.canProceed === false && (\n                                    <Alert color=\"danger\" className=\"mt-3\">\n                                      <div className=\"d-flex align-items-start\">\n                                        <AlertCircle size={16} className=\"me-2 mt-1\" />\n                                        <div>\n                                          <strong> Cannot Approve:</strong> {validationResult.message}\n                                          <div className=\"mt-2\">\n                                            <small>\n                                              <div>Maximum allowed: <strong>{validationResult.maxAllowed}</strong> units</div>\n                                              <div>Requested: <strong>{selectedItem.quantity}</strong> units</div>\n                                              <div className=\"mt-1 text-danger\">\n                                                <em>This adjustment cannot be approved with the current stock levels.</em>\n                                              </div>\n                                            </small>\n                                          </div>\n                                        </div>\n                                      </div>\n                                    </Alert>\n                                )}\n\n                                {validationResult.canProceed && validationResult.warning && (\n                                    <Alert color=\"warning\" className=\"mt-3\">\n                                      <div className=\"d-flex align-items-start\">\n                                        <AlertCircle size={16} className=\"me-2 mt-1\" />\n                                        <div>\n                                          <strong> Warning:</strong> {validationResult.message}\n                                          <div className=\"mt-2\">\n                                            <small>\n                                              <em>This adjustment may leave stock at critically low levels. Please verify before approving.</em>\n                                            </small>\n                                          </div>\n                                        </div>\n                                      </div>\n                                    </Alert>\n                                )}\n\n                                {/* Low Stock Warning */}\n                                {selectedItem.adjustment_type === 'decrease' && validationResult.canProceed && !validationResult.warning && (\n                                    (() => {\n                                      const currentStock = selectedItem.product?.current_stock || 0\n                                      const newStock = currentStock - selectedItem.quantity\n                                      if (newStock <= 5) {\n                                        return (\n                                            <Alert color=\"warning\" className=\"mt-3\">\n                                              <div className=\"d-flex align-items-start\">\n                                                <AlertCircle size={16} className=\"me-2 mt-1\" />\n                                                <div>\n                                                  <strong> Low Stock Warning:</strong> After this adjustment, total stock will be reduced to <strong>{newStock}</strong> units.\n                                                  <div className=\"mt-2\">\n                                                    <small>\n                                                      <em>Consider if this is acceptable for your inventory levels.</em>\n                                                    </small>\n                                                  </div>\n                                                </div>\n                                              </div>\n                                            </Alert>\n                                        )\n                                      }\n                                      return null\n                                    })()\n                                )}\n\n                                {/* Visual Summary */}\n                                {isTransfer && (\n                                    <div className=\"mt-2 p-2 bg-light rounded\">\n                                      <div className=\"small text-center\">\n                                        <ArrowRight size={12} className=\"me-1\" />\n                                        Transferring {selectedItem.quantity} units from{' '}\n                                        {selectedItem.transfer_from_location === 'stock_available' ? 'Stock Available' : 'Store Available'} to{' '}\n                                        {selectedItem.transfer_to_location === 'stock_available' ? 'Stock Available' : 'Store Available'}\n                                      </div>\n                                    </div>\n                                )}\n\n                                {/* Suggestion for safe quantity if over limit */}\n                                {isOverLimit && validationResult.maxAllowed && validationResult.maxAllowed > 0 && (\n                                    <div className=\"mt-2\">\n                                      <Button\n                                          color=\"info\"\n                                          size=\"sm\"\n                                          className=\"d-flex align-items-center\"\n                                          onClick={() => {\n                                            showInfo(`Maximum safe quantity: ${validationResult.maxAllowed} units\\n\\nPlease reject this request and ask the user to resubmit with a valid quantity.`, {\n                                              position: 'top-center',\n                                              autoClose: 5000\n                                            })\n                                          }}\n                                      >\n                                        <RefreshCw size={14} className=\"me-1\" />\n                                        Show Safe Quantity Limit\n                                      </Button>\n                                    </div>\n                                )}\n                              </>\n                          )\n                        })()}\n                      </Col>\n                    </Row>\n\n                    {/* Reason for adjustment */}\n                    {selectedItem.reason && (\n                        <Row className=\"mt-3\">\n                          <Col sm=\"4\" className=\"text-muted\">Reason:</Col>\n                          <Col sm=\"8\">\n                            <div className=\"bg-light p-2 rounded small\">\n                              {selectedItem.reason}\n                            </div>\n                          </Col>\n                        </Row>\n                    )}\n                  </div>\n\n                </>\n            )}\n          </ModalBody>\n          <ModalFooter>\n            <Button\n                color={validationResult.canProceed ? \"success\" : \"secondary\"}\n                onClick={handleApprove}\n                disabled={processingAction || !validationResult.canProceed}\n                className=\"d-flex align-items-center\"\n            >\n              {processingAction ? (\n                  <>\n                    <Spinner size=\"sm\" className=\"me-2\" />\n                    Processing...\n                  </>\n              ) : (\n                  <>\n                    <Check size={14} className=\"me-1\" />\n                    {validationResult.canProceed ? 'Approve Adjustment' : 'Cannot Approve'}\n                  </>\n              )}\n            </Button>\n            <Button\n                color=\"secondary\"\n                onClick={() => {\n                  setApproveModal(false)\n                  setValidationResult({ canProceed: true, message: '' })\n                }}\n                disabled={processingAction}\n            >\n              Cancel\n            </Button>\n          </ModalFooter>\n        </Modal>\n\n        {/* Reject Modal */}\n        <Modal isOpen={rejectModal} toggle={() => !processingAction && setRejectModal(false)}>\n          <ModalHeader toggle={() => !processingAction && setRejectModal(false)}>\n            <XCircle size={20} className=\"me-2 text-danger\" />\n            Reject Stock Adjustment\n          </ModalHeader>\n          <ModalBody>\n            {selectedItem && (\n                <>\n                  <div className=\"mb-3\">\n                    <h6>Adjustment Details</h6>\n                    <Row className=\"mb-2\">\n                      <Col sm=\"4\" className=\"text-muted\">Product:</Col>\n                      <Col sm=\"8\">\n                        <strong>{selectedItem.product?.name || 'N/A'}</strong>\n                        <div className=\"small text-muted\">SKU: {selectedItem.product?.sku || 'N/A'}</div>\n                      </Col>\n                    </Row>\n                    <Row className=\"mb-2\">\n                      <Col sm=\"4\" className=\"text-muted\">Requested By:</Col>\n                      <Col sm=\"8\">\n                        <div>{selectedItem.user?.name || 'N/A'}</div>\n                        <div className=\"small text-muted\">{selectedItem.user?.email || ''}</div>\n                      </Col>\n                    </Row>\n                    <Row className=\"mb-2\">\n                      <Col sm=\"4\" className=\"text-muted\">Adjustment:</Col>\n                      <Col sm=\"8\">\n                        <Badge color={selectedItem.adjustment_type === 'increase' ? 'success' : selectedItem.adjustment_type === 'decrease' ? 'danger' : 'info'}>\n                          {selectedItem.adjustment_type} {selectedItem.quantity} units\n                        </Badge>\n                        {selectedItem.is_transfer && (\n                            <div className=\"small text-muted mt-1\">\n                              {selectedItem.transfer_from_location === 'stock_available' ? 'Stock  Store' : 'Store  Stock'}\n                            </div>\n                        )}\n                      </Col>\n                    </Row>\n\n                    {/* Stock validation info for rejection */}\n                    {(() => {\n                      const validation = canAdjustmentBeApproved(selectedItem)\n                      if (!validation.canProceed) {\n                        return (\n                            <Alert color=\"info\" className=\"mt-3\">\n                              <div className=\"d-flex align-items-start\">\n                                <AlertCircle size={16} className=\"me-2 mt-1\" />\n                                <div>\n                                  <strong>Stock Issue Detected:</strong> This request cannot be approved due to insufficient stock.\n                                  <div className=\"mt-1\">\n                                    <small>\n                                      Consider rejecting with reason: \"Insufficient stock - only {validation.maxAllowed} units available\"\n                                    </small>\n                                  </div>\n                                </div>\n                              </div>\n                            </Alert>\n                        )\n                      }\n                      return null\n                    })()}\n                  </div>\n\n                </>\n            )}\n          </ModalBody>\n          <ModalFooter>\n            <Button\n                color=\"danger\"\n                onClick={handleReject}\n                disabled={processingAction}\n                className=\"d-flex align-items-center\"\n            >\n              {processingAction ? (\n                  <>\n                    <Spinner size=\"sm\" className=\"me-2\" />\n                    Processing...\n                  </>\n              ) : (\n                  <>\n                    <X size={14} className=\"me-1\" />\n                    Reject Adjustment\n                  </>\n              )}\n            </Button>\n            <Button\n                color=\"secondary\"\n                onClick={() => setRejectModal(false)}\n                disabled={processingAction}\n            >\n              Cancel\n            </Button>\n          </ModalFooter>\n        </Modal>\n      </>\n  )\n}\n\nexport default StockAdjustmentApprove"],"sourceRoot":""}