(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[118],{143:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"c",(function(){return d})),r.d(t,"b",(function(){return j}));var n=r(2),a=r(57),c=r.n(a),i=r(58),s=(r(65),r(64)),o=r(63),u="user",l={create:function(e){return o.a.create(u,e)},update:function(e,t){return o.a.update(u,e,t)},delete:function(e){return o.a.delete(u,e)},autocomplete:function(){var e=Object(i.a)(c.a.mark((function e(t){var r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("".concat(u,"/autocomplete?q=").concat(t));case 2:return r=e.sent,n=r.data,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),changePassword:function(){var e=Object(i.a)(c.a.mark((function e(t,r){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("".concat(u,"/").concat(t,"/change-password"),r);case 2:return n=e.sent,a=n.data,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),verificationEmail:function(){var e=Object(i.a)(c.a.mark((function e(t){var r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("".concat(u,"/").concat(t,"/verification-email"));case 2:return r=e.sent,n=r.data,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function d(e){return Object(o.c)(u,e)}function j(e){var t=Object(o.b)(u,"".concat(u,"/datatable"),e);return t.mutates=Object(n.a)(Object(n.a)({},t.mutates),{},{verificationEmail:l.verificationEmail}),t}},303:function(e,t,r){"use strict";var n=r(544),a=r(3);t.a=function(e){var t=e.errors;return t?Object(a.jsx)(n.a,{color:"danger",children:Object.keys(t).map((function(e){return Object(a.jsx)("div",{className:"alert-body",children:t[e][0]})}))}):Object(a.jsx)(a.Fragment,{})}},62:function(e,t,r){"use strict";var n=r(61),a=r(79),c=r(80),i=r(3);t.a=function(e){var t=e.breadCrumbTitle,r=e.breadCrumbParent,s=e.breadCrumbParent2,o=e.breadCrumbParent3,u=e.breadCrumbActive,l=e.right;return Object(i.jsxs)("div",{className:"content-header row",children:[Object(i.jsx)("div",{className:"content-header-left col-9 mb-2",children:Object(i.jsx)("div",{className:"row breadcrumbs-top",children:Object(i.jsxs)("div",{className:"col-12",children:[t?Object(i.jsx)("h2",{className:"content-header-title float-left mb-0",children:t}):"",Object(i.jsx)("div",{className:"breadcrumb-wrapper vs-breadcrumbs d-sm-block d-none col-12",children:Object(i.jsxs)(a.a,{children:[Object(i.jsx)(c.a,{tag:"li",children:Object(i.jsx)(n.b,{to:"/",children:"Home"})}),r&&Object(i.jsx)(c.a,{tag:"li",className:"text-primary",children:r}),s?Object(i.jsx)(c.a,{tag:"li",className:"text-primary",children:s}):"",o?Object(i.jsx)(c.a,{tag:"li",className:"text-primary",children:o}):"",Object(i.jsx)(c.a,{tag:"li",active:!0,children:u})]})})]})})}),l?Object(i.jsx)("div",{className:"content-header-right text-md-right col-3",children:Object(i.jsx)("div",{className:"form-group breadcrum-right dropdown",children:l})}):""]})}},63:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return d})),r.d(t,"b",(function(){return j})),r.d(t,"e",(function(){return b}));var n=r(57),a=r.n(n),c=r(58),i=r(65),s=r(64),o=function(e){return s.a.get(e).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.data}))},u={create:function(){var e=Object(c.a)(a.a.mark((function e(t,r){var n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post(t,r);case 2:return n=e.sent,c=n.data,e.abrupt("return",null===c||void 0===c?void 0:c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),update:function(){var e=Object(c.a)(a.a.mark((function e(t,r,n){var c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.put("".concat(t,"/").concat(r),n);case 2:return c=e.sent,i=c.data,e.abrupt("return",null===i||void 0===i?void 0:i.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),delete:function(){var e=Object(c.a)(a.a.mark((function e(t,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.delete("".concat(t,"/").concat(r));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()};function l(e,t){var r=Object(i.a)("".concat(e,"/").concat(t),o),n=r.data,s=r.mutate,l=r.error;return{loading:!n&&!l,error:l,data:n,mutate:s,update:function(){var r=Object(c.a)(a.a.mark((function r(n){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.update(e,t,n);case 2:return r.next=4,s();case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}}function d(e){var t=Object(i.a)(e,o,{revalidateOnFocus:!1,revalidateOnReconnect:!1,refreshWhenOffline:!1,refreshWhenHidden:!1,refreshInterval:0}),r=t.data,n=t.mutate,s=t.error;return{loading:!r&&!s,error:s,data:r||[],mutate:n,create:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.create(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}function j(e,t,r){var n=r.page,s=r.limit,l=r.search,d=r.order,j=void 0===d?{}:d,b=r.conditions,m=void 0===b?{}:b,f="".concat(t,"?page=").concat(n,"&limit=").concat(s,"&search=").concat(l,"&order=").concat(JSON.stringify(j),"&conditions=").concat(JSON.stringify(m)),p=Object(i.a)(f,o),v=p.data,h=p.mutate,x=p.error;return{loading:!v&&!x,error:x,data:(null===v||void 0===v?void 0:v.items)||[],total:(null===v||void 0===v?void 0:v.total)||0,mutate:h,mutates:{delete:function(){var t=Object(c.a)(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.delete(e,r);case 2:return t.next=4,h(f);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}}function b(e,t){var r=t.conditions,n="".concat(e,"?conditions=").concat(JSON.stringify(r)),a=Object(i.a)(n,o),c=a.data,s=a.mutate,u=a.error;return{loading:!c&&!u,error:u,data:(null===c||void 0===c?void 0:c.items)||[],total:(null===c||void 0===c?void 0:c.total)||0,mutate:s}}},825:function(e,t,r){"use strict";r.r(t);var n=r(57),a=r.n(n),c=r(58),i=r(8),s=r(0),o=r(62),u=r(300),l=r(105),d=r(104),j=(r(303),r(59)),b=r(89),m=r(135),f=r(55),p=r(68),v=r.n(p),h=r(754),x=r(96),O=r(91),g=r(837),w=r(145),y=r(143),N=r(3),k=function(e){var t=e.form,r=e.disabled,n=Object(s.useState)(),o=Object(i.a)(n,2),u=o[0],b=o[1],m=function(e){return Object(N.jsx)("div",{className:"d-flex justify-content-left align-items-center",children:Object(N.jsxs)("div",{className:"d-flex flex-column",children:[Object(N.jsx)("h6",{className:"user-name text-truncate mb-0",children:null===e||void 0===e?void 0:e.name}),Object(N.jsx)("small",{className:"text-truncate text-muted mb-0",children:null===e||void 0===e?void 0:e.email})]})})},f=function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.autocomplete(t);case 2:return r=e.sent,e.abrupt("return",r.map((function(e){var t=e.id,r=e.name,n=e.email,a=e.phone;return{label:m({id:t,name:r,email:n,phone:a}),value:t,item:{id:t,name:r,email:n,phone:a}}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(l.a,{children:[Object(N.jsx)(d.a,{sm:"4",children:Object(N.jsxs)(h.a,{children:[Object(N.jsx)(x.a,{for:"user_id",children:"User"}),Object(N.jsx)(j.a,{control:t.control,defaultValue:null,name:"user_id",render:function(e){var n=e.onChange,a=e.value;e.name,e.ref;return Object(N.jsx)(w.a,{isClearable:!0,className:"react-select",classNamePrefix:"select",defaultOptions:!0,isDisabled:r,value:{value:a,label:m(u)},loadOptions:f,cacheOptions:!0,onChange:function(e,r){n(null===e||void 0===e?void 0:e.item.id),function(e,r){r.action,r.removedValue,b(null===e||void 0===e?void 0:e.item),(null===e||void 0===e?void 0:e.item)&&(t.setValue("customer.name",e.item.name),t.setValue("customer.email",e.item.email),t.setValue("customer.phone",e.item.phone))}(e,r)}})}})]})}),Object(N.jsx)(d.a,{sm:"4",children:Object(N.jsxs)(h.a,{children:[Object(N.jsx)(x.a,{for:"subject",children:"Subject"}),Object(N.jsx)(O.a,{disabled:r,type:"text",id:"subject",placeholder:"Add Email Subject",name:"subject",innerRef:t.register({required:!0}),invalid:t.errors.subject&&!0})]})}),Object(N.jsx)(d.a,{sm:"4",children:Object(N.jsxs)(h.a,{children:[Object(N.jsx)(x.a,{for:"title",children:"Title"}),Object(N.jsx)(O.a,{disabled:r,type:"text",id:"title",placeholder:"Add Email Title",name:"title",innerRef:t.register({required:!0}),invalid:t.errors.title&&!0})]})}),Object(N.jsx)(d.a,{sm:"10",children:Object(N.jsxs)(h.a,{children:[Object(N.jsx)(x.a,{for:"message",children:"Message"}),Object(N.jsx)(O.a,{disabled:r,id:"message",type:"textarea",name:"message",placeholder:"Add Email Content",innerRef:t.register({required:!1}),invalid:t.errors.message&&!0})]})}),Object(N.jsx)(d.a,{sm:"2",children:Object(N.jsxs)(h.a,{children:[Object(N.jsx)(x.a,{for:"subject",children:"To All Users"}),Object(N.jsx)(g.a,{id:"to_all",type:"switch",disabled:r,name:"to_all",innerRef:t.register()})]})})]})},C=r(321),S=function(e){var t=e.form,r=e.isCompleted;e.isReorder;return Object(N.jsxs)(b.a,{children:[Object(N.jsx)(m.a,{className:"px-2 pb-0",children:Object(N.jsxs)("div",{className:"d-flex justify-content-between flex-md-row flex-column",children:[Object(N.jsx)("div",{children:Object(N.jsx)("strong",{children:"New Email "})}),Object(N.jsxs)("div",{children:["Date: ",Object(N.jsx)("span",{className:"invoice-number",children:v()().format("Y-MM-DD")})]})]})}),Object(N.jsx)("hr",{className:"invoice-spacing"}),Object(N.jsx)(m.a,{className:"px-2 pt-0",children:Object(N.jsx)(k,{form:t,disabled:r})}),Object(N.jsx)(m.a,{className:"invoice-padding pt-0 d-flex",children:Object(N.jsxs)(f.a.Ripple,{color:"primary",type:"submit",children:[Object(N.jsx)(C.a,{size:14}),Object(N.jsx)("span",{className:"align-middle ml-25",children:"Send Email"})]})})]})},E=(r(65),r(64)),R={create:function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post("send-email",t);case 2:return r=e.sent,n=r.data,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.default=function(){var e=Object(j.b)(),t=Object(j.b)(),r=(t.register,t.errors,t.handleSubmit,t.control,t.setValue,Object(s.useState)(null)),n=Object(i.a)(r,2),b=(n[0],n[1]),m=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,R.create(t);case 4:history.push("/category/list"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),b(null===(r=e.t0.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.errors);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(s.Fragment,{children:[Object(N.jsx)(o.a,{breadCrumbTitle:"Settings",breadCrumbActive:"Send Email"}),Object(N.jsx)(u.a,{onSubmit:e.handleSubmit(m),children:Object(N.jsx)(l.a,{children:Object(N.jsx)(d.a,{md:12,sm:12,children:Object(N.jsx)(S,{form:e,isCompleted:!1,isReorder:!0})})})})]})}}}]);
//# sourceMappingURL=118.fa3d897b.chunk.js.map