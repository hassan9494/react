(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[191],{315:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return j}));var r=n(2),a=n(64),s=n.n(a),c=n(65),i=n(85),o=n(77),d=function(e){return o.a.get(e).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.data}))},l={create:function(){var e=Object(c.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("order",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.put("order/".concat(t),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),status:function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("order/".concat(t,"/status"),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),submitWithStatus:function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("order-with-status/".concat(t),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),submitMigrate:function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("order-migrate/".concat(t),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),submitMigrateAll:function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("orders-migrate");case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),supplier:function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("order/".concat(t,"/supplier"),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),shippingStatus:function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.status,e.next=3,o.a.post("order/".concat(t,"/shipping-status"),{shipping_status:r});case 3:return a=e.sent,c=a.data,e.abrupt("return",null===c||void 0===c?void 0:c.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),autocomplete:function(){var e=Object(c.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("orders/autocomplete?q=".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function u(e){var t="order/".concat(e),n=("order-migrate/".concat(e),Object(i.a)("order/".concat(e),d,{revalidateOnFocus:!1,revalidateOnReconnect:!1,refreshWhenOffline:!1,refreshWhenHidden:!1,refreshInterval:0})),a=n.data,o=n.error,u=!a&&!o,j=function(){var n=Object(c.a)(s.a.mark((function n(r){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.update(e,r);case 2:return n.next=4,Object(i.b)(t);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),m=function(){var n=Object(c.a)(s.a.mark((function n(r){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.submitWithStatus(e,r);case 2:return n.next=4,Object(i.b)(t);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),b=function(){var t=Object(c.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.submitMigrate(e,n);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.submitMigrateAll();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var n=Object(c.a)(s.a.mark((function n(c){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.status(e,c);case 2:return n.next=4,Object(i.b)(t,Object(r.a)(Object(r.a)({},a),c),!1);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),x=function(){var n=Object(c.a)(s.a.mark((function n(c){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.supplier(e,c);case 2:return n.next=4,Object(i.b)(t,Object(r.a)(Object(r.a)({},a),{},{status:c.status}),!1);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return{loading:u,error:o,data:a,mutate:i.b,update:j,updateStatus:h,updateSupplier:x,submitWithStatus:m,submitMigrate:b,submitMigrateAll:p,updateShippingStatus:function(t){return l.shippingStatus(e,t)}}}function j(e){var t=e.page,n=e.limit,r=e.search,a=e.order,s=void 0===a?{}:a,c=e.conditions,o=void 0===c?{}:c,l="order/datatable?page=".concat(t,"&limit=").concat(n,"&search=").concat(r,"&order=").concat(JSON.stringify(s),"&conditions=").concat(JSON.stringify(o)),u=Object(i.a)(l,d),j=u.data,m=(u.mutate,u.error);return{loading:!j&&!m,error:m,data:(null===j||void 0===j?void 0:j.items)||[],total:(null===j||void 0===j?void 0:j.total)||0,mutates:{}}}},84:function(e,t,n){"use strict";var r=n(76),a=n(172),s=n(173),c=n(3);t.a=function(e){var t=e.breadCrumbTitle,n=e.breadCrumbParent,i=e.breadCrumbParent2,o=e.breadCrumbParent3,d=e.breadCrumbActive,l=e.right;return Object(c.jsxs)("div",{className:"content-header row",children:[Object(c.jsx)("div",{className:"content-header-left col-9 mb-2",children:Object(c.jsx)("div",{className:"row breadcrumbs-top",children:Object(c.jsxs)("div",{className:"col-12",children:[t?Object(c.jsx)("h2",{className:"content-header-title float-left mb-0",children:t}):"",Object(c.jsx)("div",{className:"breadcrumb-wrapper vs-breadcrumbs d-sm-block d-none col-12",children:Object(c.jsxs)(a.a,{children:[Object(c.jsx)(s.a,{tag:"li",children:Object(c.jsx)(r.b,{to:"/",children:"Home"})}),n&&Object(c.jsx)(s.a,{tag:"li",className:"text-primary",children:n}),i?Object(c.jsx)(s.a,{tag:"li",className:"text-primary",children:i}):"",o?Object(c.jsx)(s.a,{tag:"li",className:"text-primary",children:o}):"",Object(c.jsx)(s.a,{tag:"li",active:!0,children:d})]})})]})})}),l?Object(c.jsx)("div",{className:"content-header-right text-md-right col-3",children:Object(c.jsx)("div",{className:"form-group breadcrum-right dropdown",children:l})}):""]})}},999:function(e,t,n){"use strict";n.r(t);n(64),n(65);var r=n(110),a=n(7),s=n(2),c=n(8),i=n(0),o=n(84),d=n(376),l=n(944),u=n(952),j=n(955),m=n(956),b=n(55),p=n(323),h=n(321),x=n(324),f=n(760),O=n(420),v=n(360),g=n(547),N=n(421),y=n(637),w=n(808),_=n(799),S=n(419),k=n(428),C=n(374),z=n(791),P=n(544),A=n(415),T=n(623),I=n(564),q=n(566),E=n(315),V=n(3);t.default=function(){var e,t,n,J,W,D,F,M,U,L,R,Z,B,H,Q=Object(d.g)(),G=Object(d.i)().id,$=Object(E.c)(G),K=$.data,Y=$.isLoading,X=($.mutate,Object(i.useState)(null)),ee=Object(c.a)(X,2),te=ee[0],ne=ee[1],re=Object(i.useState)({history:!1,orderInfo:!1,products:!1,editViews:!1}),ae=Object(c.a)(re,2),se=ae[0],ce=ae[1],ie=Object(i.useState)("all"),oe=Object(c.a)(ie,2),de=oe[0],le=oe[1],ue=function(e){le(e)},je=Object(i.useMemo)((function(){return(null===te||void 0===te?void 0:te.histories)?te.histories.filter((function(e){return"viewed_edit"!==e.action})).filter((function(e){return"status"===de?"status"===e.field:"options"===de?"options"===e.field||e.field&&e.field.startsWith("options."):"printed"===de?"printed"===e.action:"exported"!==de||"exported"===e.action})).filter((function(e){if("status"===e.field&&"updated"===e.action)return!1;if("updated"===e.action)try{var t="string"===typeof e.old_value&&e.old_value.trim().startsWith("{")?JSON.parse(e.old_value):e.old_value,n="string"===typeof e.new_value&&e.new_value.trim().startsWith("{")?JSON.parse(e.new_value):e.new_value;if(JSON.stringify(t)===JSON.stringify(n))return!1}catch(r){if(e.old_value===e.new_value)return!1}return!0})):[]}),[null===te||void 0===te?void 0:te.histories,de]),me=function(e){var t={"customer.name":"Customer Name","customer.phone":"Customer Phone","customer.email":"Customer Email",customer_identity_number:"Identity Number",identity_number_type:"ID Type","shipping.address":"Shipping Address","shipping.cost":"Shipping Cost","shipping.status":"Shipping Status","shipping.free":"Free Shipping","shipping.city":"Shipping City",shipping_provider_id:"Shipping Provider","options.taxed":"Taxed","options.tax_exempt":"M3fe","options.dept":"Zemam","options.price_offer":"Price Offer","options.tax_zero":"Tax Zero","options.pricing":"Pricing Type",status:"Status",discount:"Discount Amount",discount_percentage:"Discount Percentage",subtotal:"Subtotal",total:"Total",profit:"Profit",notes:"Notes",invoice_notes:"Invoice Notes",tax_number:"Tax Number",coupon_id:"Coupon",products:"Products",_default:e.replace(/_/g," ").replace(/\./g," > ").replace(/\b\w/g,(function(e){return e.toUpperCase()}))};return t[e]||t._default},be=function(e){ce((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(a.a)({},e,!t[e]))}))},pe=function(e,t){if(null===t||void 0===t||"null"===t)return Object(V.jsx)("span",{className:"text-muted",children:"N/A"});if("boolean"===typeof t)return t?Object(V.jsx)(l.a,{color:"success",children:"Yes"}):Object(V.jsx)(l.a,{color:"danger",children:"No"});if("object"===typeof t)try{return Array.isArray(t)?"Array(".concat(t.length,")"):JSON.stringify(t)}catch(n){return"Invalid data"}if(e.includes("cost")||e.includes("price")||e.includes("total")||e.includes("subtotal")||e.includes("discount")||e.includes("profit"))return Object(V.jsxs)(l.a,{color:"light-success",children:["$",parseFloat(t).toFixed(2)]});if("status"===e){return Object(V.jsx)(l.a,{color:"light-".concat({PENDING:"warning",PROCESSING:"info",COMPLETED:"success",CANCELED:"danger"}[t]||"secondary"),children:t})}if("identity_number_type"===e){return{NIN:"National ID",PN:"Passport",TN:"Tax Number"}[t]||t}return t.toString()},he=function(e){return e?new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):"N/A"},xe=function(e){switch(e){case"updated":return Object(V.jsx)(x.a,{size:16});case"status_changed":return Object(V.jsx)(f.a,{size:16});case"created":return Object(V.jsx)(O.a,{size:16});case"printed":return Object(V.jsx)(v.a,{size:16});case"quantity_updated":return Object(V.jsx)(g.a,{size:16});case"product_added":return Object(V.jsx)(N.a,{size:16});case"product_removed":return Object(V.jsx)(y.a,{size:16});case"shipping_updated":return Object(V.jsx)(w.a,{size:16});case"payment_updated":return Object(V.jsx)(_.a,{size:16});case"exported":return Object(V.jsx)(S.a,{size:16});default:return Object(V.jsx)(k.a,{size:16})}},fe=function(e,t){if(e.notes){var n=e.notes.match(/Product: ([^]+?)( was| quantity|$)/);if(n&&n[1])return n[1];var r=e.notes.match(/Product ID: (\d+)/);if(r&&r[1]){var a=r[1],s=t.find((function(e){return e.id===a}));return s?s.name:"Product ".concat(a)}}if(e.field&&e.field.startsWith("products.")&&e.field.endsWith(".quantity")){var c=e.field.replace("products.","").replace(".quantity",""),i=t.find((function(e){return e.id===c}));return i?i.name:"Product ".concat(c)}return"Product"},Oe=function(e,t,n){try{return function(e,t){if("object"!==typeof e||"object"!==typeof t)return[];var n=Object(r.a)(new Set([].concat(Object(r.a)(Object.keys(e||{})),Object(r.a)(Object.keys(t||{}))))),a=[];return n.forEach((function(n){var r=null===e||void 0===e?void 0:e[n],s=null===t||void 0===t?void 0:t[n];r===s||null===r&&null===s||a.push({field:n,oldValue:r,newValue:s})})),a}("string"===typeof t?JSON.parse(t):t,"string"===typeof n?JSON.parse(n):n).map((function(t,n){var r=me("".concat(e,".").concat(t.field)),a=pe(t.field,t.oldValue),s=pe(t.field,t.newValue);return Object(V.jsxs)("div",{className:"change-item mb-2",children:[Object(V.jsx)(l.a,{color:"light-primary",className:"mr-1",children:"Changed:"}),Object(V.jsx)("strong",{children:r}),null===t.oldValue||void 0===t.oldValue?Object(V.jsxs)(V.Fragment,{children:[" set to ",s]}):Object(V.jsxs)(V.Fragment,{children:[" changed from ",a," to ",s]})]},n)}))}catch(a){return Object(V.jsxs)("div",{className:"change-item mb-2",children:[Object(V.jsx)(l.a,{color:"light-primary",className:"mr-1",children:"Changed:"}),Object(V.jsx)("strong",{children:me(e)})," changed"]})}},ve=function(e){if("status"===e.field)return"status_changed"===e.action?Object(V.jsxs)("div",{className:"change-item",children:[Object(V.jsx)(l.a,{color:"light-info",className:"mr-1",children:"Status:"}),"Changed from ",e.old_value," to ",e.new_value]}):null;if("product_added"===e.action){var t=fe(e,te.products),n=e.new_value||1;return Object(V.jsxs)("div",{className:"change-item",children:[Object(V.jsx)(l.a,{color:"light-success",className:"mr-1",children:"Added:"}),t," was added with quantity ",n]})}if("product_removed"===e.action){var r=fe(e,te.products);return Object(V.jsxs)("div",{className:"change-item",children:[Object(V.jsx)(l.a,{color:"light-danger",className:"mr-1",children:"Removed:"}),r," was removed"]})}if("quantity_updated"===e.action){var a=fe(e,te.products);return Object(V.jsxs)("div",{className:"change-item",children:[Object(V.jsx)(l.a,{color:"light-info",className:"mr-1",children:"Quantity:"}),a," quantity changed from ",e.old_value," to ",e.new_value]})}if("printed"===e.action)return Object(V.jsxs)("div",{className:"change-item",children:[Object(V.jsx)(l.a,{color:"light-secondary",className:"mr-1",children:"Printed:"}),"Order was printed by ",e.user?e.user.name:"System",e.created_at&&" at ".concat(he(e.created_at))]});if("exported"===e.action)return Object(V.jsxs)("div",{className:"change-item",children:[Object(V.jsx)(l.a,{color:"light-info",className:"mr-1",children:"Exported:"}),"Order was exported to Excel by ",e.user?e.user.name:"System",e.created_at&&" at ".concat(he(e.created_at))]});if(e.field&&("options"===e.field||"shipping"===e.field||"customer"===e.field))return Oe(e.field,e.old_value,e.new_value);if(e.field&&e.field.startsWith("products.")&&e.field.endsWith(".quantity")){var s,c=(null===(s=e.notes)||void 0===s?void 0:s.replace("Product: ","").replace(/ quantity changed from \d+ to \d+/,""))||"Product",i=e.old_value,o=e.new_value;return 0===i?Object(V.jsxs)("div",{className:"change-item",children:[Object(V.jsx)(l.a,{color:"light-success",className:"mr-1",children:"Added:"}),c," was added with quantity ",o]}):0===o?Object(V.jsxs)("div",{className:"change-item",children:[Object(V.jsx)(l.a,{color:"light-danger",className:"mr-1",children:"Removed:"}),c," was removed"]}):Object(V.jsxs)("div",{className:"change-item",children:[Object(V.jsx)(l.a,{color:"light-info",className:"mr-1",children:"Quantity:"}),c," quantity changed from ",i," to ",o]})}if(e.field&&void 0!==e.old_value&&void 0!==e.new_value){var d=me(e.field),u=pe(e.field,e.old_value),j=pe(e.field,e.new_value);return Object(V.jsxs)("div",{className:"change-item mb-2",children:[Object(V.jsx)(l.a,{color:"light-primary",className:"mr-1",children:"Changed:"}),Object(V.jsx)("strong",{children:d}),null===e.old_value||void 0===e.old_value?Object(V.jsxs)(V.Fragment,{children:[" set to ",j]}):Object(V.jsxs)(V.Fragment,{children:[" changed from ",u," to ",j]})]})}if(e.details)try{var m="string"===typeof e.details?JSON.parse(e.details):e.details;return renderDetailedChanges(m)}catch(b){return Object(V.jsxs)("div",{className:"text-muted",children:["Change details: ",e.details]})}return Object(V.jsx)("div",{className:"text-muted",children:"No change details available"})};return Object(i.useEffect)((function(){K&&ne(K)}),[K]),Y?Object(V.jsx)("div",{className:"d-flex justify-content-center my-5",children:Object(V.jsx)("div",{className:"spinner-border text-primary",role:"status"})}):te?Object(V.jsxs)(i.Fragment,{children:[Object(V.jsx)(o.a,{breadCrumbTitle:"Order Details",breadCrumbActive:"Order #".concat(te.number)}),Object(V.jsx)(u.a,{className:"mb-4 section-card",children:Object(V.jsxs)(j.a,{className:"p-0",children:[Object(V.jsxs)("div",{className:"d-flex justify-content-between align-items-center p-3 section-header",onClick:function(){return be("editViews")},children:[Object(V.jsxs)("h5",{className:"mb-0 d-flex align-items-center",children:[Object(V.jsx)(C.a,{size:18,className:"mr-2"}),"Order Views"]}),se.editViews?Object(V.jsx)(P.a,{size:18}):Object(V.jsx)(A.a,{size:18})]}),Object(V.jsx)(m.a,{isOpen:se.editViews,children:Object(V.jsx)("div",{className:"p-3",children:function(e){var t=e.filter((function(e){return"viewed_edit"===e.action}));return 0===t.length?Object(V.jsx)("div",{className:"text-center p-3",children:Object(V.jsx)("p",{className:"text-muted",children:"No one has viewed the order edit page yet"})}):Object(V.jsx)("div",{className:"timeline",children:t.map((function(e,t){return Object(V.jsxs)("div",{className:"timeline-item mb-3",children:[Object(V.jsx)("div",{className:"timeline-point"}),Object(V.jsxs)("div",{className:"timeline-content",children:[Object(V.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-1",children:[Object(V.jsxs)("div",{className:"d-flex align-items-center",children:[Object(V.jsx)("span",{className:"timeline-icon mr-2",children:Object(V.jsx)(C.a,{size:16})}),Object(V.jsx)("h6",{className:"mb-0",children:"Viewed Edit Page"})]}),Object(V.jsx)("small",{className:"text-muted",children:he(e.created_at)})]}),Object(V.jsxs)("p",{className:"mb-0 text-muted",children:[Object(V.jsx)(z.a,{size:14,className:"mr-1"}),"Viewed by: ",e.user?e.user.name:"Unknown User"]}),e.notes&&Object(V.jsx)("div",{className:"mt-1 p-2 bg-light rounded small",children:e.notes})]})]},t)}))})}(te.histories||[])})})]})}),Object(V.jsx)(u.a,{className:"order-details-card",children:Object(V.jsxs)(j.a,{className:"p-4",children:[Object(V.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[Object(V.jsxs)(b.a,{color:"light",onClick:function(){return Q.goBack()},className:"d-flex align-items-center back-button",children:[Object(V.jsx)(T.a,{size:16,className:"mr-1"})," Back to Orders"]}),Object(V.jsxs)("div",{className:"d-flex flex-column align-items-end",children:[Object(V.jsxs)("div",{className:" small",children:[Object(V.jsx)("strong",{children:"Created:"})," ",he(te.created_at)]}),Object(V.jsxs)("div",{className:" small",children:[Object(V.jsx)("strong",{children:"Updated:"})," ",he(te.updated_at)]})]})]}),Object(V.jsx)(u.a,{className:"mb-4 section-card",children:Object(V.jsxs)(j.a,{className:"p-0",children:[Object(V.jsxs)("div",{className:"d-flex justify-content-between align-items-center p-3 section-header",onClick:function(){return be("orderInfo")},children:[Object(V.jsxs)("h5",{className:"mb-0 d-flex align-items-center",children:[Object(V.jsx)(k.a,{size:18,className:"mr-2"})," Order Information"]}),se.orderInfo?Object(V.jsx)(P.a,{size:18}):Object(V.jsx)(A.a,{size:18})]}),Object(V.jsx)(m.a,{isOpen:se.orderInfo,children:Object(V.jsx)("div",{className:"p-3",children:Object(V.jsxs)(p.a,{children:[Object(V.jsxs)(h.a,{md:"6",children:[Object(V.jsxs)("div",{className:"info-item mb-2",children:[Object(V.jsx)("strong",{children:"Order Number:"})," ",te.number]}),Object(V.jsxs)("div",{className:"info-item mb-2",children:[Object(V.jsx)("strong",{children:"Status:"})," ",pe("status",te.status)]}),Object(V.jsxs)("div",{className:"info-item mb-2",children:[Object(V.jsx)("strong",{children:"Customer Name:"})," ",(null===(e=te.customer)||void 0===e?void 0:e.name)||"N/A"]}),Object(V.jsxs)("div",{className:"info-item mb-2",children:[Object(V.jsx)("strong",{children:"Customer Phone:"})," ",(null===(t=te.customer)||void 0===t?void 0:t.phone)||"N/A"]})]}),Object(V.jsxs)(h.a,{md:"6",children:[Object(V.jsxs)("div",{className:"info-item mb-2",children:[Object(V.jsx)("strong",{children:"Shipping Cost:"}),(null===(n=te.shipping)||void 0===n?void 0:n.free)?Object(V.jsx)(l.a,{color:"success",className:"ml-1",children:"Free"}):pe("cost",null===(J=te.shipping)||void 0===J?void 0:J.cost)]}),Object(V.jsxs)("div",{className:"info-item mb-2",children:[Object(V.jsx)("strong",{children:"Total Amount:"})," ",pe("total",te.total)]}),Object(V.jsxs)("div",{className:"info-item mb-2",children:[Object(V.jsx)("strong",{children:"Tax Number:"})," ",te.tax_number||"N/A"]}),Object(V.jsxs)("div",{className:"info-item mb-2",children:[Object(V.jsx)("strong",{children:"Options:"}),Object(V.jsxs)("div",{className:"d-flex flex-wrap mt-1",children:[(null===(W=te.options)||void 0===W?void 0:W.dept)&&Object(V.jsx)(l.a,{color:"warning",className:"mr-1 mb-1",children:"Zemam"}),(null===(D=te.options)||void 0===D?void 0:D.price_offer)&&Object(V.jsx)(l.a,{color:"info",className:"mr-1 mb-1",children:"Price Offer"}),(null===(F=te.options)||void 0===F?void 0:F.tax_exempt)&&Object(V.jsx)(l.a,{color:"success",className:"mr-1 mb-1",children:"M3fe"}),(null===(M=te.options)||void 0===M?void 0:M.tax_zero)&&Object(V.jsx)(l.a,{color:"primary",className:"mr-1 mb-1",children:"Tax Zero"}),(null===(U=te.options)||void 0===U?void 0:U.taxed)&&Object(V.jsx)(l.a,{color:"danger",className:"mr-1 mb-1",children:"Taxed"}),!(null===(L=te.options)||void 0===L?void 0:L.dept)&&!(null===(R=te.options)||void 0===R?void 0:R.price_offer)&&!(null===(Z=te.options)||void 0===Z?void 0:Z.tax_exempt)&&!(null===(B=te.options)||void 0===B?void 0:B.tax_zero)&&!(null===(H=te.options)||void 0===H?void 0:H.taxed)&&Object(V.jsx)("span",{className:"text-muted",children:"No options enabled"})]})]})]})]})})})]})}),Object(V.jsx)(u.a,{className:"mb-4 section-card",children:Object(V.jsxs)(j.a,{className:"p-0",children:[Object(V.jsxs)("div",{className:"d-flex justify-content-between align-items-center p-3 section-header",onClick:function(){return be("history")},children:[Object(V.jsxs)("h5",{className:"mb-0 d-flex align-items-center",children:[Object(V.jsx)(I.a,{size:18,className:"mr-2"})," Order History"]}),se.history?Object(V.jsx)(P.a,{size:18}):Object(V.jsx)(A.a,{size:18})]}),Object(V.jsx)(m.a,{isOpen:se.history,children:Object(V.jsxs)("div",{className:"pb-3 px-3 pt-1 ",children:[Object(V.jsxs)("div",{className:"d-flex align-items-center justify-content-center pb-2 ",children:[Object(V.jsx)("div",{className:"btn-group btn-group-sm filter-buttons ",onClick:function(e){return e.stopPropagation()}}),Object(V.jsx)(b.a,{color:"all"===de?"primary":"light",size:"sm",onClick:function(){return ue("all")},className:"mx-1",children:"All Changes"}),Object(V.jsx)(b.a,{color:"status"===de?"primary":"light",size:"sm",onClick:function(){return ue("status")},className:"mx-1",children:"Status"}),Object(V.jsx)(b.a,{color:"options"===de?"primary":"light",size:"sm",onClick:function(){return ue("options")},className:"mx-1",children:"Options"}),Object(V.jsx)(b.a,{color:"printed"===de?"primary":"light",size:"sm",onClick:function(){return ue("printed")},className:"mx-1",children:"Printed"}),Object(V.jsx)(b.a,{color:"exported"===de?"primary":"light",size:"sm",onClick:function(){return ue("exported")},className:"mx-1",children:"Exported"})]}),je&&je.length>0?Object(V.jsx)("div",{className:"timeline",children:je.map((function(e,t){return Object(V.jsxs)("div",{className:"timeline-item mb-4",children:[Object(V.jsx)("div",{className:"timeline-point"}),Object(V.jsxs)("div",{className:"timeline-content",children:[Object(V.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-1",children:[Object(V.jsxs)("div",{className:"d-flex align-items-center",children:[Object(V.jsx)("span",{className:"timeline-icon mr-2",children:xe(e.action)}),Object(V.jsx)("h6",{className:"mb-0 text-capitalize",children:e.action.replace(/_/g," ")})]}),Object(V.jsx)("small",{className:"text-muted",children:he(e.created_at)})]}),Object(V.jsxs)("p",{className:"mb-1 text-muted",children:[Object(V.jsx)(z.a,{size:14,className:"mr-1"}),e.user?"By: ".concat(e.user.name):"System Action"]}),e.notes&&Object(V.jsxs)("div",{className:"mb-2 p-2 bg-light rounded",children:[Object(V.jsx)("strong",{children:"Note:"})," ",e.notes]}),Object(V.jsx)("div",{className:"changes-container mt-2 p-2 bg-light rounded",children:ve(e)})]})]},t)}))}):Object(V.jsx)("div",{className:"text-center p-3",children:Object(V.jsx)("p",{className:"text-muted",children:"No order history available"})})]})})]})}),Object(V.jsx)(u.a,{className:"mb-4 section-card",children:Object(V.jsxs)(j.a,{className:"p-0",children:[Object(V.jsxs)("div",{className:"d-flex justify-content-between align-items-center p-3 section-header",onClick:function(){return be("products")},children:[Object(V.jsxs)("h5",{className:"mb-0 d-flex align-items-center",children:[Object(V.jsx)(q.a,{size:18,className:"mr-2"})," Products"]}),se.products?Object(V.jsx)(P.a,{size:18}):Object(V.jsx)(A.a,{size:18})]}),Object(V.jsx)(m.a,{isOpen:se.products,children:Object(V.jsx)("div",{className:"p-3",children:te.products&&te.products.length>0?Object(V.jsx)("div",{className:"table-responsive",children:Object(V.jsxs)("table",{className:"table table-striped",children:[Object(V.jsx)("thead",{children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Product"}),Object(V.jsx)("th",{children:"SKU"}),Object(V.jsx)("th",{children:"Quantity"}),Object(V.jsx)("th",{children:"Price"}),Object(V.jsx)("th",{children:"Total"})]})}),Object(V.jsx)("tbody",{children:te.products.map((function(e,t){return Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:e.name}),Object(V.jsx)("td",{children:e.sku}),Object(V.jsx)("td",{children:e.quantity}),Object(V.jsx)("td",{children:pe("price",e.price)}),Object(V.jsx)("td",{children:pe("total",e.price*e.quantity)})]},t)}))})]})}):Object(V.jsx)("div",{className:"text-center p-3",children:Object(V.jsx)("p",{className:"text-muted",children:"No products in this order"})})})})]})})]})}),Object(V.jsx)("style",{jsx:!0,children:"\n                .order-details-card {\n                    border: none;\n                    border-radius: 12px;\n                    box-shadow: 0 4px 20px rgba(0,0,0,0.08);\n                }\n                \n                .back-button {\n                    border-radius: 8px;\n                    padding: 8px 16px;\n                    font-weight: 500;\n                }\n                \n                .action-buttons .btn {\n                    border-radius: 8px;\n                    padding: 8px 16px;\n                    font-weight: 500;\n                }\n                \n                .section-card {\n                    border: none;\n                    border-radius: 10px;\n                    box-shadow: 0 2px 10px rgba(0,0,0,0.05);\n                }\n                \n                .section-header {\n                    cursor: pointer;\n                    background-color: #f8f9fa;\n                    border-radius: 10px 10px 0 0;\n                    transition: background-color 0.2s ease;\n                }\n                \n                .section-header:hover {\n                    background-color: #e9ecef;\n                }\n                \n                .info-item {\n                    padding: 8px 0;\n                    border-bottom: 1px solid #f1f1f1;\n                }\n                \n                .timeline {\n                    position: relative;\n                    padding-left: 30px;\n                }\n\n                .timeline-item {\n                    position: relative;\n                    margin-bottom: 20px;\n                }\n\n                .timeline-point {\n                    position: absolute;\n                    left: -30px;\n                    top: 5px;\n                    width: 12px;\n                    height: 12px;\n                    border-radius: 50%;\n                    background-color: #133695;\n                }\n\n                .timeline-content {\n                    padding: 10px;\n                    border-left: 2px solid #133695;\n                    margin-left: 10px;\n                }\n                \n                .timeline-icon {\n                    color: #133695;\n                }\n                \n                .change-item {\n                    font-size: 0.9rem;\n                }\n                \n                .changes-container {\n                    border-left: 3px solid #133695;\n                }\n                \n                @media (max-width: 768px) {\n                    .timeline {\n                        padding-left: 20px;\n                    }\n                    \n                    .timeline-point {\n                        left: -20px;\n                        width: 10px;\n                        height: 10px;\n                    }\n                }\n            "})]}):Object(V.jsx)("div",{className:"alert alert-danger my-4",children:"Order not found"})}}}]);
//# sourceMappingURL=191.edc8f1c4.chunk.js.map