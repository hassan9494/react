{"version":3,"sources":["@core/components/datatable/DatatableTitle.js","@core/components/sweetalert/index.js","@core/components/datatable/DatatableSearch.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","data/use-course-student.js","@core/components/datatable/local.js","data/use-data.js","views/others/course/student/List.js"],"names":["DatatableTitle","title","className","MySwal","withReactContent","Swal","confirm","callback","a","fire","icon","showCancelButton","confirmButtonText","customClass","confirmButton","cancelButton","buttonsStyling","then","result","value","confirmDelete","DatatableSearch","handleFilter","initialSearchValue","useState","searchValue","setSearchValue","for","type","id","onChange","e","target","onBlur","onKeyPress","key","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","length","i","F","s","n","done","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","url","api","create","params","apiCalls","update","delete","useModel","model","Local","header","columns","actions","pagination","conditions","useTable","data","mutate","push","name","allowOverflow","width","cell","row","noHeader","sortIcon","size","persistTableHead","paginationRowsPerPageOptions","fetcher","axios","get","res","post","put","useSWR","error","loading","models","revalidateOnFocus","revalidateOnReconnect","refreshWhenOffline","refreshWhenHidden","refreshInterval","datatable","base","endpoint","page","limit","search","order","JSON","stringify","items","total","mutates","datatableWithData","from","to","table","List","useStudents","useParams","onDelete","Header","ability","can","Ripple","tag","Link","color","onClick","selector","sortable","minWidth","payments","amount"],"mappings":"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","file":"static/js/175.ba9c8d69.chunk.js","sourcesContent":["import { CardHeader, CardTitle } from 'reactstrap'\n\nexport default function DatatableTitle({ title = '' }) {\n    return (\n        <>\n            {\n                title &&\n                <CardHeader className='py-1'>\n                    <CardTitle>{ title }</CardTitle>\n                </CardHeader>\n            }\n        </>\n    )\n}\n","import Swal from 'sweetalert2'\nimport withReactContent from 'sweetalert2-react-content'\n\nconst MySwal = withReactContent(Swal)\n\nexport const confirm = async (callback) => {\n    MySwal.fire({\n        title: 'Are you sure?',\n        // text: \"You won't be able to revert this!\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, do it!',\n        customClass: {\n            confirmButton: 'btn btn-primary',\n            cancelButton: 'btn btn-outline-danger ml-1'\n        },\n        buttonsStyling: false\n    }).then(function (result) {\n        if (result.value)  callback()\n    })\n}\n\nexport const confirmDelete = async (callback) => {\n    MySwal.fire({\n        title: 'Are you sure want to delete?',\n        // text: \"You won't be able to revert this!\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, delete it!',\n        customClass: {\n            confirmButton: 'btn btn-danger',\n            cancelButton: 'btn btn-outline-danger ml-1'\n        },\n        buttonsStyling: false\n    }).then(function (result) {\n        if (result.value)  callback()\n    })\n}\n","// ** States\nimport { useState } from 'react'\nimport { Input, Label } from 'reactstrap'\n// ** Styles\nimport '@styles/react/libs/tables/react-dataTable-component.scss'\n\nconst DatatableSearch = ({ handleFilter, initialSearchValue }) => {\n\n    const [searchValue, setSearchValue] = useState(initialSearchValue || '')\n    const [timer, setTimer] = useState()\n\n    const onChange = (e) => {\n        // if (timer) clearTimeout(timer)\n        setSearchValue(e.target.value)\n        // setTimer(\n        //     setTimeout(() => {\n        //         handleFilter(e.target.value)\n        //     }, 1000)\n        // )\n    }\n\n    const onBlur = (e) => {\n        handleFilter(e.target.value)\n    }\n    \n    const onKeyPress = (e) => {\n        if (e.key === 'Enter') {\n            handleFilter(e.target.value)\n        }\n    }\n\n    return (\n        <>\n            <Label className='mr-1' for='search-input'>\n                Search\n            </Label>\n            <Input\n                className='dataTable-filter mr-50'\n                type='text'\n                id='search-input'\n                value={searchValue}\n                onChange={onChange}\n                onBlur={onBlur}\n                onKeyPress={onKeyPress}\n            />\n        </>\n    )\n}\n\nexport default DatatableSearch","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import { api as apiCalls, datatable, model } from './use-data'\n\nconst url = 'course-student'\n\nexport const api = {\n    create: params => apiCalls.create(url, params),\n    update: (id, params) => apiCalls.update(url, id, params),\n    delete: id => apiCalls.delete(url, id)\n}\n\nexport function useModel(id) {\n    return model(url, id)\n}\n\nexport function useDatatable(params) {\n    return datatable(url, `${url}/datatable`, params)\n}\n","// ** States\nimport { Fragment, useState } from 'react'\nimport ReactPaginate from 'react-paginate'\nimport { Button, Card, CardHeader, CardTitle, Col, Input, Label, Row, Spinner } from 'reactstrap'\nimport { Link } from 'react-router-dom'\nimport DataTable from 'react-data-table-component'\nimport { ChevronDown } from 'react-feather'\n// ** Styles\nimport DatatableSearch from './DatatableSearch'\n// ** Styles\nimport '@styles/react/libs/tables/react-dataTable-component.scss'\nimport DatatableTitle from './DatatableTitle'\n\nexport default function Local({\n    header,\n    columns = [],\n    actions,\n    pagination = true,\n    conditions = {},\n    useTable\n}) {\n\n    const { data, mutate } = useTable({ conditions })\n\n    if (actions) {\n        columns.push({\n            name: 'Actions',\n            allowOverflow: true,\n            width: '200px',\n            cell: (row) => actions(row, mutate)\n        })\n    }\n\n    return (\n        <Card>\n            { header }\n            <DataTable\n                noHeader\n                pagination={pagination}\n                data={data}\n                columns={columns}\n                className='react-dataTable'\n                sortIcon={<ChevronDown size={10} />}\n                persistTableHead={true}\n                paginationRowsPerPageOptions={[10, 25, 50, 100]}\n            />\n        </Card>\n    )\n}\n","import useSWR from 'swr'\nimport axios from '../utility/axiosIsntance'\n\nconst fetcher = (url) => axios.get(url).then(res => res.data?.data)\n\nexport const api = {\n\n    create: async (url, params) => {\n        const { data } = await axios.post(url, params)\n        return data?.data\n    },\n\n    update: async (url, id, params) => {\n        const { data } = await axios.put(`${url}/${id}`, params)\n        return data?.data\n    },\n\n    delete: async (url, id) => {\n        await axios.delete(`${url}/${id}`)\n    }\n}\n\nexport function model(url, id) {\n\n    const { data, mutate, error } = useSWR(`${url}/${id}`, fetcher)\n\n    const loading = !data && !error\n\n    return {\n        loading,\n        error,\n        data,\n        mutate,\n        update: async (params) => {\n            await api.update(url, id, params)\n            await mutate()\n        }\n    }\n}\n\n\nexport function models(url) {\n\n    const { data, mutate, error } = useSWR(url, fetcher, {\n        revalidateOnFocus: false,\n        revalidateOnReconnect: false,\n        refreshWhenOffline: false,\n        refreshWhenHidden: false,\n        refreshInterval: 0\n    })\n\n    const loading = !data && !error\n\n    return {\n        loading,\n        error,\n        data: data || [],\n        mutate,\n        create: async (params) => api.create(params)\n    }\n}\n\n\nexport function datatable(base, endpoint, { page, limit, search, order = {}, conditions = {} }) {\n\n    const url = `${endpoint}?page=${page}&limit=${limit}&search=${search}&order=${JSON.stringify(order)}&conditions=${JSON.stringify(conditions)}`\n\n    const { data, mutate, error } = useSWR(url, fetcher)\n\n    const loading = !data && !error\n\n    return {\n        loading,\n        error,\n        data: data?.items || [],\n        total: data?.total || 0,\n        mutate,\n        mutates: {\n            delete: async (id) => {\n                await api.delete(base, id)\n                await mutate(url)\n            }\n        }\n    }\n\n}\nexport function datatableWithData(base, endpoint, { page, limit, search, order = {}, conditions = {}, from, to }) {\n\n    const url = `${endpoint}?page=${page}&limit=${limit}&from=${from}&to=${to}&search=${search}&order=${JSON.stringify(order)}&conditions=${JSON.stringify(conditions)}`\n\n    const { data, mutate, error } = useSWR(url, fetcher)\n\n    const loading = !data && !error\n\n    return {\n        loading,\n        error,\n        data: data?.items || [],\n        total: data?.total || 0,\n        mutate,\n        mutates: {\n            delete: async (id) => {\n                await api.delete(base, id)\n                await mutate(url)\n            }\n        }\n    }\n\n}\n\nexport function table(endpoint, { conditions }) {\n\n    const url = `${endpoint}?conditions=${JSON.stringify(conditions)}`\n\n    const { data, mutate, error } = useSWR(url, fetcher)\n\n    const loading = !data && !error\n\n    return {\n        loading,\n        error,\n        data: data?.items || [],\n        total: data?.total || 0,\n        mutate\n    }\n\n}\n","import Datatable from '@components/datatable/local'\nimport { Link, useParams } from 'react-router-dom'\nimport { Button, CardHeader, CardTitle } from 'reactstrap'\nimport { DollarSign, Trash } from 'react-feather'\nimport { confirmDelete } from '@components/sweetalert'\nimport { api } from '@data/use-course-student'\nimport ability from \"../../../../configs/acl/ability\"\n\nconst List = ({ useStudents }) => {\n\n    const { id } = useParams()\n\n\n    const onDelete = async (row, mutate) => {\n        confirmDelete(async () => {\n            await api.delete(row.id)\n            await mutate()\n        })\n    }\n\n    const actions = (row, mutate) => (\n        <div className='column-action d-flex align-items-center'>\n            {ability.can('read', 'receipt_add') &&\n            <Link to={`/receipt/add?student=${row.id}`} className='mx-1'>\n                <DollarSign size={17} />\n            </Link>\n            }\n            {ability.can('read', 'course_delete_student') &&\n            <Link to='#' className='mx-1'>\n                <Trash size={17} onClick={() => onDelete(row, mutate)}/>\n            </Link>\n            }\n        </div>\n    )\n\n    const Header = () => (\n        <CardHeader className='py-1'>\n            <CardTitle>\n                Students\n            </CardTitle>\n            {ability.can('read', 'course_student_add') &&\n            <div className='d-flex align-items-center justify-content-end'>\n                <Button.Ripple tag={Link} to={`/course/${id}/student/add`} color='primary' size='sm'>Add Student</Button.Ripple>\n            </div>\n            }\n        </CardHeader>\n    )\n\n    return (\n        <Datatable\n            header={<Header />}\n            useTable={useStudents}\n            actions={actions}\n            pagination={false}\n            columns={[\n                {\n                    name: 'Name',\n                    selector: 'name',\n                    sortable: true,\n                    minWidth: '225px'\n                },\n                {\n                    name: 'Phone',\n                    selector: 'phone',\n                    sortable: true,\n                    minWidth: '225px'\n                },\n                {\n                    name: 'Email',\n                    selector: 'email',\n                    sortable: true,\n                    minWidth: '225px'\n                },\n                {\n                    name: 'Paid Amount',\n                    minWidth: '225px',\n                    cell: row => {\n                        const payments = row?.payments || []\n                        let total = 0\n                        for (const payment of payments) total += payment.amount\n                        return total\n                    }\n                }\n            ]}\n        />\n    )\n}\n\nexport default List\n"],"sourceRoot":""}