{"version":3,"sources":["data/use-city.js","data/use-data.js","views/order/list/Pending.js"],"names":["url","api","create","params","apiCalls","update","id","delete","useModel","model","useDatatable","datatable","useModels","models","fetcher","axios","get","then","res","data","a","post","put","useSWR","mutate","error","loading","revalidateOnFocus","revalidateOnReconnect","refreshWhenOffline","refreshWhenHidden","refreshInterval","base","endpoint","page","limit","search","order","conditions","JSON","stringify","items","total","mutates","datatableWithData","from","to","table","shippingStatusClasses","WAITING","SHIPPED","DELIVERED","Tables","cities","useCities","console","log","breadCrumbTitle","breadCrumbActive","actions","initialOrder","column","dir","defaultSortField","defaultSortAsc","ability","can","status","columns","name","selector","sortable","sortField","width","minWidth","cell","row","find","city","city_id","shipping","className","color","pill","Number","parseFloat","toFixed"],"mappings":"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","file":"static/js/192.e845a989.chunk.js","sourcesContent":["import { datatable, model, models, api as apiCalls } from './use-data'\n\nconst url = 'city'\n\nexport const api = {\n    create: params => apiCalls.create(url, params),\n    update: (id, params) => apiCalls.update(url, id, params),\n    delete: id => apiCalls.delete(url, id)\n}\n\nexport function useModel(id) {\n    return model(url, id)\n}\n\nexport function useDatatable(params) {\n    return datatable(url, `${url}/datatable`, params)\n}\n\nexport function useModels() {\n    return models(url)\n}\n","import useSWR from 'swr'\nimport axios from '../utility/axiosIsntance'\n\nconst fetcher = (url) => axios.get(url).then(res => res.data?.data)\n\nexport const api = {\n\n    create: async (url, params) => {\n        const { data } = await axios.post(url, params)\n        return data?.data\n    },\n\n    update: async (url, id, params) => {\n        const { data } = await axios.put(`${url}/${id}`, params)\n        return data?.data\n    },\n\n    delete: async (url, id) => {\n        await axios.delete(`${url}/${id}`)\n    }\n}\n\nexport function model(url, id) {\n\n    const { data, mutate, error } = useSWR(`${url}/${id}`, fetcher)\n\n    const loading = !data && !error\n\n    return {\n        loading,\n        error,\n        data,\n        mutate,\n        update: async (params) => {\n            await api.update(url, id, params)\n            await mutate()\n        }\n    }\n}\n\n\nexport function models(url) {\n\n    const { data, mutate, error } = useSWR(url, fetcher, {\n        revalidateOnFocus: false,\n        revalidateOnReconnect: false,\n        refreshWhenOffline: false,\n        refreshWhenHidden: false,\n        refreshInterval: 0\n    })\n\n    const loading = !data && !error\n\n    return {\n        loading,\n        error,\n        data: data || [],\n        mutate,\n        create: async (params) => api.create(params)\n    }\n}\n\n\nexport function datatable(base, endpoint, { page, limit, search, order = {}, conditions = {} }) {\n\n    const url = `${endpoint}?page=${page}&limit=${limit}&search=${search}&order=${JSON.stringify(order)}&conditions=${JSON.stringify(conditions)}`\n\n    const { data, mutate, error } = useSWR(url, fetcher)\n\n    const loading = !data && !error\n\n    return {\n        loading,\n        error,\n        data: data?.items || [],\n        total: data?.total || 0,\n        mutate,\n        mutates: {\n            delete: async (id) => {\n                await api.delete(base, id)\n                await mutate(url)\n            }\n        }\n    }\n\n}\nexport function datatableWithData(base, endpoint, { page, limit, search, order = {}, conditions = {}, from, to }) {\n\n    const url = `${endpoint}?page=${page}&limit=${limit}&from=${from}&to=${to}&search=${search}&order=${JSON.stringify(order)}&conditions=${JSON.stringify(conditions)}`\n\n    const { data, mutate, error } = useSWR(url, fetcher)\n\n    const loading = !data && !error\n\n    return {\n        loading,\n        error,\n        data: data?.items || [],\n        total: data?.total || 0,\n        mutate,\n        mutates: {\n            delete: async (id) => {\n                await api.delete(base, id)\n                await mutate(url)\n            }\n        }\n    }\n\n}\n\nexport function table(endpoint, { conditions }) {\n\n    const url = `${endpoint}?conditions=${JSON.stringify(conditions)}`\n\n    const { data, mutate, error } = useSWR(url, fetcher)\n\n    const loading = !data && !error\n\n    return {\n        loading,\n        error,\n        data: data?.items || [],\n        total: data?.total || 0,\n        mutate\n    }\n\n}\n","import { Fragment } from 'react'\nimport Breadcrumbs from '@components/breadcrumbs'\nimport Datatable from '@components/datatable'\nimport { useDatatable } from '@data/use-order'\nimport actions from '../actions'\nimport ability from \"../../../configs/acl/ability\"\nimport {Badge} from \"reactstrap\"\nimport { useModels as useCities } from '@data/use-city'\n\nconst shippingStatusClasses = {\n    WAITING: 'light-warning',\n    SHIPPED: 'light-info',\n    DELIVERED: 'light-success'\n}\n\nconst Tables = () => {\n    const { data: cities } = useCities()\n    console.log(cities)\n    return (\n        <Fragment>\n        <Breadcrumbs breadCrumbTitle='Orders' breadCrumbActive='Orders' />\n        <Datatable\n            useDatatable={useDatatable}\n            actions={actions}\n            initialOrder={{column: 'id', dir: 'desc'}}\n            defaultSortField={'number'}\n            defaultSortAsc={false}\n            conditions={(!ability.can('read', 'untaxed_list_view') && !ability.can('read', 'befor_completed_untaxed_list_view')) ?  {'options->taxed': true, status: 'PENDING', 'options->price_offer': false } : { status: 'PENDING', 'options->price_offer': false}}\n            columns={[\n                {\n                    name: 'Number',\n                    selector: 'number',\n                    sortable: true,\n                    sortField: 'id'\n                },\n                {\n                    name: 'customer',\n                    selector: 'customer.name',\n                    sortable: true,\n                    sortField: 'customer->name'\n                },\n                {\n                    name: 'phone',\n                    selector: 'customer.phone',\n                    sortField: 'customer->phone',\n                    sortable: true\n                },\n                {\n                    name: 'notes',\n                    selector: 'notes',\n                    sortable: true,\n                    width: '300px'\n                },\n                {\n                    name: 'shipping',\n                    selector: 'shipping.city',\n                    sortable: true,\n                    sortField: 'shipping->city',\n                    minWidth: '100px',\n                    cell: row => cities.find(city => city.id === row.city_id)?.name ?? row.shipping.city\n                },\n                {\n                    name: 'shipping Status',\n                    selector: 'shipping.status',\n                    sortable: true,\n                    sortField: 'shipping->status',\n                    minWidth: '100px',\n                    cell: row => (\n                        <Badge className='text-capitalize' color={shippingStatusClasses[row?.shipping?.status] || ''} pill>\n                            {row?.shipping?.status}\n                        </Badge>\n                    )\n                },\n                {\n                    name: 'Total',\n                    selector: 'total',\n                    sortable: true,\n                    minWidth: '100px',\n                    cell: row => Number.parseFloat(row?.total).toFixed(2)\n                }\n            ]}\n        />\n    </Fragment>\n    )\n}\n\n\nexport default Tables\n"],"sourceRoot":""}