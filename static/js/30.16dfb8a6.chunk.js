(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[30],{107:function(e,t,n){"use strict";var r=n(4),a=n(5),c=n(0),i=n.n(c),o=n(1),s=n.n(o),u=n(11),l=n.n(u),d=n(12),f={tag:d.q,type:s.a.string,size:s.a.string,color:s.a.string,className:s.a.string,cssModule:s.a.object,children:s.a.string},p=function(e){var t=e.className,n=e.cssModule,c=e.type,o=e.size,s=e.color,u=e.children,f=e.tag,p=Object(a.a)(e,["className","cssModule","type","size","color","children","tag"]),b=Object(d.m)(l()(t,!!o&&"spinner-"+c+"-"+o,"spinner-"+c,!!s&&"text-"+s),n);return i.a.createElement(f,Object(r.a)({role:"status"},p,{className:b}),u&&i.a.createElement("span",{className:Object(d.m)("sr-only",n)},u))};p.propTypes=f,p.defaultProps={tag:"div",type:"border",children:"Loading..."},t.a=p},129:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return p}));var r=n(2),a=n(54),c=n.n(a),i=n(55),o=n(64),s=n(63),u=function(e){return s.a.get(e).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.data}))},l={create:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("product",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.put("product/".concat(t),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.delete("product/".concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),autocomplete:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("product/autocomplete?q=".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),stock:function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("product/stock",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sku:function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("product/sku",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function d(e){var t=Object(o.a)("product/".concat(e),u,{revalidateOnFocus:!1}),n=t.data,r=t.mutate,a=t.error;return{loading:!n&&!a,error:a,data:n,mutate:r,update:function(){var t=Object(i.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.update(e,n);case 2:return t.next=4,r();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}function f(e){var t=e.page,n=e.limit,a=e.search,s=e.order,d=void 0===s?{}:s,f="product/datatable?page=".concat(t,"&limit=").concat(n,"&search=").concat(a,"&order=").concat(JSON.stringify(d)),p=Object(o.a)(f,u),b=p.data,j=p.mutate,m=p.error,v=!b&&!m,h={delete:function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.delete(t);case 2:j(Object(r.a)({},b));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};return{loading:v,error:m,data:(null===b||void 0===b?void 0:b.items)||[],total:(null===b||void 0===b?void 0:b.total)||0,mutates:h}}function p(e){var t=e.page,n=e.limit,r=e.search,a=e.order,c="product/datatable?page=".concat(t,"&limit=").concat(n,"&search=").concat(r,"&order=").concat(null===a||void 0===a?void 0:a.column,"&dir=").concat(null===a||void 0===a?void 0:a.direction),i=Object(o.a)(c,u),s=i.data,l=i.error;return{loading:!s&&!l,error:l,data:(null===s||void 0===s?void 0:s.items)||[],total:(null===s||void 0===s?void 0:s.total)||0}}},130:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return f}));var r=n(2),a=n(54),c=n.n(a),i=n(55),o=n(64),s=n(63),u=function(e){return s.a.get(e).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.data}))},l={create:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("order",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.put("order/".concat(t),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),status:function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("order/".concat(t,"/status"),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),supplier:function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("order/".concat(t,"/supplier"),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),shippingStatus:function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.status,e.next=3,s.a.post("order/".concat(t,"/shipping-status"),{shipping_status:r});case 3:return a=e.sent,i=a.data,e.abrupt("return",null===i||void 0===i?void 0:i.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};function d(e){var t="order/".concat(e),n=Object(o.a)("order/".concat(e),u,{revalidateOnFocus:!1,revalidateOnReconnect:!1,refreshWhenOffline:!1,refreshWhenHidden:!1,refreshInterval:0}),a=n.data,s=n.error,d=!a&&!s,f=function(){var n=Object(i.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.update(e,r);case 2:return n.next=4,Object(o.b)(t);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),p=function(){var n=Object(i.a)(c.a.mark((function n(i){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.status(e,i);case 2:return n.next=4,Object(o.b)(t,Object(r.a)(Object(r.a)({},a),i),!1);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),b=function(){var n=Object(i.a)(c.a.mark((function n(i){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.supplier(e,i);case 2:return n.next=4,Object(o.b)(t,Object(r.a)(Object(r.a)({},a),{},{status:i.status}),!1);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return{loading:d,error:s,data:a,mutate:o.b,update:f,updateStatus:p,updateSupplier:b,updateShippingStatus:function(t){return l.shippingStatus(e,t)}}}function f(e){var t=e.page,n=e.limit,r=e.search,a=e.order,c=void 0===a?{}:a,i=e.conditions,s=void 0===i?{}:i,l="order/datatable?page=".concat(t,"&limit=").concat(n,"&search=").concat(r,"&order=").concat(JSON.stringify(c),"&conditions=").concat(JSON.stringify(s)),d=Object(o.a)(l,u),f=d.data,p=(d.mutate,d.error);return{loading:!f&&!p,error:p,data:(null===f||void 0===f?void 0:f.items)||[],total:(null===f||void 0===f?void 0:f.total)||0,mutates:{}}}},168:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return f}));var r=n(2),a=n(54),c=n.n(a),i=n(55),o=(n(64),n(63)),s=n(59),u="user",l={create:function(e){return s.a.create(u,e)},update:function(e,t){return s.a.update(u,e,t)},delete:function(e){return s.a.delete(u,e)},autocomplete:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("".concat(u,"/autocomplete?q=").concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),changePassword:function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("".concat(u,"/").concat(t,"/change-password"),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),verificationEmail:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("".concat(u,"/").concat(t,"/verification-email"));case 2:return n=e.sent,r=n.data,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function d(e){return Object(s.c)(u,e)}function f(e){var t=Object(s.b)(u,"".concat(u,"/datatable"),e);return t.mutates=Object(r.a)(Object(r.a)({},t.mutates),{},{verificationEmail:l.verificationEmail}),t}},169:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s}));var r=n(59),a="shipping-provider",c={create:function(e){return r.a.create(a,e)},update:function(e,t){return r.a.update(a,e,t)},delete:function(e){return r.a.delete(a,e)}};function i(e){return Object(r.c)(a,e)}function o(e){return Object(r.b)(a,"".concat(a,"/datatable"),e)}function s(){return Object(r.d)(a)}},176:function(e,t,n){"use strict";var r=n(2),a=n(7),c=n(8),i=n(18),o=n(11),s=n.n(o),u=n(293),l=n(296),d=n(0),f=n(518),p=n(519),b=n(51),j=n(96),m=(n(268),n(3)),v=function(e){var t,n=e.min,o=e.max,u=e.step,l=e.size,v=e.wrap,h=e.value,O=e.style,x=e.upIcon,g=e.disabled,y=e.readonly,w=e.onChange,N=e.downIcon,k=e.vertical,C=e.className,D=e.onDecrement,S=e.onIncrement,E=e.inputClassName,F=Object(i.a)(e,["min","max","step","size","wrap","value","style","upIcon","disabled","readonly","onChange","downIcon","vertical","className","onDecrement","onIncrement","inputClassName"]),P=Object(d.useState)(h||n),A=Object(c.a)(P,2),_=A[0],z=A[1],R=function(e){if(e.preventDefault(),!g&&!y){if(!v&&_<=n)return;z(_-u<n?v?o:n:_-u),D&&S(_)}},I=function(e){if(e.preventDefault(),!g&&!y){if(!v&&_>=o)return;z(_+u>o?v?n:o:_+u),S&&S(_)}};return Object(d.useEffect)((function(){w&&w(_)}),[_]),Object(m.jsxs)(f.a,Object(r.a)(Object(r.a)({className:s()("number-input",(t={disabled:g,readonly:y},Object(a.a)(t,C,C),Object(a.a)(t,"vertical-number-input",k),Object(a.a)(t,"vertical-number-input-".concat(l),k&&l),t))},O?{style:O}:{}),{},{children:[Object(m.jsx)(p.a,{addonType:"prepend",onClick:R,children:Object(m.jsx)(b.a,Object(r.a)(Object(r.a)({className:"btn-icon",color:"transparent"},l?{size:l}:{}),{},{disabled:!v&&_<=n||g||y,children:N}))}),Object(m.jsx)(j.a,Object(r.a)(Object(r.a)({},F),{},{type:"number",value:_,disabled:g,readOnly:y,onKeyDown:function(e){y||(38===e.keyCode&&I(),40===e.keyCode&&R())},onChange:function(e){z(Number(e.target.value))},className:s()(Object(a.a)({},E,E))},l?{bsSize:l}:{})),Object(m.jsx)(p.a,{addonType:"append",onClick:I,children:Object(m.jsx)(b.a,Object(r.a)(Object(r.a)({className:"btn-icon",color:"transparent"},l?{size:l}:{}),{},{disabled:!v&&_>=o||g||y,children:x}))})]}))};t.a=v,v.defaultProps={min:1,step:1,wrap:!1,max:1/0,disabled:!1,readonly:!1,downIcon:Object(m.jsx)(u.a,{size:14}),upIcon:Object(m.jsx)(l.a,{size:14})}},177:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s}));var r=n(59),a="coupon",c={create:function(e){return r.a.create(a,e)},update:function(e,t){return r.a.update(a,e,t)},delete:function(e){return r.a.delete(a,e)}};function i(e){return Object(r.c)(a,e)}function o(e){return Object(r.b)(a,"".concat(a,"/datatable"),e)}function s(){return Object(r.d)(a)}},178:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s}));var r=n(59),a="city",c={create:function(e){return r.a.create(a,e)},update:function(e,t){return r.a.update(a,e,t)},delete:function(e){return r.a.delete(a,e)}};function i(e){return Object(r.c)(a,e)}function o(e){return Object(r.b)(a,"".concat(a,"/datatable"),e)}function s(){return Object(r.d)(a)}},268:function(e,t,n){},501:function(e,t,n){"use strict";n(0),n(11);var r=n(3);t.a=function(e){var t=e.data;return Object(r.jsx)("a",{className:"text-dark",href:"".concat("http://127.0.0.1:8000/","/product/").concat(t.sku),target:"_blank",children:t.name})}},543:function(e,t,n){},544:function(e,t,n){"use strict";var r=n(796),a=n(98),c=n(0),i=n(3);t.a=function(e){var t=e.form,n=e.order,o=e.isCompleted,s=t.watch("options.taxed");return Object(c.useEffect)((function(){s?t.setValue("options.price_offer",!1):t.setValue("options.tax_exempt",!1)}),[s]),Object(i.jsxs)("div",{className:"mt-1",children:[Object(i.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(i.jsx)(r.a,{id:"order-taxed",type:"switch",disabled:!!(null===n||void 0===n?void 0:n.tax_number)||o,name:"options.taxed",innerRef:t.register()}),Object(i.jsx)(a.a,{className:"mb-0 font-medium-1",for:"order-taxed",children:Object(i.jsx)("strong",{children:"\u0641\u0627\u062a\u0648\u0631\u0629 \u0636\u0631\u064a\u0628\u064a\u0629"})})]}),Object(i.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[Object(i.jsx)(r.a,{disabled:!s||o,id:"order-tax-exempt",type:"switch",name:"options.tax_exempt",innerRef:t.register()}),Object(i.jsx)(a.a,{className:"mb-0 font-medium-1",for:"order-tax-exempt",children:Object(i.jsx)("strong",{children:"\u0645\u0639\u0641\u064a \u0645\u0646 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"})})]}),Object(i.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[Object(i.jsx)(r.a,{disabled:o,id:"order-dept",type:"switch",name:"options.dept",innerRef:t.register()}),Object(i.jsx)(a.a,{className:"mb-0 font-medium-1",for:"order-dept",children:Object(i.jsx)("strong",{children:"\u0641\u0627\u062a\u0648\u0631\u0629 \u0630\u0645\u0645"})})]}),Object(i.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[Object(i.jsx)(r.a,{disabled:s||o,id:"order-price-offer",type:"switch",name:"options.price_offer",innerRef:t.register()}),Object(i.jsx)(a.a,{className:"mb-0 font-medium-1",for:"order-price-offer",children:Object(i.jsx)("strong",{children:"\u0639\u0631\u0636 \u0633\u0639\u0631"})})]})]})}},545:function(e,t,n){"use strict";var r=n(8),a=n(88),c=n(184),i=n(796),o=n(171),s=n(731),u=n(96),l=n(98),d=n(66),f=n(53),p=n(178),b=n(169),j=n(0),m=n(3);t.a=function(e){var t,n,v=e.form,h=e.isCompleted,O=Object(j.useState)({}),x=Object(r.a)(O,2),g=x[0],y=x[1],w=Object(p.d)().data,N=Object(b.d)().data,k=w.map((function(e){return{label:e.name,value:e.id,cost:e.shipping_cost}})),C=N.map((function(e){return{label:e.name,value:e.id}})),D=v.watch("has_shipping"),S=[{label:"Waiting for shipping",value:"WAITING"},{label:"On The Way",value:"SHIPPED"},{label:"Delivered",value:"DELIVERED"}];return Object(m.jsxs)(a.a,{children:[Object(m.jsxs)(c.a,{children:["Shipping",Object(m.jsx)(i.a,{disabled:h,id:"order-has-shipping",type:"switch",name:"has_shipping",innerRef:v.register(),onChange:function(e){e.target.checked?g&&(v.setValue("shipping",g.shipping),v.setValue("city_id",g.city),v.setValue("shipping_provider_id",g.shipping_provider)):(y({city:v.getValues("city_id"),shipping_provider:v.getValues("shipping_provider_id"),shipping:{cost:v.getValues("shipping.cost"),address:v.getValues("shipping.address"),status:v.getValues("shipping.status")}}),v.setValue("shipping.cost",null),v.setValue("shipping.address",null),v.setValue("shipping.status",null),v.setValue("city_id",null),v.setValue("shipping_provider_id",null))}})]}),Object(m.jsxs)(o.a,{children:[Object(m.jsx)(s.a,{children:Object(m.jsx)(f.a,{control:v.control,defaultValue:null,name:"city_id",render:function(e){var t=e.onChange,n=e.value,r=(e.name,e.ref);return Object(m.jsx)(d.a,{className:"react-select",classNamePrefix:"select",value:k.filter((function(e){return e.value===n})),inputRef:r,placeholder:"Select City...",options:k,onChange:function(e){var n;t((null===e||void 0===e?void 0:e.value)||null),n=e,v.setValue("shipping.cost",(null===n||void 0===n?void 0:n.cost)||0)},isClearable:!0,isDisabled:!D||h})}})}),Object(m.jsx)(s.a,{children:Object(m.jsx)(f.a,{control:v.control,defaultValue:null,name:"shipping_provider_id",render:function(e){var t=e.onChange,n=e.value,r=(e.name,e.ref);return Object(m.jsx)(d.a,{className:"react-select",classNamePrefix:"select",placeholder:"Select Shipping Provider...",value:C.filter((function(e){return e.value===n})),inputRef:r,options:C,onChange:function(e){return t((null===e||void 0===e?void 0:e.value)||null)},isClearable:!0,isDisabled:!D||h})}})}),Object(m.jsx)(s.a,{children:Object(m.jsx)(u.a,{disabled:!D||h,type:"textarea",name:"shipping.address",placeholder:"Shipping Address",innerRef:v.register({required:D}),invalid:(null===(t=v.errors.shipping)||void 0===t?void 0:t.address)&&!0})}),Object(m.jsx)(s.a,{children:Object(m.jsx)(u.a,{disabled:!D||h,type:"number",name:"shipping.cost",placeholder:"Cost",step:"0.1",innerRef:v.register({required:D}),invalid:(null===(n=v.errors.shipping)||void 0===n?void 0:n.cost)&&!0})}),Object(m.jsx)(s.a,{children:Object(m.jsx)(f.a,{control:v.control,defaultValue:"WAITING",name:"shipping.status",render:function(e){var t=e.onChange,n=e.value,r=(e.name,e.ref);return Object(m.jsx)(d.a,{isDisabled:!D||h,className:"react-select",classNamePrefix:"select",value:S.filter((function(e){return e.value===n})),inputRef:r,options:S,onChange:function(e){return t(null===e||void 0===e?void 0:e.value)}})}})}),Object(m.jsx)(s.a,{children:Object(m.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[Object(m.jsx)(l.a,{className:"mb-0",for:"order-free-shipping",children:"Free Shipping"}),Object(m.jsx)(i.a,{disabled:!D||h,id:"order-free-shipping",type:"switch",name:"shipping.free",innerRef:v.register()})]})})]})]})}},565:function(e,t,n){"use strict";var r=n(89),a=n(8),c=n(88),i=n(171),o=n(51),s=n(54),u=n.n(s),l=n(55),d=n(80),f=n(520),p=n(518),b=n(96),j=n(519),m=n(175),v=n(750),h=n(649),O=n(642),x=n(643),g=n(731),y=n(644),w=n(53),N=n(114),k=n(295),C=n(0),D=n(257),S=n(81),E=n(176),F=n(129),P=function(e,t){var n=e.price,r=e.min_price,a=e.normal_price;return console.log(t),"min"===t?r:"normal"===t?a:n},A=n(501),_=n(3),z=function(e){var t=e.disabled,n=e.form,r=function(e,n,r,a){t||a(e.map((function(e){return e.id===n&&(e[r.name]=r.value),e})))},a=n.watch("options.pricing"),c=function(){var e=Object(l.a)(u.a.mark((function e(n,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:r(n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(_.jsxs)(f.a,{striped:!0,hover:!0,size:"sm",children:[Object(_.jsx)("thead",{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{children:"Product"}),Object(_.jsx)("th",{width:"15%",children:"Quantity"}),Object(_.jsx)("th",{width:"15%",children:"Price"}),Object(_.jsx)("th",{width:"15%",className:"text-center",children:"Actions"})]})}),Object(_.jsx)("tbody",{children:Object(_.jsx)(w.a,{control:n.control,defaultValue:null,name:"products",render:function(e){var i=e.onChange,s=e.value;e.name,e.ref;return Object(_.jsxs)(_.Fragment,{children:[(s||[]).map((function(e){return Object(_.jsxs)("tr",{children:[Object(_.jsxs)("td",{children:[Object(_.jsx)("img",{className:"mr-75",src:e.image,alt:"angular",height:"60",width:"60"}),Object(_.jsx)("span",{className:"align-middle font-weight-bold",children:Object(_.jsx)(A.a,{data:e})})]}),Object(_.jsx)("td",{children:Object(_.jsx)(E.a,{disabled:t,value:e.quantity,name:"quantity",type:"number",required:!0,onChange:function(t){return r(s,e.id,{name:"quantity",value:t},i)}})}),Object(_.jsx)("td",{children:Object(_.jsxs)(p.a,{children:[Object(_.jsx)(b.a,{disabled:t,value:P(e,a),name:"price",type:"number",step:1,required:!0,onChange:function(t){r(s,e.id,t.target,i),n.setValue("options.pricing","custom")}}),Object(_.jsx)(j.a,{addonType:"append",children:Object(_.jsx)(m.a,{children:"$"})})]})}),Object(_.jsx)("td",{className:"text-center",children:Object(_.jsx)(N.a,{className:"cursor-pointer",size:20,onClick:function(){return function(e,n,r){if(!t){var a=e.filter((function(e){return e.id!==n})).map((function(e){return e}));Object(S.a)((function(){r(a)}))}}(s,e.id,i)}})})]},e.id)})),Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{colSpan:3,children:Object(_.jsx)(w.a,{control:n.control,defaultValue:null,name:"options.pricing",render:function(e){var t=e.onChange,n=e.value;e.name,e.ref;return Object(_.jsxs)(v.a,{children:[Object(_.jsx)(o.a,{outline:!0,color:"primary",onClick:function(){return c("normal",t)},active:"normal"===n||!n,size:"sm",children:"Normal"}),Object(_.jsx)(o.a,{outline:!0,color:"primary",onClick:function(){return c("min",t)},active:"min"===n,size:"sm",children:"Distributor"}),Object(_.jsx)(o.a,{outline:!0,color:"primary",onClick:function(){return c("custom",t)},active:"custom"===n,size:"sm",children:"Custom"})]})}})}),Object(_.jsx)("td",{className:"text-center p-2",children:Object(_.jsx)(R,{products:[],onSubmit:function(e){return function(e,n,r){var a,c;t||(e=null!==(a=e)&&void 0!==a?a:[],n.quantity=1,(null===(c=e)||void 0===c?void 0:c.some((function(e){return e.id===n.id})))||r([].concat(Object(d.a)(e),[n])))}(s,e,i)}})})]})]})}})})]})};function R(e){e.products;var t=e.onSubmit,n=Object(C.useState)(!1),r=Object(a.a)(n,2),c=r[0],i=r[1],s=Object(C.useState)(null),d=Object(a.a)(s,2),f=d[0],p=d[1],b=function(e){e.id;var t=e.name,n=e.image,r=(e.price,e.stock);return Object(_.jsxs)("div",{className:"d-flex justify-content-left align-items-center",children:[Object(_.jsx)("div",{className:"avatar mr-50",width:"32",height:"32",children:Object(_.jsx)("img",{src:n,height:"32",width:"32"})}),Object(_.jsxs)("div",{className:"d-flex flex-column",children:[Object(_.jsx)("h6",{className:"user-name text-truncate mb-0",children:t}),Object(_.jsxs)("small",{className:"text-truncate text-muted mb-0",children:["Available Quantity: ",r]})]})]})},j=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.autocomplete(t);case 2:return n=e.sent,e.abrupt("return",n.map((function(e){var t=e.id,n=e.name,r=e.image,a=e.price,c=e.stock,i=e.min_price,o=e.normal_price,s=e.sku;return{label:b({id:t,name:n,image:r,price:a,stock:c}),value:t,item:{id:t,name:n,image:r,stock:c,price:a,min_price:i,normal_price:o,sku:s}}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(k.a,{className:"cursor-pointer",size:22,onClick:function(){return i(!0)}}),Object(_.jsxs)(h.a,{isOpen:c,toggle:function(){return i(!c)},className:"modal-dialog-centered",children:[Object(_.jsx)(O.a,{toggle:function(){return i(!c)},children:"Add Product"}),Object(_.jsx)(x.a,{children:Object(_.jsx)(g.a,{children:Object(_.jsx)(D.a,{isClearable:!0,className:"react-select",classNamePrefix:"select",loadOptions:j,cacheOptions:!0,onChange:function(e,t){t.action,t.removedValue;p(null===e||void 0===e?void 0:e.item)}})})}),Object(_.jsxs)(y.a,{children:[Object(_.jsx)(o.a,{color:"primary",onClick:function(){t&&f&&t(f)},children:"Save"})," "]})]})]})}var I=n(67),V=n.n(I),T=n(183),q=n(539),B=n(57),L=n(103),M=n(95),W=n(98),K=n(168),G=function(e){var t,n,r,c=e.form,i=e.order,o=e.disabled,s=Object(C.useState)(),d=Object(a.a)(s,2),f=d[0],p=d[1];Object(C.useEffect)((function(){f||p(null===i||void 0===i?void 0:i.user)}),[i]);var j=function(e){return Object(_.jsx)("div",{className:"d-flex justify-content-left align-items-center",children:Object(_.jsxs)("div",{className:"d-flex flex-column",children:[Object(_.jsx)("h6",{className:"user-name text-truncate mb-0",children:null===e||void 0===e?void 0:e.name}),Object(_.jsx)("small",{className:"text-truncate text-muted mb-0",children:null===e||void 0===e?void 0:e.email})]})})},m=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.autocomplete(t);case 2:return n=e.sent,e.abrupt("return",n.map((function(e){var t=e.id,n=e.name,r=e.email,a=e.phone;return{label:j({id:t,name:n,email:r,phone:a}),value:t,item:{id:t,name:n,email:r,phone:a}}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)(L.a,{children:[Object(_.jsx)(M.a,{sm:"12",children:Object(_.jsx)(g.a,{children:Object(_.jsx)(w.a,{control:c.control,defaultValue:null,name:"user_id",render:function(e){var t=e.onChange,n=e.value;e.name,e.ref;return Object(_.jsx)(D.a,{isClearable:!0,className:"react-select",classNamePrefix:"select",defaultOptions:!0,isDisabled:o,value:{value:n,label:j(f)},loadOptions:m,cacheOptions:!0,onChange:function(e,n){t(null===e||void 0===e?void 0:e.item.id),function(e,t){t.action,t.removedValue,p(null===e||void 0===e?void 0:e.item),(null===e||void 0===e?void 0:e.item)&&(c.setValue("customer.name",e.item.name),c.setValue("customer.email",e.item.email),c.setValue("customer.phone",e.item.phone))}(e,n)}})}})})}),Object(_.jsx)(M.a,{sm:"4",children:Object(_.jsxs)(g.a,{children:[Object(_.jsx)(W.a,{for:"customerName",children:"Name"}),Object(_.jsx)(b.a,{disabled:o,type:"text",id:"customerName",name:"customer.name",innerRef:c.register({required:!0}),invalid:(null===(t=c.errors.customer)||void 0===t?void 0:t.name)&&!0})]})}),Object(_.jsx)(M.a,{sm:"4",children:Object(_.jsxs)(g.a,{children:[Object(_.jsx)(W.a,{for:"customerPhone",children:"Phone"}),Object(_.jsx)(b.a,{disabled:o,type:"text",id:"customerName",name:"customer.phone",innerRef:c.register({required:!0}),invalid:(null===(n=c.errors.customer)||void 0===n?void 0:n.phone)&&!0})]})}),Object(_.jsx)(M.a,{sm:"4",children:Object(_.jsxs)(g.a,{children:[Object(_.jsx)(W.a,{for:"customerEmail",children:"Email"}),Object(_.jsx)(b.a,{disabled:o,type:"text",id:"customerEmail",name:"customer.email",innerRef:c.register({required:!1}),invalid:(null===(r=c.errors.customer)||void 0===r?void 0:r.email)&&!0})]})}),Object(_.jsx)(M.a,{sm:"12",children:Object(_.jsxs)(g.a,{children:[Object(_.jsx)(W.a,{for:"notes",children:"Notes"}),Object(_.jsx)(b.a,{disabled:o,id:"notes",type:"textarea",name:"notes",innerRef:c.register({required:!1}),invalid:c.errors.notes&&!0})]})}),Object(_.jsx)(M.a,{sm:"12",children:Object(_.jsxs)(g.a,{children:[Object(_.jsx)(W.a,{for:"notes",children:"Invoice Notes"}),Object(_.jsx)(b.a,{disabled:o,id:"invoiceNotes",type:"textarea",name:"invoice_notes",innerRef:c.register({required:!1}),invalid:c.errors.notes&&!0})]})})]})},J=n(7),$=n(2);function U(e){var t=e.form,n=e.disabled,r=e.fieldName,a=e.onUpdate,c={price:1,quantity:1,name:""},i=t.watch(r),o=function(e,t,n,r,c){var o=i;o[e]=Object($.a)(Object($.a)({},t),{},Object(J.a)({},n,r)),c(o),a()};return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(f.a,{striped:!0,hover:!0,size:"sm",children:[Object(_.jsx)("thead",{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{children:"Extra"}),Object(_.jsx)("th",{width:"15%",children:"Quantity"}),Object(_.jsx)("th",{width:"15%",children:"Price"}),Object(_.jsx)("th",{width:"15%",className:"text-center",children:"Actions"})]})}),Object(_.jsxs)("tbody",{children:[Object(_.jsx)(w.a,{control:t.control,defaultValue:[],name:r,render:function(e){var t=e.value,r=e.onChange;return Object(_.jsx)(_.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:Object(_.jsx)(b.a,{disabled:n,type:"text",name:"name",placeholder:"Name",value:e.name,required:!0,onChange:function(n){return o(t,e,"name",n.target.value,r)}})}),Object(_.jsx)("td",{children:Object(_.jsx)(E.a,{disabled:n,value:e.quantity,name:"quantity",type:"number",required:!0,onChange:function(n){return o(t,e,"quantity",n,r)}})}),Object(_.jsx)("td",{children:Object(_.jsx)(E.a,{disabled:n,value:e.price,name:"price",type:"number",required:!0,onChange:function(n){return o(t,e,"price",n,r)}})}),Object(_.jsx)("td",{className:"text-center",children:Object(_.jsx)(N.a,{className:"cursor-pointer",size:20,onClick:function(){return function(e,t){var n=i;n.splice(e,1),t(n),a()}(t,r)}})})]},t)}))})}}),Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{colSpan:3}),Object(_.jsx)("td",{className:"text-center py-2",children:Object(_.jsx)(k.a,{className:"cursor-pointer",size:22,onClick:function(){if(!n){var e=i||[];t.setValue(r,[].concat(Object(d.a)(e),[c]))}}})})]})]})]})})}var H=n(177),Y=n(66),Q=function(e){var t=e.form,n=e.calculations,r=e.disabled,a=e.setCoupon,c=Object(H.d)().data,o=c.map((function(e){return{label:e.name,value:e.id,data:e}})),s=t.watch("coupon_id");return Object(C.useEffect)((function(){var e=c.filter((function(e){return s===e.id}));e.length>0&&a(e[0])}),[s,c]),Object(_.jsx)(i.a,{className:"pb-2",children:Object(_.jsx)(L.a,{className:"justify-content-end",children:Object(_.jsxs)(M.a,{md:"6",children:[Object(_.jsxs)(g.a,{row:!0,children:[Object(_.jsx)(W.a,{sm:"3",for:"order",children:Object(_.jsx)("strong",{children:"Subtotal"})}),Object(_.jsx)(M.a,{sm:"9",children:Object(_.jsxs)(p.a,{children:[Object(_.jsx)(b.a,{value:(null===n||void 0===n?void 0:n.subtotal)||0,disabled:!0}),Object(_.jsx)(j.a,{addonType:"append",children:Object(_.jsx)(m.a,{children:"$"})})]})})]}),Object(_.jsxs)(g.a,{row:!0,children:[Object(_.jsx)(W.a,{sm:"3",for:"order",children:Object(_.jsx)("strong",{children:"Discount"})}),Object(_.jsx)(M.a,{sm:"3",children:Object(_.jsx)(b.a,{disabled:r,name:"discount",type:"number",min:0,step:"0.1",defaultValue:0,innerRef:t.register({required:!0}),invalid:t.errors.discount&&!0})}),Object(_.jsx)(M.a,{sm:"6",children:Object(_.jsx)(w.a,{control:t.control,name:"coupon_id",render:function(e){var t=e.onChange,n=e.value,a=(e.name,e.ref);return Object(_.jsx)(Y.a,{isDisabled:r,className:"react-select",classNamePrefix:"select",placeholder:"Coupon",value:o.filter((function(e){return e.value===n})),inputRef:a,isClearable:!0,options:o,onChange:function(e){return t((null===e||void 0===e?void 0:e.value)||null)}})}})})]}),Object(_.jsx)("hr",{className:"invoice-spacing"}),Object(_.jsxs)(g.a,{row:!0,children:[Object(_.jsx)(W.a,{sm:"3",for:"order",children:Object(_.jsx)("strong",{children:"Total"})}),Object(_.jsx)(M.a,{sm:"9",children:Object(_.jsxs)(p.a,{children:[Object(_.jsx)(b.a,{value:(null===n||void 0===n?void 0:n.total)||0,disabled:!0}),Object(_.jsx)(j.a,{addonType:"append",children:Object(_.jsx)(m.a,{children:"$"})})]})})]}),s&&Object(_.jsxs)(g.a,{row:!0,children:[Object(_.jsx)(W.a,{sm:"3",for:"order",children:Object(_.jsx)("strong",{children:"With Coupon"})}),Object(_.jsx)(M.a,{sm:"9",children:Object(_.jsxs)(p.a,{children:[Object(_.jsx)(b.a,{value:(null===n||void 0===n?void 0:n.totalWithCoupon)||0,disabled:!0}),Object(_.jsx)(j.a,{addonType:"append",children:Object(_.jsx)(m.a,{children:"$"})})]})})]})]})})})};t.a=function(e){var t=e.order,n=e.form,s=e.isCompleted,u=Object(C.useState)(),l=Object(a.a)(u,2),d=l[0],f=l[1],p=Object(C.useState)(0),b=Object(a.a)(p,2),j=b[0],m=b[1],v=Object(C.useState)(!0),h=Object(a.a)(v,2),O=h[0],x=h[1],g=n.watch("products"),y=n.watch("extra_items"),w=n.watch("discount"),N=n.watch("shipping.cost"),k=n.watch("shipping.free"),D=n.watch("options.pricing"),S=function(){var e,t=0,n=Object(r.a)(g||[]);try{for(n.s();!(e=n.n()).done;){var a=e.value;t+=P(a,D)*a.quantity}}catch(l){n.e(l)}finally{n.f()}var c,i=Object(r.a)(y||[]);try{for(i.s();!(c=i.n()).done;){var o=c.value;t+=o.quantity*o.price}}catch(l){i.e(l)}finally{i.f()}var s=d?d.is_percentage?t*((100-d.amount)/100):d.amount:0,u=t+Number.parseFloat(k?0:N||0)-Number.parseFloat(w||0);m({subtotal:t.toFixed(2),total:u.toFixed(2),totalWithCoupon:s.toFixed(2)})};return Object(C.useEffect)((function(){S(),x(t&&"PENDING"!==(null===t||void 0===t?void 0:t.status)||s)}),[t,g,y,w,N,k,D,d]),Object(_.jsxs)(c.a,{children:[Object(_.jsx)(i.a,{className:"px-2 pb-0",children:Object(_.jsxs)("div",{className:"d-flex justify-content-between flex-md-row flex-column",children:[Object(_.jsx)("div",{children:Object(_.jsx)("strong",{children:(null===t||void 0===t?void 0:t.number)?"Order: #".concat(null===t||void 0===t?void 0:t.number," | ").concat((null===t||void 0===t?void 0:t.tax_number)||"--"):"New Order"})}),Object(_.jsxs)("div",{children:["Date: ",Object(_.jsx)("span",{className:"invoice-number",children:V()().format("Y-MM-DD")})]})]})}),Object(_.jsx)("hr",{className:"invoice-spacing"}),Object(_.jsx)(i.a,{className:"px-2 pt-0",children:Object(_.jsx)(G,{form:n,order:t,disabled:s})}),Object(_.jsx)(z,{form:n,disabled:O}),Object(_.jsx)(U,{form:n,fieldName:"extra_items",disabled:O,onUpdate:S}),Object(_.jsx)("hr",{className:"m-0"}),Object(_.jsx)(Q,{form:n,calculations:j,disabled:s,setCoupon:f}),Object(_.jsx)("hr",{className:"invoice-spacing"}),Object(_.jsxs)(i.a,{className:"invoice-padding pt-0 d-flex",children:[Object(_.jsx)("div",{className:"mr-auto",children:t&&Object(_.jsx)(B.b,{to:"/order/print/".concat(t.id),id:"pw-tooltip-".concat(t.id),target:"_blank",children:Object(_.jsxs)(o.a.Ripple,{color:"dark",children:[Object(_.jsx)(T.a,{size:14}),Object(_.jsx)("span",{className:"align-middle ml-25",children:"Print"})]})})}),Object(_.jsxs)(o.a.Ripple,{color:"secondary",type:"submit",children:[Object(_.jsx)(q.a,{size:14}),Object(_.jsx)("span",{className:"align-middle ml-25",children:"Save Changes"})]})]})]})}},59:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return p}));var r=n(54),a=n.n(r),c=n(55),i=n(64),o=n(63),s=function(e){return o.a.get(e).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.data}))},u={create:function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post(t,n);case 2:return r=e.sent,c=r.data,e.abrupt("return",null===c||void 0===c?void 0:c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),update:function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){var c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.put("".concat(t,"/").concat(n),r);case 2:return c=e.sent,i=c.data,e.abrupt("return",null===i||void 0===i?void 0:i.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),delete:function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("".concat(t,"/").concat(n));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};function l(e,t){var n=Object(i.a)("".concat(e,"/").concat(t),s),r=n.data,o=n.mutate,l=n.error;return{loading:!r&&!l,error:l,data:r,mutate:o,update:function(){var n=Object(c.a)(a.a.mark((function n(r){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.update(e,t,r);case 2:return n.next=4,o();case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}function d(e){var t=Object(i.a)(e,s,{revalidateOnFocus:!1,revalidateOnReconnect:!1,refreshWhenOffline:!1,refreshWhenHidden:!1,refreshInterval:0}),n=t.data,r=t.mutate,o=t.error;return{loading:!n&&!o,error:o,data:n||[],mutate:r,create:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.create(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}function f(e,t,n){var r=n.page,o=n.limit,l=n.search,d=n.order,f=void 0===d?{}:d,p=n.conditions,b=void 0===p?{}:p,j="".concat(t,"?page=").concat(r,"&limit=").concat(o,"&search=").concat(l,"&order=").concat(JSON.stringify(f),"&conditions=").concat(JSON.stringify(b)),m=Object(i.a)(j,s),v=m.data,h=m.mutate,O=m.error;return{loading:!v&&!O,error:O,data:(null===v||void 0===v?void 0:v.items)||[],total:(null===v||void 0===v?void 0:v.total)||0,mutate:h,mutates:{delete:function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.delete(e,n);case 2:return t.next=4,h(j);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}}function p(e,t){var n=t.conditions,r="".concat(e,"?conditions=").concat(JSON.stringify(n)),a=Object(i.a)(r,s),c=a.data,o=a.mutate,u=a.error;return{loading:!c&&!u,error:u,data:(null===c||void 0===c?void 0:c.items)||[],total:(null===c||void 0===c?void 0:c.total)||0,mutate:o}}},720:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",a=(e.type||"").toLowerCase(),c=a.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?c===t.replace(/\/.*$/,""):a===t}))}return!0}},790:function(e,t,n){"use strict";n.r(t);var r=n(89),a=n(54),c=n.n(a),i=n(55),o=n(8),s=n(742),u=n(103),l=n(95),d=(n(543),n(0)),f=n.n(d),p=n(128),b=n(53),j=n(130),m=n(22),v=n(565),h=n(88),O=n(171),x=n(731),g=n(51),y=n(66),w=n(81),N=n(3),k=function(e){var t=e.update,n=e.order,r=Object(d.useState)(null),a=Object(o.a)(r,2),s=a[0],u=a[1];Object(d.useEffect)((function(){s||u(null===n||void 0===n?void 0:n.status)}),[n]);var l=[{label:"New Order",value:"PENDING"},{label:"Processing",value:"PROCESSING"},{label:"Completed",value:"COMPLETED"}],f=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(w.a)(Object(i.a)(c.a.mark((function e(){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({status:s});case 3:m.b.success("Success"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),m.b.error(null===(n=e.t0.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(w.b)(Object(i.a)(c.a.mark((function e(){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({status:"CANCELED"});case 3:u("CANCELED"),m.b.success("Success"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),m.b.error(null===(n=e.t0.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(N.jsx)(h.a,{className:"invoice-action-wrapper",children:Object(N.jsxs)(O.a,{children:[Object(N.jsx)(x.a,{children:Object(N.jsx)(y.a,{className:"react-select",classNamePrefix:"select",value:l.filter((function(e){return e.value===(s||(null===n||void 0===n?void 0:n.status))})),options:l,onChange:function(e){return u(null===e||void 0===e?void 0:e.value)}})}),Object(N.jsx)(g.a.Ripple,{color:"primary",block:!0,onClick:f,children:"Update Status"}),"PENDING"===(null===n||void 0===n?void 0:n.status)&&Object(N.jsx)(g.a.Ripple,{color:"danger",outline:!0,className:"mt-1",block:!0,onClick:p,children:"Delete Order"})]})})},C=n(544),D=n(545),S=n(2),E=n(80),F=n(1),P=n.n(F);function A(e,t,n,r){return new(n||(n=Promise))((function(a,c){function i(e){try{s(r.next(e))}catch(t){c(t)}}function o(e){try{s(r.throw(e))}catch(t){c(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}s((r=r.apply(e,t||[])).next())}))}function _(e,t){var n,r,a,c,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function o(c){return function(o){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(6===c[0]&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(o){c=[6,o],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,o])}}}Object.create;function z(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,c=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=c.next()).done;)i.push(r.value)}catch(o){a={error:o}}finally{try{r&&!r.done&&(n=c.return)&&n.call(c)}finally{if(a)throw a.error}}return i}Object.create;var R=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function I(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=R.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"===typeof t?t:"string"===typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var V=[".DS_Store","Thumbs.db"];function T(e){return(null!==e.target&&e.target.files?L(e.target.files):[]).map((function(e){return I(e)}))}function q(e,t){return A(this,void 0,void 0,(function(){var n;return _(this,(function(r){switch(r.label){case 0:return e.items?(n=L(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(M))]):[3,2];case 1:return[2,B(W(r.sent()))];case 2:return[2,B(L(e.files).map((function(e){return I(e)})))]}}))}))}function B(e){return e.filter((function(e){return-1===V.indexOf(e.name)}))}function L(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function M(e){if("function"!==typeof e.webkitGetAsEntry)return K(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?J(t):K(e)}function W(e){return e.reduce((function(e,t){return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(z(arguments[t]));return e}(e,Array.isArray(t)?W(t):[t])}),[])}function K(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=I(t);return Promise.resolve(n)}function G(e){return A(this,void 0,void 0,(function(){return _(this,(function(t){return[2,e.isDirectory?J(e):$(e)]}))}))}function J(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function a(){var c=this;t.readEntries((function(t){return A(c,void 0,void 0,(function(){var c,i,o;return _(this,(function(s){switch(s.label){case 0:if(t.length)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return c=s.sent(),e(c),[3,4];case 3:return i=s.sent(),n(i),[3,4];case 4:return[3,6];case 5:o=Promise.all(t.map(G)),r.push(o),a(),s.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function $(e){return A(this,void 0,void 0,(function(){return _(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=I(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}var U=n(720),H=n.n(U);function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,c=s}finally{try{r||null==o.return||o.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Z=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:"file-invalid-type",message:"File type must be ".concat(t)}},X=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," bytes")}},ee=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," bytes")}},te={code:"too-many-files",message:"Too many files"};function ne(e,t){var n="application/x-moz-file"===e.type||H()(e,t);return[n,n?null:Z(t)]}function re(e,t,n){if(ae(e.size))if(ae(t)&&ae(n)){if(e.size>n)return[!1,X(n)];if(e.size<t)return[!1,ee(t)]}else{if(ae(t)&&e.size<t)return[!1,ee(t)];if(ae(n)&&e.size>n)return[!1,X(n)]}return[!0,null]}function ae(e){return void 0!==e&&null!==e}function ce(e){var t=e.files,n=e.accept,r=e.minSize,a=e.maxSize,c=e.multiple,i=e.maxFiles;return!(!c&&t.length>1||c&&i>=1&&t.length>i)&&t.every((function(e){var t=Y(ne(e,n),1)[0],c=Y(re(e,r,a),1)[0];return t&&c}))}function ie(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function oe(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function se(e){e.preventDefault()}function ue(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function le(e){return-1!==e.indexOf("Edge/")}function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return ue(e)||le(e)}function fe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return t.some((function(t){return!ie(e)&&t&&t.apply(void 0,[e].concat(r)),ie(e)}))}}function pe(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||je(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,c=s}finally{try{r||null==o.return||o.return()}finally{if(a)throw c}}return n}(e,t)||je(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){if(e){if("string"===typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,t):void 0}}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ge=Object(d.forwardRef)((function(e,t){var n=e.children,r=Ne(xe(e,["children"])),a=r.open,c=xe(r,["open"]);return Object(d.useImperativeHandle)(t,(function(){return{open:a}}),[a]),f.a.createElement(d.Fragment,null,n(he(he({},c),{},{open:a})))}));ge.displayName="Dropzone";var ye={disabled:!1,getFilesFromEvent:function(e){return A(this,void 0,void 0,(function(){return _(this,(function(t){return[2,(n=e,n.dataTransfer&&e.dataTransfer?q(e.dataTransfer,e.type):T(e))];var n}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null};ge.defaultProps=ye,ge.propTypes={children:P.a.func,accept:P.a.oneOfType([P.a.string,P.a.arrayOf(P.a.string)]),multiple:P.a.bool,preventDropOnDocument:P.a.bool,noClick:P.a.bool,noKeyboard:P.a.bool,noDrag:P.a.bool,noDragEventsBubbling:P.a.bool,minSize:P.a.number,maxSize:P.a.number,maxFiles:P.a.number,disabled:P.a.bool,getFilesFromEvent:P.a.func,onFileDialogCancel:P.a.func,onDragEnter:P.a.func,onDragLeave:P.a.func,onDragOver:P.a.func,onDrop:P.a.func,onDropAccepted:P.a.func,onDropRejected:P.a.func,validator:P.a.func};var we={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function Ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=he(he({},ye),e),n=t.accept,r=t.disabled,a=t.getFilesFromEvent,c=t.maxSize,i=t.minSize,o=t.multiple,s=t.maxFiles,u=t.onDragEnter,l=t.onDragLeave,f=t.onDragOver,p=t.onDrop,b=t.onDropAccepted,j=t.onDropRejected,m=t.onFileDialogCancel,v=t.preventDropOnDocument,h=t.noClick,O=t.noKeyboard,x=t.noDrag,g=t.noDragEventsBubbling,y=t.validator,w=Object(d.useRef)(null),N=Object(d.useRef)(null),k=Object(d.useReducer)(ke,we),C=be(k,2),D=C[0],S=C[1],E=D.isFocused,F=D.isFileDialogActive,P=D.draggedFiles,A=Object(d.useCallback)((function(){N.current&&(S({type:"openDialog"}),N.current.value=null,N.current.click())}),[S]),_=function(){F&&setTimeout((function(){N.current&&(N.current.files.length||(S({type:"closeDialog"}),"function"===typeof m&&m()))}),300)};Object(d.useEffect)((function(){return window.addEventListener("focus",_,!1),function(){window.removeEventListener("focus",_,!1)}}),[N,F,m]);var z=Object(d.useCallback)((function(e){w.current&&w.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),A()))}),[w,N]),R=Object(d.useCallback)((function(){S({type:"focus"})}),[]),I=Object(d.useCallback)((function(){S({type:"blur"})}),[]),V=Object(d.useCallback)((function(){h||(de()?setTimeout(A,0):A())}),[N,h]),T=Object(d.useRef)([]),q=function(e){w.current&&w.current.contains(e.target)||(e.preventDefault(),T.current=[])};Object(d.useEffect)((function(){return v&&(document.addEventListener("dragover",se,!1),document.addEventListener("drop",q,!1)),function(){v&&(document.removeEventListener("dragover",se),document.removeEventListener("drop",q))}}),[w,v]);var B=Object(d.useCallback)((function(e){e.preventDefault(),e.persist(),$(e),T.current=[].concat(pe(T.current),[e.target]),oe(e)&&Promise.resolve(a(e)).then((function(t){ie(e)&&!g||(S({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),u&&u(e))}))}),[a,u,g]),L=Object(d.useCallback)((function(e){e.preventDefault(),e.persist(),$(e);var t=oe(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&f&&f(e),!1}),[f,g]),M=Object(d.useCallback)((function(e){e.preventDefault(),e.persist(),$(e);var t=T.current.filter((function(e){return w.current&&w.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),T.current=t,t.length>0||(S({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),oe(e)&&l&&l(e))}),[w,l,g]),W=Object(d.useCallback)((function(e){e.preventDefault(),e.persist(),$(e),T.current=[],oe(e)&&Promise.resolve(a(e)).then((function(t){if(!ie(e)||g){var r=[],a=[];t.forEach((function(e){var t=be(ne(e,n),2),o=t[0],s=t[1],u=be(re(e,i,c),2),l=u[0],d=u[1],f=y?y(e):null;if(o&&l&&!f)r.push(e);else{var p=[s,d];f&&(p=p.concat(f)),a.push({file:e,errors:p.filter((function(e){return e}))})}})),(!o&&r.length>1||o&&s>=1&&r.length>s)&&(r.forEach((function(e){a.push({file:e,errors:[te]})})),r.splice(0)),S({acceptedFiles:r,fileRejections:a,type:"setFiles"}),p&&p(r,a,e),a.length>0&&j&&j(a,e),r.length>0&&b&&b(r,e)}})),S({type:"reset"})}),[o,n,i,c,s,a,p,b,j,g,y]),K=function(e){return r?null:e},G=function(e){return O?null:K(e)},J=function(e){return x?null:K(e)},$=function(e){g&&e.stopPropagation()},U=Object(d.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,a=e.onKeyDown,c=e.onFocus,i=e.onBlur,o=e.onClick,s=e.onDragEnter,u=e.onDragOver,l=e.onDragLeave,d=e.onDrop,f=xe(e,["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return he(he(Oe({onKeyDown:G(fe(a,z)),onFocus:G(fe(c,R)),onBlur:G(fe(i,I)),onClick:K(fe(o,V)),onDragEnter:J(fe(s,B)),onDragOver:J(fe(u,L)),onDragLeave:J(fe(l,M)),onDrop:J(fe(d,W))},n,w),r||O?{}:{tabIndex:0}),f)}}),[w,z,R,I,V,B,L,M,W,O,x,r]),H=Object(d.useCallback)((function(e){e.stopPropagation()}),[]),Y=Object(d.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=void 0===t?"ref":t,a=e.onChange,c=e.onClick,i=xe(e,["refKey","onChange","onClick"]),s=Oe({accept:n,multiple:o,type:"file",style:{display:"none"},onChange:K(fe(a,W)),onClick:K(fe(c,H)),autoComplete:"off",tabIndex:-1},r,N);return he(he({},s),i)}}),[N,n,o,W,r]),Q=P.length,Z=Q>0&&ce({files:P,accept:n,minSize:i,maxSize:c,multiple:o,maxFiles:s}),X=Q>0&&!Z;return he(he({},D),{},{isDragAccept:Z,isDragReject:X,isFocused:E&&!r,getRootProps:U,getInputProps:Y,rootRef:w,inputRef:N,open:K(A)})}function ke(e,t){switch(t.type){case"focus":return he(he({},e),{},{isFocused:!0});case"blur":return he(he({},e),{},{isFocused:!1});case"openDialog":return he(he({},e),{},{isFileDialogActive:!0});case"closeDialog":return he(he({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive,r=t.draggedFiles;return he(he({},e),{},{draggedFiles:r,isDragActive:n});case"setFiles":return he(he({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return he({},we);default:return e}}var Ce=n(96),De=n(107),Se=n(184),Ee=n(183),Fe=n(114),Pe=n(63);function Ae(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*r));return t}function _e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var n=1024,r=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],c=Math.floor(Math.log(e)/Math.log(n));return"".concat(parseFloat((e/Math.pow(n,c)).toFixed(r))," ").concat(a[c])}var ze=function(e){var t=e.onChange,n=e.files,a=void 0===n?[]:n,s=Object(d.useState)([]),f=Object(o.a)(s,2),p=f[0],b=f[1],j=function(){var e=Object(i.a)(c.a.mark((function e(n){var r,i,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",n.file),r.append("id",n.id),e.next=5,Pe.a.post("media/order",r);case 5:i=e.sent,o=i.data,s=a.map((function(e){return e.id===o.id&&(e.url=o.url,e.key=o.key,e.name=o.name,e.new=!0),e})),t(s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=Ne({maxFiles:5,multiple:!0,onDropAccepted:function(e){e=e.map((function(e){return{id:Ae(),file:e}})),t([].concat(Object(E.a)(a),Object(E.a)(e))),b(e)}}),v=(m.acceptedFiles,m.getRootProps),x=m.getInputProps;Object(d.useEffect)((function(){var e,t=Object(r.a)(p);try{for(t.s();!(e=t.n()).done;){var n=e.value;j(n)}}catch(a){t.e(a)}finally{t.f()}}),[p]),Object(d.useEffect)((function(){t(a)}),[a]);var y=a.filter((function(e){return!e.deleted})).map((function(e,n){var r=e.file,c=e.id,i=e.url,o=e.name,s=e.size;return Object(N.jsxs)("section",{children:[Object(N.jsxs)(u.a,{className:"justify-content-between align-items-center",children:[Object(N.jsx)(l.a,{md:10,className:"mb-1",children:Object(N.jsx)(Ce.a,{type:"text",disabled:!0,value:"[".concat(_e(s||r.size),"] - ").concat(o||i||r.path)})}),Object(N.jsx)(l.a,{md:1,className:"text-center mb-1",children:Object(N.jsx)("a",{href:i,target:"_blank",children:Object(N.jsx)(g.a.Ripple,{block:!0,className:"btn-icon",color:"light",children:i?Object(N.jsx)(Ee.a,{size:20}):Object(N.jsx)(De.a,{size:"sm"})})})}),Object(N.jsx)(l.a,{md:1,className:"text-center mb-1",children:Object(N.jsx)(g.a.Ripple,{block:!0,className:"btn-icon",color:"light",onClick:function(){return function(e){var n=Object(E.a)(a);n[e].new?n.splice(e,1):n[e].deleted=!0,t(n)}(n)},children:Object(N.jsx)(Fe.a,{size:20})})})]}),Object(N.jsx)("hr",{className:"m-0 mb-1"})]},c)}));return Object(N.jsxs)(h.a,{children:[Object(N.jsx)(Se.a,{children:Object(N.jsx)("h4",{children:"Attachments"})}),Object(N.jsxs)(O.a,{children:[Object(N.jsxs)("div",Object(S.a)(Object(S.a)({},v({className:"dropzone"})),{},{children:[Object(N.jsx)("input",Object(S.a)({},x())),Object(N.jsx)("p",{className:"attachments-box",children:"Drag 'n' drop some files here, or click to select files"})]})),y]})]})},Re=["customer","notes","invoice_notes","products","shipping","city_id","coupon_id","shipping_provider_id","options","discount","extra_items","user_id","attachments"];t.default=function(){var e=Object(p.i)().id,t=Object(j.c)(e),n=t.data,a=t.update,f=t.updateStatus,h=Object(b.b)(),O=Object(d.useState)(!1),x=Object(o.a)(O,2),g=x[0],y=x[1],w=Object(d.useState)(!1),S=Object(o.a)(w,2),E=S[0],F=S[1],P=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.products=(null===(n=t.products)||void 0===n?void 0:n.map((function(e){return{id:e.id,price:e.price,quantity:e.quantity}})))||[],e.next=4,a(t);case 4:m.b.success("Order Updated"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),m.b.error(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){if(!g&&n){var e;y(!0);var t,a=Object(r.a)(Re);try{for(a.s();!(t=a.n()).done;){var c=t.value;h.setValue(c,n[c])}}catch(o){a.e(o)}finally{a.f()}h.setValue("has_shipping",!!(null===(e=n.shipping)||void 0===e?void 0:e.address))}var i="COMPLETED"===(null===n||void 0===n?void 0:n.status);F(i)}),[n]),Object(N.jsx)(s.a,{onSubmit:h.handleSubmit(P),children:Object(N.jsxs)(u.a,{children:[Object(N.jsxs)(l.a,{md:9,sm:12,children:[Object(N.jsx)(v.a,{order:n,form:h,isCompleted:E}),Object(N.jsx)(b.a,{control:h.control,defaultValue:[],name:"attachments",render:function(e){var t=e.value,n=e.onChange;return Object(N.jsx)(ze,{onChange:n,files:t})}})]}),Object(N.jsxs)(l.a,{md:3,sm:12,children:[Object(N.jsx)(k,{update:f,order:n}),Object(N.jsx)(D.a,{form:h,order:n,isCompleted:E}),Object(N.jsx)(C.a,{form:h,order:n,isCompleted:E})]})]})})}},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n(54),a=n.n(r),c=n(55),i=n(110),o=n.n(i),s=n(111),u=n.n(s)()(o.a),l=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, do it!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1}).then((function(e){e.value&&t()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.fire({title:"Are you sure want to delete?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",customClass:{confirmButton:"btn btn-danger",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1}).then((function(e){e.value&&t()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=30.16dfb8a6.chunk.js.map