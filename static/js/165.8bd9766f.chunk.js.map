{"version":3,"sources":["@core/components/sweetalert/index.js","../node_modules/reactstrap/es/Input.js","data/use-product.js","../node_modules/react-select/async/dist/react-select.browser.esm.js","../node_modules/reactstrap/es/Label.js","../node_modules/react-feather/dist/icons/save.js","../node_modules/react-feather/dist/icons/bar-chart-2.js","views/transfer-order/components/TransferOrderStatus.js","views/transfer-order/components/StockImpact.js","../node_modules/react-feather/dist/icons/trash-2.js","@core/components/breadcrumbs/index.js","views/transfer-order/create/index.js"],"names":["MySwal","withReactContent","Swal","confirm","callback","a","fire","title","icon","showCancelButton","confirmButtonText","customClass","confirmButton","cancelButton","buttonsStyling","then","result","value","confirmDelete","propTypes","children","PropTypes","node","type","string","size","oneOfType","number","bsSize","valid","bool","invalid","tag","tagPropType","innerRef","object","func","plaintext","addon","className","cssModule","Input","_React$Component","props","_this","call","this","getRef","bind","_assertThisInitialized","focus","_inheritsLoose","_proto","prototype","ref","render","_this$props","attributes","_objectWithoutPropertiesLoose","checkInput","indexOf","isNotaNumber","RegExp","Tag","formControlClass","test","warnOnce","classes","mapToCssModules","classNames","React","createElement","_extends","Component","defaultProps","fetcher","url","axios","get","res","data","api","create","params","post","update","id","put","show","delete","restore","autocomplete","q","stock","sku","stock2","stock3","useProduct","useSWR","revalidateOnFocus","mutate","error","loading","useDatatable","page","limit","search","order","conditions","JSON","stringify","mutates","items","total","useDatatableForDeleted","useVariantsDatatable","useStockDatatable","column","direction","ownKeys","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","e","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","constructor","_possibleConstructorReturn","cacheOptions","defaultOptions","filterOption","isLoading","Async","SelectComponent","_class","_temp","_Component","_inherits","_super","_classCallCheck","select","lastRequest","mounted","handleInputChange","newValue","actionMeta","onInputChange","inputValue","setState","loadedInputValue","loadedOptions","passEmptyOptions","state","optionsCache","request","loadOptions","options","Array","isArray","undefined","prevDefaultOptions","prevCacheOptions","_createClass","_this2","blur","loader","_this3","_this$props2","isLoadingProp","_objectWithoutProperties","_this$state","_ref","newCacheOptionsState","newDefaultOptionsState","makeAsyncSelect","manageState","Select","stringOrNumberProp","columnProps","shape","offset","hidden","check","for","xs","sm","md","lg","xl","widths","array","getColumnSizeClass","isXs","colWidth","colSize","Label","htmlFor","colClasses","columnProp","colClass","isObject","_classNames","colSizeInterfix","assign","hasOwnProperty","excluded","sourceKeys","sourceSymbolKeys","propertyIsEnumerable","Save","forwardRef","_ref$color","color","_ref$size","rest","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","points","displayName","BarChart2","x1","y1","x2","y2","TransferOrderStatus","form","transferOrder","isEditMode","onStatusToggle","refetch","useState","status","setStatus","showConfirmModal","setShowConfirmModal","actionType","setActionType","isProcessing","setIsProcessing","completionNotes","setCompletionNotes","useEffect","setValue","statusOptions","label","handleStatusChange","selectedStatus","newStatus","currentStatus","handleSubmitStatus","toast","info","text","cancelButtonText","response","message","handleToggleStatus","notes","success","console","control","defaultValue","name","field","onChange","classNamePrefix","find","opt","val","Ripple","block","onClick","disabled","can_complete","can_revert","isOpen","toggle","StockImpact","product","transferOrderStatus","showLabels","compact","showTooltip","style","tooltipOpen","setTooltipOpen","stockData","has_stock_history","stock_before","stockAvailBefore","stock_available_before","stockAvailAfter","stock_available_after","storeAvailBefore","store_available_before","storeAvailAfter","store_available_after","totalBefore","totalAfter","stock_after","stockDiff","stock_available_difference","storeDiff","store_available_difference","totalDiff","stock_difference","current_stock_available","current_store_available","isHistorical","getBadgeColor","getDiffIcon","getDiffLabel","pill","fontSize","padding","placement","backgroundColor","borderRadius","border","quantity","from_location_label","from_location","to_location_label","to_location","Trash2","BreadCrumbs","breadCrumbTitle","breadCrumbParent","breadCrumbParent2","breadCrumbParent3","breadCrumbActive","right","to","active","CreateTransferOrder","history","useHistory","isSubmitting","setIsSubmitting","products","setProducts","setNotes","selectedProduct","setSelectedProduct","setLoading","stockErrors","setStockErrors","setDefaultOptions","useRef","Map","bulkSectionOpen","setBulkSectionOpen","bulkFromLocation","setBulkFromLocation","bulkToLocation","setBulkToLocation","canCreate","ability","can","loadInitialOptions","toISOString","cacheKey","current","has","productApi","map","stockValue","current_stock","stockAvailable","stock_available","storeAvailable","store_available","skuValue","productName","imageUrl","image","display","alignItems","src","alt","marginRight","fontWeight","item","location","stock_location","set","promiseOptions","getProductDetails","productId","stockResponse","log","validateStock","productsList","errors","index","availableStock","parseInt","handleProductSelect","selectedOption","p","product_id","showError","productData","newProduct","prev","showSuccess","handleProductChange","updated","numValue","prepareProductForStockImpact","expectedImpact","currentStockAvailable","currentStoreAvailable","expectedStockAvailable","expectedStoreAvailable","currentTotal","expectedTotal","stockDifference","storeDifference","totalDifference","calculateExpectedImpact","hasInsufficientStock","some","getTotalQuantity","reduce","onSubmit","preparedData","newTransferOrder","stockSummary","summary","stock_to_store","count","store_to_stock","calculateStockSummary","isClearable","placeholder","noOptionsMessage","trim","formatOptionLabel","option","context","styles","base","minHeight","menu","zIndex","cursor","flex","transform","transition","marginLeft","temp","bordered","hover","productForImpact","hasStockError","isEditable","productImage","productSku","productLocation","productStockLocation","objectFit","onError","href","process","replace","toLowerCase","rel","maxWidth","min","max","updatedProducts","_","newErrors","handleRemoveProduct","rows","window"],"mappings":"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","file":"static/js/165.8bd9766f.chunk.js","sourcesContent":["import Swal from 'sweetalert2'\nimport withReactContent from 'sweetalert2-react-content'\n\nconst MySwal = withReactContent(Swal)\n\nexport const confirm = async (callback) => {\n    MySwal.fire({\n        title: 'Are you sure?',\n        // text: \"You won't be able to revert this!\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, do it!',\n        customClass: {\n            confirmButton: 'btn btn-primary',\n            cancelButton: 'btn btn-outline-danger ml-1'\n        },\n        buttonsStyling: false\n    }).then(function (result) {\n        if (result.value)  callback()\n    })\n}\n\nexport const confirmDelete = async (callback) => {\n    MySwal.fire({\n        title: 'Are you sure want to delete?',\n        // text: \"You won't be able to revert this!\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, delete it!',\n        customClass: {\n            confirmButton: 'btn btn-danger',\n            cancelButton: 'btn btn-outline-danger ml-1'\n        },\n        buttonsStyling: false\n    }).then(function (result) {\n        if (result.value)  callback()\n    })\n}\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\n\n/* eslint react/prefer-stateless-function: 0 */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, warnOnce, tagPropType } from './utils';\nvar propTypes = {\n  children: PropTypes.node,\n  type: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  bsSize: PropTypes.string,\n  valid: PropTypes.bool,\n  invalid: PropTypes.bool,\n  tag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func, PropTypes.string]),\n  plaintext: PropTypes.bool,\n  addon: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  type: 'text'\n};\n\nvar Input = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Input, _React$Component);\n\n  function Input(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.getRef = _this.getRef.bind(_assertThisInitialized(_this));\n    _this.focus = _this.focus.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = Input.prototype;\n\n  _proto.getRef = function getRef(ref) {\n    if (this.props.innerRef) {\n      this.props.innerRef(ref);\n    }\n\n    this.ref = ref;\n  };\n\n  _proto.focus = function focus() {\n    if (this.ref) {\n      this.ref.focus();\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        className = _this$props.className,\n        cssModule = _this$props.cssModule,\n        type = _this$props.type,\n        bsSize = _this$props.bsSize,\n        valid = _this$props.valid,\n        invalid = _this$props.invalid,\n        tag = _this$props.tag,\n        addon = _this$props.addon,\n        plaintext = _this$props.plaintext,\n        innerRef = _this$props.innerRef,\n        attributes = _objectWithoutPropertiesLoose(_this$props, [\"className\", \"cssModule\", \"type\", \"bsSize\", \"valid\", \"invalid\", \"tag\", \"addon\", \"plaintext\", \"innerRef\"]);\n\n    var checkInput = ['radio', 'checkbox'].indexOf(type) > -1;\n    var isNotaNumber = new RegExp('\\\\D', 'g');\n    var fileInput = type === 'file';\n    var textareaInput = type === 'textarea';\n    var selectInput = type === 'select';\n    var rangeInput = type === 'range';\n    var Tag = tag || (selectInput || textareaInput ? type : 'input');\n    var formControlClass = 'form-control';\n\n    if (plaintext) {\n      formControlClass = formControlClass + \"-plaintext\";\n      Tag = tag || 'input';\n    } else if (fileInput) {\n      formControlClass = formControlClass + \"-file\";\n    } else if (rangeInput) {\n      formControlClass = formControlClass + \"-range\";\n    } else if (checkInput) {\n      if (addon) {\n        formControlClass = null;\n      } else {\n        formControlClass = 'form-check-input';\n      }\n    }\n\n    if (attributes.size && isNotaNumber.test(attributes.size)) {\n      warnOnce('Please use the prop \"bsSize\" instead of the \"size\" to bootstrap\\'s input sizing.');\n      bsSize = attributes.size;\n      delete attributes.size;\n    }\n\n    var classes = mapToCssModules(classNames(className, invalid && 'is-invalid', valid && 'is-valid', bsSize ? \"form-control-\" + bsSize : false, formControlClass), cssModule);\n\n    if (Tag === 'input' || tag && typeof tag === 'function') {\n      attributes.type = type;\n    }\n\n    if (attributes.children && !(plaintext || type === 'select' || typeof Tag !== 'string' || Tag === 'select')) {\n      warnOnce(\"Input with a type of \\\"\" + type + \"\\\" cannot have children. Please use \\\"value\\\"/\\\"defaultValue\\\" instead.\");\n      delete attributes.children;\n    }\n\n    return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n      ref: innerRef,\n      className: classes,\n      \"aria-invalid\": invalid\n    }));\n  };\n\n  return Input;\n}(React.Component);\n\nInput.propTypes = propTypes;\nInput.defaultProps = defaultProps;\nexport default Input;","import useSWR from 'swr'\nimport axios from '../utility/axiosIsntance'\n\nconst fetcher = (url) => axios.get(url).then(res => res.data?.data)\n\nexport const api = {\n\n    create: async (params) => {\n        const { data } = await axios.post('product', params)\n        return data?.data\n    },\n\n    update: async (id, params) => {\n        const { data } = await axios.put(`product/${id}`, params)\n        return data?.data\n    },\n    show: async (id) => {\n        const { data } = await axios.get(`product/${id}`)\n        return data?.data\n    },\n\n\n    delete: async (id) => {\n        await axios.delete(`product/${id}`)\n    },\n    restore: async (id) => {\n        await axios.get(`restore_product/${id}`)\n    },\n    autocomplete: async (q) => {\n        const { data } = await axios.get(`product/autocomplete?q=${q}`)\n        return data?.data\n    },\n    stock: async (params) => {\n        await axios.post(`product/stock`, params)\n    },\n    sku: async (params) => {\n        await axios.post(`product/sku`, params)\n    },\n    stock2: async (params) => {\n        await axios.post(`product/stock2`, params)\n    },\n    stock3: async (params) => {\n        await axios.post(`product/stock3`, params)\n    }\n\n}\n\nexport function useProduct(id) {\n\n    const { data, mutate, error } = useSWR(`product/${id}`, fetcher, {\n        revalidateOnFocus: false\n    })\n\n    const loading = !data && !error\n\n    return {\n        loading,\n        error,\n        data,\n        mutate,\n        update: async (params) => {\n            await api.update(id, params)\n            await mutate()\n        }\n    }\n}\n\nexport function useDatatable({ page, limit, search, order = {}, conditions = {}}) {\n\n    const url = `product/datatable?page=${page}&limit=${limit}&search=${search}&order=${JSON.stringify(order)}&conditions=${JSON.stringify(conditions)}`\n\n    const { data, mutate, error } = useSWR(url, fetcher)\n\n    const loading = !data && !error\n\n    const mutates = {\n        delete: async (id) => {\n            await api.delete(id)\n            mutate({ ...data })\n        }\n    }\n\n    return {\n        loading,\n        error,\n        data: data?.items || [],\n        total: data?.total || 0,\n        mutates\n    }\n\n}\nexport function useDatatableForKit({ page, limit, search, order = {}}) {\n\n    const url = `kitProduct/datatable?page=${page}&limit=${limit}&search=${search}&order=${JSON.stringify(order)}`\n\n    const { data, mutate, error } = useSWR(url, fetcher)\n\n    const loading = !data && !error\n\n    const mutates = {\n        delete: async (id) => {\n            await api.delete(id)\n            mutate({ ...data })\n        }\n    }\n\n    return {\n        loading,\n        error,\n        data: data?.items || [],\n        total: data?.total || 0,\n        mutates\n    }\n\n}\nexport function useDatatableForDeleted({ page, limit, search, order = {}}) {\n\n    const url = `deletedProduct/datatable?page=${page}&limit=${limit}&search=${search}&order=${JSON.stringify(order)}`\n\n    const { data, mutate, error } = useSWR(url, fetcher)\n\n    const loading = !data && !error\n\n    const mutates = {\n        delete: async (id) => {\n            await api.delete(id)\n            mutate({ ...data })\n        }\n    }\n\n    return {\n        loading,\n        error,\n        data: data?.items || [],\n        total: data?.total || 0,\n        mutates\n    }\n\n}\nexport function useVariantsDatatable({ page, limit, search, order = {}, conditions = {}}) {\n\n    const url = `product/datatable?page=${page}&limit=${limit}&search=${search}&order=${JSON.stringify(order)}&conditions=${JSON.stringify(conditions)}`\n\n    const { data, mutate, error } = useSWR(url, fetcher)\n\n    const loading = !data && !error\n\n    const mutates = {\n        delete: async (id) => {\n            await api.delete(id)\n            mutate({ ...data })\n        }\n    }\n\n    return {\n        loading,\n        error,\n        data: data?.items || [],\n        total: data?.total || 0,\n        mutates\n    }\n\n}\n\nexport function useStockDatatable({ page, limit, search, order }) {\n\n    const url = `product/datatable?page=${page}&limit=${limit}&search=${search}&order=${order?.column}&dir=${order?.direction}`\n\n    const { data, error } = useSWR(url, fetcher)\n\n    const loading = !data && !error\n\n    return {\n        loading,\n        error,\n        data: data?.items || [],\n        total: data?.total || 0\n    }\n\n}\n\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport '@babel/runtime/helpers/toConsumableArray';\nimport React, { Component } from 'react';\nimport '@emotion/react';\nimport 'react-dom';\nimport '@babel/runtime/helpers/typeof';\nimport { F as handleInputChange } from '../../dist/index-8b64410c.browser.esm.js';\nimport { S as Select } from '../../dist/Select-d53e3329.browser.esm.js';\nimport _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport '@babel/runtime/helpers/taggedTemplateLiteral';\nimport 'react-input-autosize';\nimport { m as manageState } from '../../dist/stateManager-66a21f68.browser.esm.js';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\nvar defaultProps = {\n  cacheOptions: false,\n  defaultOptions: false,\n  filterOption: null,\n  isLoading: false\n};\nvar makeAsyncSelect = function makeAsyncSelect(SelectComponent) {\n  var _class, _temp;\n\n  return _temp = _class = /*#__PURE__*/function (_Component) {\n    _inherits(Async, _Component);\n\n    var _super = _createSuper(Async);\n\n    function Async(props) {\n      var _this;\n\n      _classCallCheck(this, Async);\n\n      _this = _super.call(this);\n      _this.select = void 0;\n      _this.lastRequest = void 0;\n      _this.mounted = false;\n\n      _this.handleInputChange = function (newValue, actionMeta) {\n        var _this$props = _this.props,\n            cacheOptions = _this$props.cacheOptions,\n            onInputChange = _this$props.onInputChange; // TODO\n\n        var inputValue = handleInputChange(newValue, actionMeta, onInputChange);\n\n        if (!inputValue) {\n          delete _this.lastRequest;\n\n          _this.setState({\n            inputValue: '',\n            loadedInputValue: '',\n            loadedOptions: [],\n            isLoading: false,\n            passEmptyOptions: false\n          });\n\n          return;\n        }\n\n        if (cacheOptions && _this.state.optionsCache[inputValue]) {\n          _this.setState({\n            inputValue: inputValue,\n            loadedInputValue: inputValue,\n            loadedOptions: _this.state.optionsCache[inputValue],\n            isLoading: false,\n            passEmptyOptions: false\n          });\n        } else {\n          var request = _this.lastRequest = {};\n\n          _this.setState({\n            inputValue: inputValue,\n            isLoading: true,\n            passEmptyOptions: !_this.state.loadedInputValue\n          }, function () {\n            _this.loadOptions(inputValue, function (options) {\n              if (!_this.mounted) return;\n              if (request !== _this.lastRequest) return;\n              delete _this.lastRequest;\n\n              _this.setState(function (state) {\n                return {\n                  isLoading: false,\n                  loadedInputValue: inputValue,\n                  loadedOptions: options || [],\n                  passEmptyOptions: false,\n                  optionsCache: options ? _objectSpread(_objectSpread({}, state.optionsCache), {}, _defineProperty({}, inputValue, options)) : state.optionsCache\n                };\n              });\n            });\n          });\n        }\n\n        return inputValue;\n      };\n\n      _this.state = {\n        defaultOptions: Array.isArray(props.defaultOptions) ? props.defaultOptions : undefined,\n        inputValue: typeof props.inputValue !== 'undefined' ? props.inputValue : '',\n        isLoading: props.defaultOptions === true,\n        loadedOptions: [],\n        passEmptyOptions: false,\n        optionsCache: {},\n        prevDefaultOptions: undefined,\n        prevCacheOptions: undefined\n      };\n      return _this;\n    }\n\n    _createClass(Async, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        this.mounted = true;\n        var defaultOptions = this.props.defaultOptions;\n        var inputValue = this.state.inputValue;\n\n        if (defaultOptions === true) {\n          this.loadOptions(inputValue, function (options) {\n            if (!_this2.mounted) return;\n            var isLoading = !!_this2.lastRequest;\n\n            _this2.setState({\n              defaultOptions: options || [],\n              isLoading: isLoading\n            });\n          });\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.mounted = false;\n      }\n    }, {\n      key: \"focus\",\n      value: function focus() {\n        this.select.focus();\n      }\n    }, {\n      key: \"blur\",\n      value: function blur() {\n        this.select.blur();\n      }\n    }, {\n      key: \"loadOptions\",\n      value: function loadOptions(inputValue, callback) {\n        var loadOptions = this.props.loadOptions;\n        if (!loadOptions) return callback();\n        var loader = loadOptions(inputValue, callback);\n\n        if (loader && typeof loader.then === 'function') {\n          loader.then(callback, function () {\n            return callback();\n          });\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this3 = this;\n\n        var _this$props2 = this.props,\n            loadOptions = _this$props2.loadOptions,\n            isLoadingProp = _this$props2.isLoading,\n            props = _objectWithoutProperties(_this$props2, [\"loadOptions\", \"isLoading\"]);\n\n        var _this$state = this.state,\n            defaultOptions = _this$state.defaultOptions,\n            inputValue = _this$state.inputValue,\n            isLoading = _this$state.isLoading,\n            loadedInputValue = _this$state.loadedInputValue,\n            loadedOptions = _this$state.loadedOptions,\n            passEmptyOptions = _this$state.passEmptyOptions;\n        var options = passEmptyOptions ? [] : inputValue && loadedInputValue ? loadedOptions : defaultOptions || [];\n        return /*#__PURE__*/React.createElement(SelectComponent, _extends({}, props, {\n          ref: function ref(_ref) {\n            _this3.select = _ref;\n          },\n          options: options,\n          isLoading: isLoading || isLoadingProp,\n          onInputChange: this.handleInputChange\n        }));\n      }\n    }], [{\n      key: \"getDerivedStateFromProps\",\n      value: function getDerivedStateFromProps(props, state) {\n        var newCacheOptionsState = props.cacheOptions !== state.prevCacheOptions ? {\n          prevCacheOptions: props.cacheOptions,\n          optionsCache: {}\n        } : {};\n        var newDefaultOptionsState = props.defaultOptions !== state.prevDefaultOptions ? {\n          prevDefaultOptions: props.defaultOptions,\n          defaultOptions: Array.isArray(props.defaultOptions) ? props.defaultOptions : undefined\n        } : {};\n        return _objectSpread(_objectSpread({}, newCacheOptionsState), newDefaultOptionsState);\n      }\n    }]);\n\n    return Async;\n  }(Component), _class.defaultProps = defaultProps, _temp;\n};\nvar SelectState = manageState(Select);\nvar Async = makeAsyncSelect(SelectState);\n\nexport default Async;\nexport { defaultProps, makeAsyncSelect };\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType, isObject } from './utils';\nvar colWidths = ['xs', 'sm', 'md', 'lg', 'xl'];\nvar stringOrNumberProp = PropTypes.oneOfType([PropTypes.number, PropTypes.string]);\nvar columnProps = PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.number, PropTypes.shape({\n  size: stringOrNumberProp,\n  order: stringOrNumberProp,\n  offset: stringOrNumberProp\n})]);\nvar propTypes = {\n  children: PropTypes.node,\n  hidden: PropTypes.bool,\n  check: PropTypes.bool,\n  size: PropTypes.string,\n  for: PropTypes.string,\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  xs: columnProps,\n  sm: columnProps,\n  md: columnProps,\n  lg: columnProps,\n  xl: columnProps,\n  widths: PropTypes.array\n};\nvar defaultProps = {\n  tag: 'label',\n  widths: colWidths\n};\n\nvar getColumnSizeClass = function getColumnSizeClass(isXs, colWidth, colSize) {\n  if (colSize === true || colSize === '') {\n    return isXs ? 'col' : \"col-\" + colWidth;\n  } else if (colSize === 'auto') {\n    return isXs ? 'col-auto' : \"col-\" + colWidth + \"-auto\";\n  }\n\n  return isXs ? \"col-\" + colSize : \"col-\" + colWidth + \"-\" + colSize;\n};\n\nvar Label = function Label(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      hidden = props.hidden,\n      widths = props.widths,\n      Tag = props.tag,\n      check = props.check,\n      size = props.size,\n      htmlFor = props.for,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"hidden\", \"widths\", \"tag\", \"check\", \"size\", \"for\"]);\n\n  var colClasses = [];\n  widths.forEach(function (colWidth, i) {\n    var columnProp = props[colWidth];\n    delete attributes[colWidth];\n\n    if (!columnProp && columnProp !== '') {\n      return;\n    }\n\n    var isXs = !i;\n    var colClass;\n\n    if (isObject(columnProp)) {\n      var _classNames;\n\n      var colSizeInterfix = isXs ? '-' : \"-\" + colWidth + \"-\";\n      colClass = getColumnSizeClass(isXs, colWidth, columnProp.size);\n      colClasses.push(mapToCssModules(classNames((_classNames = {}, _classNames[colClass] = columnProp.size || columnProp.size === '', _classNames[\"order\" + colSizeInterfix + columnProp.order] = columnProp.order || columnProp.order === 0, _classNames[\"offset\" + colSizeInterfix + columnProp.offset] = columnProp.offset || columnProp.offset === 0, _classNames))), cssModule);\n    } else {\n      colClass = getColumnSizeClass(isXs, colWidth, columnProp);\n      colClasses.push(colClass);\n    }\n  });\n  var classes = mapToCssModules(classNames(className, hidden ? 'sr-only' : false, check ? 'form-check-label' : false, size ? \"col-form-label-\" + size : false, colClasses, colClasses.length ? 'col-form-label' : false), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({\n    htmlFor: htmlFor\n  }, attributes, {\n    className: classes\n  }));\n};\n\nLabel.propTypes = propTypes;\nLabel.defaultProps = defaultProps;\nexport default Label;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Save = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\"\n  }), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"17 21 17 13 7 13 7 21\"\n  }), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"7 3 7 8 15 8\"\n  }));\n});\nSave.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nSave.displayName = 'Save';\nexport default Save;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar BarChart2 = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"18\",\n    y1: \"20\",\n    x2: \"18\",\n    y2: \"10\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"20\",\n    x2: \"12\",\n    y2: \"4\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"6\",\n    y1: \"20\",\n    x2: \"6\",\n    y2: \"14\"\n  }));\n});\nBarChart2.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nBarChart2.displayName = 'BarChart2';\nexport default BarChart2;","import { Card, CardBody, Button, FormGroup, Modal, ModalHeader, ModalBody, ModalFooter, Label, Input, Alert, Badge } from 'reactstrap'\nimport Select from 'react-select'\nimport { useEffect, useState } from 'react'\nimport { toast } from 'react-toastify'\nimport { confirm } from '@components/sweetalert'\nimport { Controller } from \"react-hook-form\"\nimport { CheckCircle, AlertTriangle, RefreshCw, Info } from 'react-feather'\nimport axios from '../../../utility/axiosIsntance'\n\nconst TransferOrderStatus = ({ form, transferOrder, isEditMode, onStatusToggle, refetch }) => {\n    const [status, setStatus] = useState(null)\n    const [showConfirmModal, setShowConfirmModal] = useState(false)\n    const [actionType, setActionType] = useState('') // 'complete' or 'revert'\n    const [isProcessing, setIsProcessing] = useState(false)\n    const [completionNotes, setCompletionNotes] = useState('')\n\n    useEffect(() => {\n        if (transferOrder) {\n            setStatus(transferOrder.status || 'PENDING')\n            if (form) {\n                form.setValue('status', transferOrder.status || 'PENDING')\n            }\n        }\n    }, [transferOrder, form])\n\n    const statusOptions = [\n        {\n            label: (\n                <div className=\"d-flex align-items-center\">\n                    <AlertTriangle size={16} className=\"mr-2 text-warning\" />\n                    <span>Pending</span>\n                </div>\n            ),\n            value: 'PENDING'\n        },\n        {\n            label: (\n                <div className=\"d-flex align-items-center\">\n                    <CheckCircle size={16} className=\"mr-2 text-success\" />\n                    <span>Completed</span>\n                </div>\n            ),\n            value: 'COMPLETED'\n        }\n    ]\n\n    const getStatusBadge = (status) => {\n        if (!status) return null\n\n        switch (status) {\n            case 'PENDING':\n                return (\n                    <Badge color=\"warning\" className=\"py-1 px-3 d-flex align-items-center\">\n                        <AlertTriangle size={14} className=\"mr-1\" />\n                        Pending\n                    </Badge>\n                )\n            case 'COMPLETED':\n                return (\n                    <Badge color=\"success\" className=\"py-1 px-3 d-flex align-items-center\">\n                        <CheckCircle size={14} className=\"mr-1\" />\n                        Completed\n                    </Badge>\n                )\n            default:\n                return null\n        }\n    }\n\n    const handleStatusChange = (selectedStatus) => {\n        if (!selectedStatus) return\n\n        const newStatus = selectedStatus.value\n        const currentStatus = transferOrder?.status || 'PENDING'\n\n        // If status hasn't changed, do nothing\n        if (newStatus === currentStatus) return\n\n        // Set the status in the form\n        if (form) {\n            form.setValue('status', newStatus)\n        }\n        setStatus(newStatus)\n\n        // Determine action type\n        if (currentStatus === 'PENDING' && newStatus === 'COMPLETED') {\n            setActionType('complete')\n            setShowConfirmModal(true)\n        } else if (currentStatus === 'COMPLETED' && newStatus === 'PENDING') {\n            setActionType('revert')\n            setShowConfirmModal(true)\n        }\n    }\n\n    const handleSubmitStatus = async () => {\n        if (!status) {\n            toast.error('Please select a status')\n            return\n        }\n\n        const currentStatus = transferOrder?.status || 'PENDING'\n\n        // If status hasn't changed, do nothing\n        if (status === currentStatus) {\n            toast.info(`Status is already set to ${  status}`)\n            return\n        }\n\n        // For direct status update (without stock changes)\n        if (form && isEditMode) {\n            confirm({\n                title: 'Update Status',\n                text: `Are you sure you want to change status to ${status}?`,\n                icon: 'warning',\n                confirmButtonText: 'Yes, update it!',\n                cancelButtonText: 'Cancel'\n            }, async () => {\n                try {\n                    if (onStatusToggle) {\n                        await onStatusToggle(status)\n                    }\n                } catch (e) {\n                    toast.error(e.response?.data?.message || 'An error occurred')\n                }\n            })\n        } else {\n            // For status toggle with stock changes\n            if (currentStatus === 'PENDING' && status === 'COMPLETED') {\n                setActionType('complete')\n                setShowConfirmModal(true)\n            } else if (currentStatus === 'COMPLETED' && status === 'PENDING') {\n                setActionType('revert')\n                setShowConfirmModal(true)\n            }\n        }\n    }\n\n    const handleToggleStatus = async () => {\n        setIsProcessing(true)\n        try {\n            await axios.post(`/transfer-orders/${transferOrder.id}/toggle-status`, {\n                notes: completionNotes || undefined\n            })\n\n            toast.success(\n                actionType === 'complete' ? 'Transfer order completed successfully' : 'Transfer order reverted to pending successfully'\n            )\n\n            setShowConfirmModal(false)\n            setCompletionNotes('')\n\n            if (onStatusToggle) {\n                await onStatusToggle()\n            }\n\n            if (refetch) {\n                await refetch()\n            }\n        } catch (error) {\n            console.error('Toggle status error:', error)\n            toast.error(error.response?.data?.message || 'Failed to update transfer order status')\n        } finally {\n            setIsProcessing(false)\n        }\n    }\n\n    return (\n        <Card className='invoice-action-wrapper'>\n            <CardBody>\n\n                {/* Status Selection */}\n                {isEditMode && (\n                    <>\n                        <FormGroup>\n                            {form ? (\n                                <Controller\n                                    control={form.control}\n                                    defaultValue={status}\n                                    name=\"status\"\n                                    render={({ field: { onChange, value, name, ref } }) => (\n                                        <Select\n                                            className='react-select'\n                                            classNamePrefix='select'\n                                            value={statusOptions.find(opt => opt.value === (value || status))}\n                                            options={statusOptions}\n                                            onChange={(val) => {\n                                                onChange(val?.value || null)\n                                                handleStatusChange(val)\n                                            }}\n                                            ref={ref}\n                                        />\n                                    )}\n                                />\n                            ) : (\n                                <Select\n                                    className='react-select'\n                                    classNamePrefix='select'\n                                    value={statusOptions.find(opt => opt.value === status)}\n                                    options={statusOptions}\n                                    onChange={handleStatusChange}\n                                />\n                            )}\n                        </FormGroup>\n\n                        <Button.Ripple\n                            color='primary'\n                            block\n                            onClick={handleSubmitStatus}\n                            disabled={!status || status === transferOrder?.status}\n                        >\n                            Update Status\n                        </Button.Ripple>\n                    </>\n                )}\n\n                {/* Quick Action Buttons */}\n                {!isEditMode && (\n                    <div className=\"mt-3\">\n                        {transferOrder?.can_complete && (\n                            <Button.Ripple\n                                color='success'\n                                className='mt-2'\n                                block\n                                onClick={() => {\n                                    setActionType('complete')\n                                    setShowConfirmModal(true)\n                                }}\n                            >\n                                <CheckCircle size={14} className=\"mr-1\" />\n                                Complete Transfer\n                            </Button.Ripple>\n                        )}\n\n                        {transferOrder?.can_revert && (\n                            <Button.Ripple\n                                color='warning'\n                                className='mt-2'\n                                block\n                                onClick={() => {\n                                    setActionType('revert')\n                                    setShowConfirmModal(true)\n                                }}\n                            >\n                                <RefreshCw size={14} className=\"mr-1\" />\n                                Revert to Pending\n                            </Button.Ripple>\n                        )}\n                    </div>\n                )}\n            </CardBody>\n\n            {/* Confirmation Modal */}\n            <Modal isOpen={showConfirmModal} toggle={() => setShowConfirmModal(false)}>\n                <ModalHeader toggle={() => setShowConfirmModal(false)}>\n                    {actionType === 'complete' ? 'Complete Transfer Order' : 'Revert to Pending'}\n                </ModalHeader>\n                <ModalBody>\n                    {actionType === 'complete' ? (\n                        <>\n                            <p>Are you sure you want to complete this transfer order?</p>\n                        </>\n                    ) : (\n                        <>\n                            <p>Are you sure you want to revert this transfer order to pending?</p>\n                        </>\n                    )}\n                </ModalBody>\n                <ModalFooter>\n                    <Button color=\"secondary\" onClick={() => setShowConfirmModal(false)}>\n                        Cancel\n                    </Button>\n                    <Button\n                        color={actionType === 'complete' ? 'success' : 'warning'}\n                        onClick={handleToggleStatus}\n                        disabled={isProcessing}\n                    >\n                        {isProcessing ? (\n                            <>\n                                <span className=\"spinner-border spinner-border-sm mr-2\"></span>\n                                Processing...\n                            </>\n                        ) : (\n                            actionType === 'complete' ? 'Complete Transfer' : 'Revert to Pending'\n                        )}\n                    </Button>\n                </ModalFooter>\n            </Modal>\n        </Card>\n    )\n}\n\nexport default TransferOrderStatus","// src/views/transfer-order/components/StockImpact.js\nimport { useState } from 'react'\nimport {\n    Badge,\n    Tooltip,\n    Row,\n    Col\n} from 'reactstrap'\nimport {\n    TrendingUp,\n    TrendingDown,\n    Minus,\n    Package,\n    Info,\n    CheckCircle,\n    AlertTriangle,\n    ArrowRight\n} from 'react-feather'\n\nconst StockImpact = ({\n                         product,\n                         transferOrderStatus = 'PENDING',\n                         showLabels = true,\n                         compact = false,\n                         showTooltip = true,\n                         className = '',\n                         style = {}\n                     }) => {\n    const [tooltipOpen, setTooltipOpen] = useState(false)\n\n    // Check if we have historical data\n    const hasHistory = product?.has_stock_history ||\n        (product?.stock_before !== null && product?.stock_before !== undefined)\n\n    // Get stock data directly from API response\n    const getStockData = () => {\n        if (hasHistory) {\n            // For completed transfers, use historical data\n            return {\n                type: 'historical',\n                stockAvailBefore: product.stock_available_before || 0,\n                stockAvailAfter: product.stock_available_after || 0,\n                storeAvailBefore: product.store_available_before || 0,\n                storeAvailAfter: product.store_available_after || 0,\n                totalBefore: product.stock_before || 0,\n                totalAfter: product.stock_after || 0,\n                stockDiff: product.stock_available_difference || 0,\n                storeDiff: product.store_available_difference || 0,\n                totalDiff: product.stock_difference || 0\n            }\n        } else {\n            // For pending transfers, use current values (no change yet)\n            return {\n                type: 'pending',\n                stockAvailBefore: product.current_stock_available || 0,\n                stockAvailAfter: product.current_stock_available || 0,\n                storeAvailBefore: product.current_store_available || 0,\n                storeAvailAfter: product.current_store_available || 0,\n                totalBefore: (product.current_stock_available || 0) + (product.current_store_available || 0),\n                totalAfter: (product.current_stock_available || 0) + (product.current_store_available || 0),\n                stockDiff: 0,\n                storeDiff: 0,\n                totalDiff: 0\n            }\n        }\n    }\n\n    const stockData = getStockData()\n    const isHistorical = stockData.type === 'historical'\n\n    // Helper functions\n    const getBadgeColor = (value) => {\n        if (value > 0) return 'success'\n        if (value < 0) return 'danger'\n        return 'secondary'\n    }\n\n    const getDiffIcon = (value) => {\n        if (value > 0) return <TrendingUp size={10} className=\"mr-1\" />\n        if (value < 0) return <TrendingDown size={10} className=\"mr-1\" />\n        return <Minus size={10} className=\"mr-1\" />\n    }\n\n    const getDiffLabel = (value) => {\n        if (value > 0) return `+${value}`\n        if (value < 0) return `${value}`\n        return 'No change'\n    }\n\n    const getStatusBadge = () => {\n        if (isHistorical) {\n            return (\n                <Badge color=\"success\" className=\"ml-2\" pill>\n                    <CheckCircle size={10} className=\"mr-1\" />\n                    Completed\n                </Badge>\n            )\n        }\n        return (\n            <Badge color=\"warning\" className=\"ml-2\" pill>\n                <AlertTriangle size={10} className=\"mr-1\" />\n                Pending\n            </Badge>\n        )\n    }\n\n    // Render compact version (for tables)\n    if (compact) {\n        return (\n            <div\n                className={`stock-impact-compact ${className}`}\n                style={style}\n                id={`stock-impact-${product?.id || 'unknown'}`}\n            >\n                <div className=\"d-flex flex-column\">\n                    {/* Stock Available */}\n                    <div className=\"d-flex justify-content-between align-items-center mb-1\">\n                        <small className=\"text-muted\">Stock:</small>\n                        <div className=\"d-flex align-items-center\">\n                            <span className=\"font-weight-bold\">{stockData.stockAvailBefore}</span>\n                            {isHistorical && (\n                                <>\n                                    <ArrowRight size={8} className=\"mx-1 text-muted\" />\n                                    <span className={`font-weight-bold ${\n                                        stockData.stockDiff > 0 ? 'text-success' : stockData.stockDiff < 0 ? 'text-danger' : ''\n                                    }`}>\n                                        {stockData.stockAvailAfter}\n                                    </span>\n                                    {stockData.stockDiff !== 0 && (\n                                        <Badge\n                                            color={getBadgeColor(stockData.stockDiff)}\n                                            className=\"ml-1\"\n                                            pill\n                                            style={{ fontSize: '9px', padding: '2px 4px' }}\n                                        >\n                                            {getDiffLabel(stockData.stockDiff)}\n                                        </Badge>\n                                    )}\n                                </>\n                            )}\n                        </div>\n                    </div>\n\n                    {/* Store Available */}\n                    <div className=\"d-flex justify-content-between align-items-center mb-1\">\n                        <small className=\"text-muted\">Store:</small>\n                        <div className=\"d-flex align-items-center\">\n                            <span className=\"font-weight-bold\">{stockData.storeAvailBefore}</span>\n                            {isHistorical && (\n                                <>\n                                    <ArrowRight size={8} className=\"mx-1 text-muted\" />\n                                    <span className={`font-weight-bold ${\n                                        stockData.storeDiff > 0 ? 'text-success' : stockData.storeDiff < 0 ? 'text-danger' : ''\n                                    }`}>\n                                        {stockData.storeAvailAfter}\n                                    </span>\n                                    {stockData.storeDiff !== 0 && (\n                                        <Badge\n                                            color={getBadgeColor(stockData.storeDiff)}\n                                            className=\"ml-1\"\n                                            pill\n                                            style={{ fontSize: '9px', padding: '2px 4px' }}\n                                        >\n                                            {getDiffLabel(stockData.storeDiff)}\n                                        </Badge>\n                                    )}\n                                </>\n                            )}\n                        </div>\n                    </div>\n\n                    {/* Total */}\n                    <div className=\"d-flex justify-content-between align-items-center\">\n                        <small className=\"text-muted\">:</small>\n                        <div className=\"d-flex align-items-center\">\n                            <span className=\"font-weight-bold\">{stockData.totalBefore}</span>\n                            {isHistorical && (\n                                <>\n                                    <ArrowRight size={8} className=\"mx-1 text-muted\" />\n                                    <span className={`font-weight-bold ${\n                                        stockData.totalDiff > 0 ? 'text-success' : stockData.totalDiff < 0 ? 'text-danger' : ''\n                                    }`}>\n                                        {stockData.totalAfter}\n                                    </span>\n                                </>\n                            )}\n                        </div>\n                    </div>\n                </div>\n\n                {showTooltip && (\n                    <Tooltip\n                        placement=\"top\"\n                        isOpen={tooltipOpen}\n                        target={`stock-impact-${product?.id || 'unknown'}`}\n                        toggle={() => setTooltipOpen(!tooltipOpen)}\n                    >\n                        {isHistorical ? 'Actual stock changes after transfer completion' : 'Pending - No stock changes yet'}\n                    </Tooltip>\n                )}\n            </div>\n        )\n    }\n\n    // Render detailed version\n    return (\n        <div\n            className={`stock-impact-detailed p-3 ${className}`}\n            style={{\n                backgroundColor: '#f8f9fa',\n                borderRadius: '8px',\n                border: '1px solid #e9ecef',\n                ...style\n            }}\n        >\n            {showLabels && (\n                <div className=\"d-flex justify-content-between align-items-center mb-3\">\n                    <div className=\"d-flex align-items-center\">\n                        <Package size={16} className=\"mr-2 text-primary\" />\n                        <h6 className=\"mb-0\">\n                            {isHistorical ? 'Actual Stock Impact' : 'Current Stock Status'}\n                        </h6>\n                        {getStatusBadge()}\n                    </div>\n                    {showTooltip && (\n                        <Info\n                            size={14}\n                            className=\"text-muted cursor-pointer\"\n                            id={`stock-impact-info-${product?.id || 'unknown'}`}\n                        />\n                    )}\n                </div>\n            )}\n\n            {/* Stock Available Row */}\n            <div className=\"stock-impact-row mb-2\">\n                <Row className=\"align-items-center\">\n                    <Col xs={4}>\n                        <div className=\"d-flex align-items-center\">\n                            <Package size={12} className=\"mr-2 text-info\" />\n                            <span className=\"font-weight-bold\">Stock</span>\n                        </div>\n                    </Col>\n                    <Col xs={8}>\n                        <div className=\"d-flex justify-content-between align-items-center\">\n                            <div className=\"d-flex align-items-center\">\n                                <span className=\"text-muted mr-2\">Before:</span>\n                                <span className=\"font-weight-bold\">{stockData.stockAvailBefore}</span>\n                            </div>\n                            {isHistorical && (\n                                <>\n                                    <ArrowRight size={12} className=\"mx-2 text-muted\" />\n                                    <div className=\"d-flex align-items-center\">\n                                        <span className={`font-weight-bold ${\n                                            stockData.stockDiff > 0 ? 'text-success' : stockData.stockDiff < 0 ? 'text-danger' : ''\n                                        }`}>\n                                            {stockData.stockAvailAfter}\n                                        </span>\n                                        {stockData.stockDiff !== 0 && (\n                                            <Badge\n                                                color={getBadgeColor(stockData.stockDiff)}\n                                                className=\"ml-2 d-flex align-items-center\"\n                                                pill\n                                            >\n                                                {getDiffIcon(stockData.stockDiff)}\n                                                {getDiffLabel(stockData.stockDiff)}\n                                            </Badge>\n                                        )}\n                                    </div>\n                                </>\n                            )}\n                        </div>\n                    </Col>\n                </Row>\n            </div>\n\n            {/* Store Available Row */}\n            <div className=\"stock-impact-row mb-2\">\n                <Row className=\"align-items-center\">\n                    <Col xs={4}>\n                        <div className=\"d-flex align-items-center\">\n                            <Package size={12} className=\"mr-2 text-warning\" />\n                            <span className=\"font-weight-bold\">Store</span>\n                        </div>\n                    </Col>\n                    <Col xs={8}>\n                        <div className=\"d-flex justify-content-between align-items-center\">\n                            <div className=\"d-flex align-items-center\">\n                                <span className=\"text-muted mr-2\">Before:</span>\n                                <span className=\"font-weight-bold\">{stockData.storeAvailBefore}</span>\n                            </div>\n                            {isHistorical && (\n                                <>\n                                    <ArrowRight size={12} className=\"mx-2 text-muted\" />\n                                    <div className=\"d-flex align-items-center\">\n                                        <span className={`font-weight-bold ${\n                                            stockData.storeDiff > 0 ? 'text-success' : stockData.storeDiff < 0 ? 'text-danger' : ''\n                                        }`}>\n                                            {stockData.storeAvailAfter}\n                                        </span>\n                                        {stockData.storeDiff !== 0 && (\n                                            <Badge\n                                                color={getBadgeColor(stockData.storeDiff)}\n                                                className=\"ml-2 d-flex align-items-center\"\n                                                pill\n                                            >\n                                                {getDiffIcon(stockData.storeDiff)}\n                                                {getDiffLabel(stockData.storeDiff)}\n                                            </Badge>\n                                        )}\n                                    </div>\n                                </>\n                            )}\n                        </div>\n                    </Col>\n                </Row>\n            </div>\n\n            {/* Total Row */}\n            <div className=\"stock-impact-row pt-2 border-top\">\n                <Row className=\"align-items-center\">\n                    <Col xs={4}>\n                        <div className=\"d-flex align-items-center\">\n                            <Package size={12} className=\"mr-2 text-primary\" />\n                            <span className=\"font-weight-bold\">Total</span>\n                        </div>\n                    </Col>\n                    <Col xs={8}>\n                        <div className=\"d-flex justify-content-between align-items-center\">\n                            <div className=\"d-flex align-items-center\">\n                                <span className=\"text-muted mr-2\">Before:</span>\n                                <span className=\"font-weight-bold\">{stockData.totalBefore}</span>\n                            </div>\n                            {isHistorical && (\n                                <>\n                                    <ArrowRight size={12} className=\"mx-2 text-muted\" />\n                                    <div className=\"d-flex align-items-center\">\n                                        <span className={`font-weight-bold ${\n                                            stockData.totalDiff > 0 ? 'text-success' : stockData.totalDiff < 0 ? 'text-danger' : ''\n                                        }`}>\n                                            {stockData.totalAfter}\n                                        </span>\n                                        {stockData.totalDiff !== 0 && (\n                                            <Badge\n                                                color={getBadgeColor(stockData.totalDiff)}\n                                                className=\"ml-2 d-flex align-items-center\"\n                                                pill\n                                            >\n                                                {getDiffIcon(stockData.totalDiff)}\n                                                {getDiffLabel(stockData.totalDiff)}\n                                            </Badge>\n                                        )}\n                                    </div>\n                                </>\n                            )}\n                        </div>\n                    </Col>\n                </Row>\n            </div>\n\n            {/* Transfer Details */}\n            <div className=\"mt-3 pt-3 border-top\">\n                <div className=\"small text-muted\">\n                    <div className=\"d-flex justify-content-between mb-1\">\n                        <span>Quantity:</span>\n                        <strong>{product?.quantity || 0}</strong>\n                    </div>\n                    <div className=\"d-flex justify-content-between mb-1\">\n                        <span>From:</span>\n                        <span className=\"text-capitalize\">\n                            {product?.from_location_label || product?.from_location || 'stock_available'}\n                        </span>\n                    </div>\n                    <div className=\"d-flex justify-content-between\">\n                        <span>To:</span>\n                        <span className=\"text-capitalize\">\n                            {product?.to_location_label || product?.to_location || 'store_available'}\n                        </span>\n                    </div>\n                </div>\n            </div>\n\n            {showTooltip && (\n                <Tooltip\n                    placement=\"top\"\n                    target={`stock-impact-info-${product?.id || 'unknown'}`}\n                >\n                    {isHistorical ? 'Shows actual stock changes after transfer completion' : 'Shows current stock status (no changes yet)'}\n                </Tooltip>\n            )}\n        </div>\n    )\n}\n\nexport default StockImpact","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Trash2 = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"3 6 5 6 21 6\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"10\",\n    y1: \"11\",\n    x2: \"10\",\n    y2: \"17\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"14\",\n    y1: \"11\",\n    x2: \"14\",\n    y2: \"17\"\n  }));\n});\nTrash2.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nTrash2.displayName = 'Trash2';\nexport default Trash2;","// ** React Imports\nimport { Link } from 'react-router-dom'\n\n// ** Third Party Components\nimport Proptypes from 'prop-types'\nimport { Grid, CheckSquare, MessageSquare, Mail, Calendar } from 'react-feather'\nimport {\n  Breadcrumb,\n  BreadcrumbItem,\n  UncontrolledButtonDropdown,\n  DropdownMenu,\n  DropdownItem,\n  DropdownToggle\n} from 'reactstrap'\n\nconst BreadCrumbs = props => {\n  // ** Props\n  const { breadCrumbTitle, breadCrumbParent, breadCrumbParent2, breadCrumbParent3, breadCrumbActive, right } = props\n\n  return (\n    <div className='content-header row'>\n      <div className='content-header-left col-9 mb-2'>\n      {/*<div className='content-header-left col-md-9 col-12 mb-2'>*/}\n        <div className='row breadcrumbs-top'>\n          <div className='col-12'>\n            {breadCrumbTitle ? <h2 className='content-header-title float-left mb-0'>{breadCrumbTitle}</h2> : ''}\n            <div className='breadcrumb-wrapper vs-breadcrumbs d-sm-block d-none col-12'>\n              <Breadcrumb>\n                <BreadcrumbItem tag='li'>\n                  <Link to='/'>Home</Link>\n                </BreadcrumbItem>\n                {\n                  breadCrumbParent &&\n                  <BreadcrumbItem tag='li' className='text-primary'>\n                    {breadCrumbParent}\n                  </BreadcrumbItem>\n                }\n                {breadCrumbParent2 ? (\n                  <BreadcrumbItem tag='li' className='text-primary'>\n                    {breadCrumbParent2}\n                  </BreadcrumbItem>\n                ) : (\n                  ''\n                )}\n                {breadCrumbParent3 ? (\n                  <BreadcrumbItem tag='li' className='text-primary'>\n                    {breadCrumbParent3}\n                  </BreadcrumbItem>\n                ) : (\n                  ''\n                )}\n                <BreadcrumbItem tag='li' active>\n                  {breadCrumbActive}\n                </BreadcrumbItem>\n              </Breadcrumb>\n            </div>\n          </div>\n        </div>\n      </div>\n      {\n        right ? (\n          <div className='content-header-right text-md-right col-3'>\n            {/*<div className='content-header-right text-md-right col-md-3 col-12 d-md-block d-none'>*/}\n            <div className='form-group breadcrum-right dropdown'>\n              { right }\n              {/*<UncontrolledButtonDropdown>*/}\n              {/*  <DropdownToggle color='primary' size='sm' className='btn-icon btn-round dropdown-toggle'>*/}\n              {/*    <Grid size={14} />*/}\n              {/*  </DropdownToggle>*/}\n              {/*  <DropdownMenu tag='ul' right>*/}\n              {/*    <DropdownItem tag={Link} to='/apps/chat'>*/}\n              {/*      <CheckSquare className='mr-1' size={14} />*/}\n              {/*      <span className='align-middle'>Todo</span>*/}\n              {/*    </DropdownItem>*/}\n              {/*    <DropdownItem tag={Link} to='/apps/chat'>*/}\n              {/*      <MessageSquare className='mr-1' size={14} />*/}\n              {/*      <span className='align-middle'>Chat</span>*/}\n              {/*    </DropdownItem>*/}\n              {/*    <DropdownItem tag={Link} to='/apps/email'>*/}\n              {/*      <Mail className='mr-1' size={14} />*/}\n              {/*      <span className='align-middle'>Email</span>*/}\n              {/*    </DropdownItem>*/}\n              {/*    <DropdownItem tag={Link} to='/apps/calendar'>*/}\n              {/*      <Calendar className='mr-1' size={14} />*/}\n              {/*      <span className='align-middle'>Calendar</span>*/}\n              {/*    </DropdownItem>*/}\n              {/*  </DropdownMenu>*/}\n              {/*</UncontrolledButtonDropdown>*/}\n            </div>\n          </div>\n        ) : ''\n      }\n\n    </div>\n  )\n}\nexport default BreadCrumbs\n\n// ** PropTypes\nBreadCrumbs.propTypes = {\n  breadCrumbTitle: Proptypes.string.isRequired,\n  breadCrumbActive: Proptypes.string.isRequired\n}\n","// src/views/transfer-order/create/index.js\nimport { Fragment, useState, useEffect, useRef } from 'react'\nimport Breadcrumbs from '@components/breadcrumbs'\nimport {\n    Row,\n    Col,\n    Button,\n    Card,\n    CardBody,\n    Spinner,\n    Alert,\n    FormGroup,\n    Label,\n    Input,\n    Badge,\n    Table,\n    CustomInput,\n    CardHeader,\n    Collapse\n} from 'reactstrap'\nimport { useHistory } from 'react-router-dom'\nimport { toast } from 'react-toastify'\nimport { Save, X, ArrowLeft, AlertTriangle, Package, Trash2, RefreshCw, BarChart2, CheckCircle, ArrowRight, ChevronDown } from 'react-feather'\nimport AsyncSelect from 'react-select/async/dist/react-select.esm'\nimport ability from \"../../../configs/acl/ability\"\nimport TransferOrderStatus from '../components/TransferOrderStatus'\nimport axios from '../../../utility/axiosIsntance'\nimport { api as productApi } from '@data/use-product'\nimport { showError, showSuccess } from '../../../utility/Utils'\nimport StockImpact from '../components/StockImpact'\n\nexport default function CreateTransferOrder() {\n    const history = useHistory()\n    const [isSubmitting, setIsSubmitting] = useState(false)\n    const [products, setProducts] = useState([])\n    const [notes, setNotes] = useState('')\n    const [selectedProduct, setSelectedProduct] = useState(null)\n    const [loading, setLoading] = useState(false)\n    const [stockErrors, setStockErrors] = useState({})\n    const [defaultOptions, setDefaultOptions] = useState([])\n    const optionsCache = useRef(new Map())\n    const [bulkSectionOpen, setBulkSectionOpen] = useState(true)\n    const [bulkFromLocation, setBulkFromLocation] = useState('stock_available')\n    const [bulkToLocation, setBulkToLocation] = useState('store_available')\n    const canCreate = ability.can('read', 'transfer_order_create')\n    const canComplete = ability.can('read', 'transfer_order_complete')\n    const canCancel = ability.can('read', 'transfer_order_cancel')\n\n    // Mock transfer order object for initial display (only used for UI consistency)\n    const initialTransferOrder = {\n        status: 'PENDING',\n        number: 'New',\n        can_edit: true,\n        can_complete: false,\n        can_cancel: false,\n        created_at: new Date().toISOString(),\n        updated_at: new Date().toISOString()\n    }\n\n    const transferOrder = initialTransferOrder\n\n    // Load initial product options\n    const loadInitialOptions = async () => {\n        const cacheKey = 'initial'\n        if (optionsCache.current.has(cacheKey)) {\n            setDefaultOptions(optionsCache.current.get(cacheKey))\n            return\n        }\n\n        try {\n            const data = await productApi.autocomplete('')\n            const options = data.map((product) => {\n                const stockValue = product.stock || product.current_stock || product.quantity || 0\n                const stockAvailable = product.stock_available || product.current_stock_available || 0\n                const storeAvailable = product.store_available || product.current_store_available || 0\n                const skuValue = product.sku || 'N/A'\n                const productName = product.name || 'Unknown Product'\n                const imageUrl = product.image || '/static/images/placeholder.png'\n\n                return {\n                    label: (\n                        <div style={{ display: 'flex', alignItems: 'center' }}>\n                            <img\n                                src={imageUrl}\n                                alt={productName}\n                                height=\"32\"\n                                width=\"32\"\n                                style={{ marginRight: '10px', borderRadius: '4px' }}\n                            />\n                            <div>\n                                <div style={{ fontWeight: 'bold' }}>{productName}</div>\n                                <div style={{ fontSize: '12px', color: '#666' }}>\n                                    SKU: {skuValue} | Stock: {stockValue} | Stock Avail: {stockAvailable}\n                                </div>\n                            </div>\n                        </div>\n                    ),\n                    value: product.id,\n                    item: {\n                        ...product,\n                        id: product.id,\n                        stock: stockValue,\n                        stock_available: stockAvailable,\n                        store_available: storeAvailable,\n                        name: productName,\n                        sku: skuValue,\n                        image: imageUrl,\n                        location: product.location || 'N/A',\n                        stock_location: product.stock_location || 'N/A'\n                    }\n                }\n            })\n\n            optionsCache.current.set(cacheKey, options)\n            setDefaultOptions(options)\n        } catch (error) {\n            console.error('Failed to load initial options:', error)\n            setDefaultOptions([])\n        }\n    }\n\n    // Promise options for AsyncSelect\n    const promiseOptions = async (inputValue) => {\n        const cacheKey = inputValue || 'empty'\n        if (optionsCache.current.has(cacheKey)) {\n            return optionsCache.current.get(cacheKey)\n        }\n\n        try {\n            setLoading(true)\n            const data = await productApi.autocomplete(inputValue)\n            const options = data.map((product) => {\n                const stockValue = product.stock || product.current_stock || product.quantity || 0\n                const stockAvailable = product.stock_available || product.current_stock_available || 0\n                const storeAvailable = product.store_available || product.current_store_available || 0\n                const skuValue = product.sku || 'N/A'\n                const productName = product.name || 'Unknown Product'\n                const imageUrl = product.image || '/static/images/placeholder.png'\n\n                return {\n                    label: (\n                        <div style={{ display: 'flex', alignItems: 'center' }}>\n                            <img\n                                src={imageUrl}\n                                alt={productName}\n                                height=\"32\"\n                                width=\"32\"\n                                style={{ marginRight: '10px', borderRadius: '4px' }}\n                            />\n                            <div>\n                                <div style={{ fontWeight: 'bold' }}>{productName}</div>\n                                <div style={{ fontSize: '12px', color: '#666' }}>\n                                    SKU: {skuValue} | Stock: {stockValue} | Stock Avail: {stockAvailable}\n                                </div>\n                            </div>\n                        </div>\n                    ),\n                    value: product.id,\n                    item: {\n                        ...product,\n                        id: product.id,\n                        stock: stockValue,\n                        stock_available: stockAvailable,\n                        store_available: storeAvailable,\n                        name: productName,\n                        sku: skuValue,\n                        image: imageUrl,\n                        location: product.location || 'N/A',\n                        stock_location: product.stock_location || 'N/A'\n                    }\n                }\n            })\n\n            optionsCache.current.set(cacheKey, options)\n            return options\n        } catch (error) {\n            console.error('Failed to load options:', error)\n            return []\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    // Get product details with stock information\n    const getProductDetails = async (productId) => {\n        try {\n            const product = await productApi.show(productId)\n\n            let stockAvailable = product.stock_available\n            let storeAvailable = product.store_available\n\n            if (stockAvailable === null || stockAvailable === undefined ||\n                storeAvailable === null || storeAvailable === undefined) {\n                try {\n                    const stockResponse = await axios.get(`/products/${productId}/stock`)\n                    if (stockResponse.data && stockResponse.data.data) {\n                        stockAvailable = stockResponse.data.data.stock_available || 0\n                        storeAvailable = stockResponse.data.data.store_available || 0\n                    }\n                } catch (stockError) {\n                    console.log('No separate stock endpoint, using fallback values')\n                    stockAvailable = product.stock_available || product.stock || 0\n                    storeAvailable = product.store_available || 0\n                }\n            }\n\n            return {\n                ...product,\n                id: product.id,\n                stock: product.stock || 0,\n                stock_available: stockAvailable,\n                store_available: storeAvailable,\n                name: product.name || 'Unknown Product',\n                sku: product.sku || 'N/A',\n                image: product.image || '/static/images/placeholder.png',\n                location: product.location || 'N/A',\n                stock_location: product.stock_location || 'N/A'\n            }\n        } catch (error) {\n            console.error('Error getting product details:', error)\n            throw error\n        }\n    }\n\n    const validateStock = (productsList) => {\n        const errors = {}\n        productsList.forEach((product, index) => {\n            if (product.product) {\n                const availableStock = product.from_location === 'stock_available' ? (product.product.stock_available || 0) : (product.product.store_available || 0)\n\n                if (parseInt(product.quantity || 0) > availableStock) {\n                    errors[index] = `Insufficient stock. Available: ${availableStock}`\n                }\n            }\n        })\n        setStockErrors(errors)\n        return Object.keys(errors).length === 0\n    }\n\n    // Add these functions after your other functions\n\n// Apply bulk location to all products\n    const applyBulkLocation = () => {\n        if (bulkFromLocation === bulkToLocation) {\n            showError('From and To locations cannot be the same')\n            return\n        }\n\n        setProducts(prev => {\n            const updated = prev.map(product => {\n                const availableStock = bulkFromLocation === 'stock_available' ? (product.product?.stock_available || 0) : (product.product?.store_available || 0)\n\n                let quantity = product.quantity\n                if (parseInt(quantity) > availableStock) {\n                    quantity = availableStock > 0 ? availableStock : 1\n                    showError(`Quantity adjusted to ${quantity} for ${product.product?.name} due to insufficient stock in ${bulkFromLocation}`)\n                }\n\n                return {\n                    ...product,\n                    from_location: bulkFromLocation,\n                    to_location: bulkToLocation,\n                    quantity\n                }\n            })\n\n            validateStock(updated)\n            return updated\n        })\n\n        showSuccess(`Applied locations to all products`)\n    }\n\n// Swap bulk locations\n    const swapBulkLocations = () => {\n        const temp = bulkFromLocation\n        setBulkFromLocation(bulkToLocation)\n        setBulkToLocation(temp)\n    }\n    // Handle product selection\n    const handleProductSelect = async (selectedOption) => {\n        if (selectedOption) {\n            const existingProduct = products.find(p => p.product_id === selectedOption.value)\n            if (existingProduct) {\n                showError('Product already added to transfer list')\n                setSelectedProduct(null)\n                return\n            }\n\n            try {\n                const productData = await getProductDetails(selectedOption.value)\n\n                const newProduct = {\n                    product_id: selectedOption.value,\n                    product: productData,\n                    from_location: bulkFromLocation,\n                    to_location: bulkToLocation,\n                    quantity: 1\n                }\n\n                setProducts(prev => [...prev, newProduct])\n                setSelectedProduct(null)\n\n                showSuccess(`Added ${productData.name} to transfer list`)\n                validateStock([...products, newProduct])\n            } catch (error) {\n                console.error('Error in handleProductSelect:', error)\n                showError('Failed to load product details. Please try again.')\n\n                const newProduct = {\n                    product_id: selectedOption.value,\n                    product: {\n                        ...selectedOption.item,\n                        stock_available: selectedOption.item.stock || 0,\n                        store_available: 0\n                    },\n                    from_location: 'stock_available',\n                    to_location: 'store_available',\n                    quantity: 1\n                }\n                setProducts(prev => [...prev, newProduct])\n                setSelectedProduct(null)\n                validateStock([...products, newProduct])\n                showError('Product added with estimated stock values. Please verify.')\n            }\n        }\n    }\n\n    const handleProductChange = (index, field, value) => {\n        setProducts(prev => {\n            const updated = [...prev]\n            updated[index][field] = value\n\n            if (field === 'from_location') {\n                if (value === updated[index].to_location) {\n                    updated[index].to_location = value === 'stock_available' ? 'store_available' : 'stock_available'\n                }\n            } else if (field === 'to_location') {\n                if (value === updated[index].from_location) {\n                    showError('From and To locations cannot be the same')\n                    return prev\n                }\n            } else if (field === 'quantity') {\n                const numValue = parseInt(value) || 1\n\n                if (numValue < 1) {\n                    updated[index][field] = 1\n                    return updated\n                }\n\n                const availableStock = updated[index].from_location === 'stock_available' ? (updated[index].product?.stock_available || 0) : (updated[index].product?.store_available || 0)\n\n                if (numValue > availableStock) {\n                    showError(`Cannot transfer more than available stock (${availableStock}) for ${updated[index].product?.name}`)\n                    updated[index][field] = availableStock > 0 ? availableStock : 1\n                } else {\n                    updated[index][field] = numValue\n                }\n            }\n\n            validateStock(updated)\n            return updated\n        })\n    }\n\n    // Refresh product stock\n    const refreshProductStock = async (index) => {\n        try {\n            const product = products[index]\n            const updatedProduct = await getProductDetails(product.product_id)\n\n            setProducts(prev => {\n                const updated = [...prev]\n                updated[index].product = {\n                    ...updated[index].product,\n                    ...updatedProduct\n                }\n\n                const availableStock = updated[index].from_location === 'stock_available' ? (updatedProduct.stock_available || 0) : (updatedProduct.store_available || 0)\n                const currentQuantity = parseInt(updated[index].quantity || 0)\n\n                if (currentQuantity > availableStock) {\n                    updated[index].quantity = availableStock > 0 ? availableStock : 1\n                    showError(`Quantity adjusted to ${availableStock} for ${updatedProduct.name}`)\n                }\n\n                return updated\n            })\n\n            validateStock(products)\n            showSuccess('Stock information updated')\n        } catch (error) {\n            console.error('Error refreshing stock:', error)\n            showError('Failed to refresh stock information')\n        }\n    }\n\n    const handleRemoveProduct = (index) => {\n        const productName = products[index]?.product?.name || 'Product'\n        const updatedProducts = products.filter((_, i) => i !== index)\n        setProducts(updatedProducts)\n\n        const newErrors = { ...stockErrors }\n        delete newErrors[index]\n        setStockErrors(newErrors)\n\n        showSuccess(`Removed ${productName} from transfer list`)\n    }\n\n    // Calculate expected impact for new transfers (not yet saved)\n    const calculateExpectedImpact = (product) => {\n        const productData = product.product || {}\n        const currentStockAvailable = productData.stock_available || 0\n        const currentStoreAvailable = productData.store_available || 0\n        const quantity = parseInt(product.quantity) || 0\n\n        let expectedStockAvailable = currentStockAvailable\n        let expectedStoreAvailable = currentStoreAvailable\n\n        if (product.from_location === 'stock_available') {\n            expectedStockAvailable -= quantity\n        } else {\n            expectedStoreAvailable -= quantity\n        }\n\n        if (product.to_location === 'stock_available') {\n            expectedStockAvailable += quantity\n        } else {\n            expectedStoreAvailable += quantity\n        }\n\n        const currentTotal = currentStockAvailable + currentStoreAvailable\n        const expectedTotal = expectedStockAvailable + expectedStoreAvailable\n\n        return {\n            currentStockAvailable,\n            currentStoreAvailable,\n            currentTotal,\n            expectedStockAvailable,\n            expectedStoreAvailable,\n            expectedTotal,\n            stockDifference: expectedStockAvailable - currentStockAvailable,\n            storeDifference: expectedStoreAvailable - currentStoreAvailable,\n            totalDifference: expectedTotal - currentTotal\n        }\n    }\n\n    // Prepare product data for StockImpact component\n    const prepareProductForStockImpact = (product) => {\n        const expectedImpact = calculateExpectedImpact(product)\n        return {\n            ...product,\n            // Simulate stock history data for expected impact\n            stock_available_before: expectedImpact.currentStockAvailable,\n            stock_available_after: expectedImpact.expectedStockAvailable,\n            store_available_before: expectedImpact.currentStoreAvailable,\n            store_available_after: expectedImpact.expectedStoreAvailable,\n            stock_before: expectedImpact.currentTotal,\n            stock_after: expectedImpact.expectedTotal,\n            stock_available_difference: expectedImpact.stockDifference,\n            store_available_difference: expectedImpact.storeDifference,\n            stock_difference: expectedImpact.totalDifference,\n            has_stock_history: false, // Always false for new transfers\n            // Include current values\n            current_stock_available: expectedImpact.currentStockAvailable,\n            current_store_available: expectedImpact.currentStoreAvailable\n        }\n    }\n\n    const hasInsufficientStock = () => {\n        return products.some(product => {\n            const availableStock = product.from_location === 'stock_available' ? (product.product?.stock_available || 0) : (product.product?.store_available || 0)\n            return parseInt(product.quantity || 0) > availableStock\n        })\n    }\n\n    const getTotalQuantity = () => {\n        return products.reduce((total, product) => total + (parseInt(product.quantity) || 0), 0)\n    }\n\n    const calculateStockSummary = () => {\n        const summary = {\n            stock_to_store: { count: 0, quantity: 0 },\n            store_to_stock: { count: 0, quantity: 0 }\n        }\n\n        products.forEach(product => {\n            if (product.from_location === 'stock_available' && product.to_location === 'store_available') {\n                summary.stock_to_store.count++\n                summary.stock_to_store.quantity += parseInt(product.quantity) || 0\n            } else if (product.from_location === 'store_available' && product.to_location === 'stock_available') {\n                summary.store_to_stock.count++\n                summary.store_to_stock.quantity += parseInt(product.quantity) || 0\n            }\n        })\n\n        return summary\n    }\n\n    const onSubmit = async () => {\n        if (!canCreate) {\n            toast.error('You do not have permission to create transfer orders')\n            return\n        }\n\n        if (!products || products.length === 0) {\n            toast.error('Please add at least one product')\n            return\n        }\n\n        if (hasInsufficientStock()) {\n            toast.error('Some products exceed available stock. Please fix before saving.')\n            return\n        }\n\n        setIsSubmitting(true)\n\n        try {\n            const preparedData = {\n                notes: notes || '',\n                products: products.map(p => ({\n                    product_id: p.product_id,\n                    from_location: p.from_location,\n                    to_location: p.to_location,\n                    quantity: parseInt(p.quantity) || 1\n                }))\n            }\n\n            const response = await axios.post('/transfer-orders', preparedData)\n            const newTransferOrder = response.data.data\n\n            toast.success('Transfer order created successfully')\n\n            // Redirect to edit page immediately after creation\n            history.push(`/transfer-order/edit/${newTransferOrder.id}`)\n\n        } catch (error) {\n            console.error('Create error:', error)\n            toast.error(error.response?.data?.message || 'Failed to create transfer order')\n        } finally {\n            setIsSubmitting(false)\n        }\n    }\n\n    const handleViewList = () => {\n        history.push('/transfer-order/list')\n    }\n\n    const handleBack = () => {\n        history.push('/transfer-order/list')\n    }\n\n    const handleCancelCreate = () => {\n        if (products.length > 0) {\n            if (window.confirm('You have unsaved changes. Are you sure you want to cancel?')) {\n                history.push('/transfer-order/list')\n            }\n        } else {\n            history.push('/transfer-order/list')\n        }\n    }\n\n    // Load initial options on mount\n    useEffect(() => {\n        loadInitialOptions()\n    }, [])\n\n    const stockSummary = calculateStockSummary()\n\n    return (\n        <Fragment>\n            <Breadcrumbs\n                breadCrumbTitle='Transfer Orders'\n                breadCrumbActive='Create Transfer'\n            />\n\n            <Card>\n                <CardBody>\n                    <div className=\"mb-2\">\n                        <div className=\"d-flex justify-content-between align-items-center\">\n                            <div>\n                                <h4 className=\"mb-0\">\n                                    Create New Transfer Order\n                                </h4>\n                                <p className=\"text-muted mb-0\">\n                                    Transfer stock between locations\n                                </p>\n                            </div>\n                            <div>\n                                <Button\n                                    color=\"secondary\"\n                                    onClick={handleBack}\n                                    className=\"mr-2\"\n                                >\n                                    <ArrowLeft size={14} className=\"mr-1\" />\n                                    Back to List\n                                </Button>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Row>\n                        <Col md={8} sm={12}>\n                            {/* Transfer Details */}\n                            <Card className=\"mb-2\">\n                                <CardBody>\n                                    <h5 className=\"mb-2\">\n                                        <Package size={18} className=\"mr-2\" />\n                                        Transfer Details\n                                    </h5>\n\n                                    {/* Product Search */}\n                                    <FormGroup>\n                                        <Label for=\"product-search\">Search Product to Add</Label>\n                                        <AsyncSelect\n                                            id=\"product-search\"\n                                            isClearable={true}\n                                            className='react-select'\n                                            classNamePrefix='select'\n                                            value={selectedProduct ? {\n                                                value: selectedProduct.id,\n                                                label: selectedProduct.name,\n                                                item: selectedProduct\n                                            } : null}\n                                            loadOptions={promiseOptions}\n                                            defaultOptions={defaultOptions}\n                                            cacheOptions\n                                            onChange={handleProductSelect}\n                                            placeholder=\"Search for products to add...\"\n                                            isLoading={loading}\n                                            noOptionsMessage={({ inputValue }) => {\n                                                if (!inputValue || inputValue.trim() === '') {\n                                                    return \"Start typing to search products\"\n                                                }\n                                                if (loading) {\n                                                    return \"Searching...\"\n                                                }\n                                                return \"No products found\"\n                                            }}\n                                            filterOption={null}\n                                            formatOptionLabel={(option, { context }) => {\n                                                if (context === 'menu') {\n                                                    return option.label\n                                                }\n                                                return option.item ? option.item.name : option.label\n                                            }}\n                                            styles={{\n                                                control: (base) => ({\n                                                    ...base,\n                                                    minHeight: '42px'\n                                                }),\n                                                menu: (base) => ({\n                                                    ...base,\n                                                    zIndex: 9999\n                                                })\n                                            }}\n                                        />\n                                    </FormGroup>\n\n                                    {/* Bulk Location Selection */}\n                                    <Card className=\"mb-3 border-primary\">\n                                        <CardHeader\n                                            style={{ cursor: 'pointer', padding: '0.5rem 1rem' }}\n                                            onClick={() => setBulkSectionOpen(!bulkSectionOpen)}\n                                        >\n                                            <div className=\"d-flex justify-content-between align-items-center w-100\">\n                                                <div className=\"d-flex align-items-center\" style={{ flex: 1 }}>\n                                                    <h6 className=\"mb-0\" style={{ fontSize: '0.9rem', marginRight: '1rem' }}>\n                                                        Bulk Location Settings\n                                                    </h6>\n                                                    {!bulkSectionOpen && (\n                                                        <div className=\"text-muted small\">\n                                                            <Badge color={bulkFromLocation === 'stock_available' ? 'info' : 'warning'} className=\"mr-1\">\n                                                                {bulkFromLocation === 'stock_available' ? 'Stock' : 'Store'}\n                                                            </Badge>\n                                                            \n                                                            <Badge color={bulkToLocation === 'store_available' ? 'warning' : 'info'} className=\"ml-1\">\n                                                                {bulkToLocation === 'store_available' ? 'Store' : 'Stock'}\n                                                            </Badge>\n                                                        </div>\n                                                    )}\n                                                </div>\n                                                <ChevronDown\n                                                    size={16}\n                                                    style={{\n                                                        transform: bulkSectionOpen ? 'rotate(180deg)' : 'rotate(0deg)',\n                                                        transition: 'transform 0.2s ease',\n                                                        marginLeft: 'auto'\n                                                    }}\n                                                />\n                                            </div>\n                                        </CardHeader>\n                                        <Collapse isOpen={bulkSectionOpen}>\n                                            <CardBody className=\"pb-0 pt-1\" style={{ padding: '0.5rem 1rem'}}>\n                                                <Row>\n                                                    <Col md={5}>\n                                                        <FormGroup className=\"mb-0\">\n                                                            <Label for=\"bulk-from\" className=\"small mb-0\">From Location</Label>\n                                                            <Input\n                                                                type=\"select\"\n                                                                id=\"bulk-from\"\n                                                                value={bulkFromLocation}\n                                                                onChange={(e) => setBulkFromLocation(e.target.value)}\n                                                                className=\"form-control-sm\"\n                                                                disabled={isSubmitting}\n                                                            >\n                                                                <option value=\"stock_available\">Stock Available</option>\n                                                                <option value=\"store_available\">Store Available</option>\n                                                            </Input>\n                                                        </FormGroup>\n                                                    </Col>\n                                                    <Col md={2} className=\"d-flex align-items-center justify-content-center\">\n                                                        <Button\n                                                            color=\"secondary\"\n                                                            size=\"sm\"\n                                                            onClick={swapBulkLocations}\n                                                            disabled={isSubmitting}\n                                                            className=\"mt-1\"\n                                                        >\n                                                            Swap\n                                                        </Button>\n                                                    </Col>\n                                                    <Col md={5}>\n                                                        <FormGroup className=\"mb-0\">\n                                                            <Label for=\"bulk-to\" className=\"small mb-0\">To Location</Label>\n                                                            <Input\n                                                                type=\"select\"\n                                                                id=\"bulk-to\"\n                                                                value={bulkToLocation}\n                                                                onChange={(e) => setBulkToLocation(e.target.value)}\n                                                                className=\"form-control-sm\"\n                                                                disabled={isSubmitting}\n                                                            >\n                                                                <option value=\"stock_available\">Stock Available</option>\n                                                                <option value=\"store_available\">Store Available</option>\n                                                            </Input>\n                                                        </FormGroup>\n                                                    </Col>\n                                                </Row>\n                                                <Row className=\"my-1\">\n                                                    <Col md={12} className=\"text-right\">\n                                                        <Button\n                                                            color=\"primary\"\n                                                            size=\"sm\"\n                                                            onClick={applyBulkLocation}\n                                                            disabled={products.length === 0 || isSubmitting || bulkFromLocation === bulkToLocation}\n                                                        >\n                                                            Apply to All Products\n                                                        </Button>\n                                                    </Col>\n                                                </Row>\n                                            </CardBody>\n                                        </Collapse>\n                                    </Card>\n                                    {/* Products Table */}\n                                    <div className=\"mt-4\">\n                                        <div className=\"d-flex justify-content-between align-items-center mb-1\">\n                                            <h6 className=\"mb-0\">Products in Transfer ({products.length})</h6>\n                                            <div className=\"text-muted\">\n                                                {getTotalQuantity()} units\n                                            </div>\n                                        </div>\n\n                                        {products.length > 0 ? (\n                                            <div className=\"table-responsive mb-3\">\n                                                <Table bordered hover>\n                                                    <thead className=\"thead-light\">\n                                                    <tr>\n                                                        <th width=\"25%\">Product</th>\n                                                        <th width=\"10%\">From</th>\n                                                        <th width=\"10%\">To</th>\n                                                        <th width=\"10%\">Quantity</th>\n                                                        <th width=\"30%\">Expected Impact</th>\n                                                        <th width=\"15%\">Actions</th>\n                                                    </tr>\n                                                    </thead>\n                                                    <tbody>\n                                                    {products.map((product, index) => {\n                                                        const productData = product.product || {}\n                                                        const productForImpact = prepareProductForStockImpact(product)\n                                                        const hasStockError = stockErrors[index]\n                                                        const isEditable = canCreate && !isSubmitting\n                                                        const productImage = productData.image || '/static/images/placeholder.png'\n                                                        const productName = productData.name || 'Product'\n                                                        const productSku = productData.sku || 'N/A'\n                                                        // Get location data\n                                                        const productLocation = productData.location || 'N/A'\n                                                        const productStockLocation = productData.stock_location || 'N/A'\n\n                                                        const currentStockAvailable = productData.stock_available || 0\n                                                        const currentStoreAvailable = productData.store_available || 0\n                                                        const availableStock = product.from_location === 'stock_available' ? currentStockAvailable : currentStoreAvailable\n\n                                                        return (\n                                                            <tr key={index} className={hasStockError ? 'table-warning' : ''}>\n                                                                <td>\n                                                                    <div className=\"d-flex align-items-center\">\n                                                                        {productImage && productImage !== '/static/images/placeholder.png' ? (\n                                                                            <img\n                                                                                src={productImage}\n                                                                                alt={productName}\n                                                                                className=\"rounded mr-2\"\n                                                                                style={{ width: 40, height: 40, objectFit: 'cover' }}\n                                                                                onError={(e) => {\n                                                                                    e.target.src = '/static/images/placeholder.png'\n                                                                                }}\n                                                                            />\n                                                                        ) : (\n                                                                            <div className=\"mr-2\" style={{\n                                                                                width: 40,\n                                                                                height: 40,\n                                                                                backgroundColor: '#f8f9fa',\n                                                                                borderRadius: '4px'\n                                                                            }}></div>\n                                                                        )}\n                                                                        <div>\n                                                                            <a className=\"font-weight-bold\"\n                                                                               href={`${process.env.REACT_APP_WEBSITE}/product/${productName.replace(/\\s+/g, '-').toLowerCase()}`}\n                                                                               target='_blank'\n                                                                               rel=\"noopener noreferrer\">\n                                                                                {productName}\n                                                                            </a>\n                                                                            <small className=\"text-muted\">\n                                                                                SKU: {productSku}\n                                                                            </small>\n                                                                        </div>\n                                                                    </div>\n                                                                </td>\n                                                                <td>\n                                                                    <select\n                                                                        className={`form-control  width-100 form-control-sm ${hasStockError ? 'border-danger' : ''}`}\n                                                                        value={product.from_location}\n                                                                        onChange={(e) => handleProductChange(index, 'from_location', e.target.value)}\n                                                                        disabled={!isEditable || isSubmitting}\n                                                                    >\n                                                                        <option value=\"stock_available\">Stock</option>\n                                                                        <option value=\"store_available\">Store</option>\n                                                                    </select>\n                                                                    {/* Display the actual location based on selection */}\n                                                                    <div className=\"mt-1 small\">\n                                                                        {product.from_location === 'stock_available' ? (\n                                                                            <div className=\"text-info d-flex align-items-center\">\n                                                                                <span className=\"mr-1\"></span>\n                                                                                <span className=\"text-truncate\" style={{ maxWidth: '120px' }} title={productStockLocation}>\n                                                                                        {productStockLocation}\n                                                                                    </span>\n                                                                            </div>\n                                                                        ) : (\n                                                                            <div className=\"text-warning d-flex align-items-center\">\n                                                                                <span className=\"mr-1\"></span>\n                                                                                <span className=\"text-truncate\" style={{ maxWidth: '120px' }} title={productLocation}>\n                                                                                        {productLocation}\n                                                                                    </span>\n                                                                            </div>\n                                                                        )}\n                                                                    </div>\n                                                                </td>\n                                                                <td>\n                                                                    <div className=\"d-flex align-items-center justify-content-center\">\n                                                                        <ArrowRight size={14} className=\"mr-1 text-muted\" />\n                                                                        <select\n                                                                            className=\"form-control  width-100 form-control-sm\"\n                                                                            value={product.to_location}\n                                                                            onChange={(e) => handleProductChange(index, 'to_location', e.target.value)}\n                                                                            disabled={!isEditable || isSubmitting}\n                                                                        >\n                                                                            <option value=\"stock_available\">Stock</option>\n                                                                            <option value=\"store_available\">Store</option>\n                                                                        </select>\n                                                                    </div>\n\n                                                                    {/* Display the actual location based on selection */}\n                                                                    <div className=\"mt-1 small text-center\">\n                                                                        {product.to_location === 'stock_available' ? (\n                                                                            <div className=\"text-info d-flex align-items-center justify-content-center\">\n                                                                                <span className=\"mr-1\"></span>\n                                                                                <span className=\"text-truncate\" style={{ maxWidth: '120px' }} title={productStockLocation}>\n                                                                                        {productStockLocation}\n                                                                                    </span>\n                                                                            </div>\n                                                                        ) : (\n                                                                            <div className=\"text-warning d-flex align-items-center justify-content-center\">\n                                                                                <span className=\"mr-1\"></span>\n                                                                                <span className=\"text-truncate\" style={{ maxWidth: '120px' }} title={productLocation}>\n                                                                                        {productLocation}\n                                                                                    </span>\n                                                                            </div>\n                                                                        )}\n                                                                    </div>\n\n                                                                </td>\n                                                                <td>\n                                                                    <Input\n                                                                        type=\"number\"\n                                                                        min=\"1\"\n                                                                        max={availableStock}\n                                                                        value={product.quantity}\n                                                                        onChange={(e) => handleProductChange(index, 'quantity', e.target.value)}\n                                                                        className={`form-control-sm ${hasStockError ? 'border-danger' : ''}`}\n                                                                        disabled={!isEditable || isSubmitting}\n                                                                    />\n                                                                    {hasStockError && (\n                                                                        <small className=\"text-danger d-block mt-1\">\n                                                                            {stockErrors[index]}\n                                                                        </small>\n                                                                    )}\n\n                                                                </td>\n                                                                <td>\n                                                                    <StockImpact\n                                                                        product={productForImpact}\n                                                                        transferOrderStatus=\"PENDING\"\n                                                                        compact={true}\n                                                                        showLabels={false}\n                                                                    />\n                                                                </td>\n                                                                <td className=\"text-center\">\n                                                                    {isEditable && (\n                                                                        <Button\n                                                                            color=\"danger\"\n                                                                            size=\"sm\"\n                                                                            onClick={() => handleRemoveProduct(index)}\n                                                                            disabled={isSubmitting}\n                                                                        >\n                                                                            <Trash2 size={14} />\n                                                                        </Button>\n                                                                    )}\n                                                                </td>\n                                                            </tr>\n                                                        )\n                                                    })}\n                                                    </tbody>\n                                                </Table>\n                                            </div>\n                                        ) : (\n                                            <div className=\"text-center p-5 border rounded bg-light\">\n                                                <Package size={48} className=\"text-muted mb-3\" />\n                                                <p className=\"text-muted\">No products added to this transfer</p>\n                                                <p className=\"text-muted small\">\n                                                    Use the search above to add products\n                                                </p>\n                                            </div>\n                                        )}\n                                    </div>\n\n                                    <FormGroup>\n                                        <Label for=\"notes\">Notes (Optional)</Label>\n                                        <Input\n                                            type=\"textarea\"\n                                            id=\"notes\"\n                                            rows=\"3\"\n                                            value={notes}\n                                            onChange={(e) => setNotes(e.target.value)}\n                                            placeholder=\"Add any notes about this transfer...\"\n                                            disabled={isSubmitting}\n                                        />\n                                    </FormGroup>\n\n                                    {/* Action Buttons */}\n                                    <div className=\"mt-4 d-flex justify-content-between\">\n                                        <Button\n                                            color=\"secondary\"\n                                            onClick={handleCancelCreate}\n                                            disabled={isSubmitting}\n                                        >\n                                            Cancel\n                                        </Button>\n\n                                        <Button\n                                            color=\"primary\"\n                                            onClick={onSubmit}\n                                            disabled={isSubmitting || products.length === 0 || hasInsufficientStock() || !canCreate}\n                                        >\n                                            {isSubmitting ? (\n                                                <>\n                                                    <Spinner size=\"sm\" className=\"mr-1\" />\n                                                    Creating...\n                                                </>\n                                            ) : (\n                                                <>\n                                                    <Save size={14} className=\"mr-1\" />\n                                                    Create Transfer\n                                                </>\n                                            )}\n                                        </Button>\n                                    </div>\n                                </CardBody>\n                            </Card>\n                        </Col>\n\n                        <Col md={4} sm={12}>\n                            {/* Transfer Summary Card */}\n                            <Card className=\"mt-0\">\n                                <CardBody>\n                                    <h6 className=\"mb-3 d-flex align-items-center\">\n                                        <BarChart2 size={16} className=\"mr-2\" />\n                                        Transfer Summary\n                                    </h6>\n\n                                    <div className=\"mb-3\">\n                                        <div className=\"d-flex justify-content-between mb-2\">\n                                            <span className=\"text-muted\">Total Products:</span>\n                                            <strong>{products.length}</strong>\n                                        </div>\n\n                                        <div className=\"d-flex justify-content-between mb-2\">\n                                            <span className=\"text-muted\">Total Quantity:</span>\n                                            <strong>{getTotalQuantity()}</strong>\n                                        </div>\n\n                                        {stockSummary.stock_to_store.count > 0 && (\n                                            <div className=\"mb-2 p-2 bg-info-light rounded\">\n                                                <div className=\"d-flex justify-content-between mb-1\">\n                                                    <span className=\"small\">Stock  Store</span>\n                                                    <Badge color=\"info\">\n                                                        {stockSummary.stock_to_store.count}\n                                                    </Badge>\n                                                </div>\n                                                <div className=\"d-flex justify-content-between\">\n                                                    <span className=\"small\">Quantity:</span>\n                                                    <strong>{stockSummary.stock_to_store.quantity}</strong>\n                                                </div>\n                                            </div>\n                                        )}\n\n                                        {stockSummary.store_to_stock.count > 0 && (\n                                            <div className=\"mb-2 p-2 bg-warning-light rounded\">\n                                                <div className=\"d-flex justify-content-between mb-1\">\n                                                    <span className=\"small\">Store  Stock</span>\n                                                    <Badge color=\"warning\">\n                                                        {stockSummary.store_to_stock.count}\n                                                    </Badge>\n                                                </div>\n                                                <div className=\"d-flex justify-content-between\">\n                                                    <span className=\"small\">Quantity:</span>\n                                                    <strong>{stockSummary.store_to_stock.quantity}</strong>\n                                                </div>\n                                            </div>\n                                        )}\n                                    </div>\n\n                                    {/* Stock Validation */}\n                                    <div className=\"mt-3 pt-3 border-top\">\n                                        <h6>Stock Validation</h6>\n                                        {hasInsufficientStock() ? (\n                                            <Alert color=\"danger\" className=\"mt-2\">\n                                                <AlertTriangle size={14} className=\"mr-2\" />\n                                                <small>Some products exceed available stock</small>\n                                            </Alert>\n                                        ) : products.length > 0 ? (\n                                            <Alert color=\"success\" className=\"mt-2\">\n                                                <CheckCircle size={14} className=\"mr-2\" />\n                                                <small>All products have sufficient stock</small>\n                                            </Alert>\n                                        ) : (\n                                            <Alert color=\"secondary\" className=\"mt-2\">\n                                                <Package size={14} className=\"mr-2\" />\n                                                <small>Add products to begin validation</small>\n                                            </Alert>\n                                        )}\n                                    </div>\n                                </CardBody>\n                            </Card>\n                        </Col>\n                    </Row>\n                </CardBody>\n            </Card>\n        </Fragment>\n    )\n}"],"sourceRoot":""}