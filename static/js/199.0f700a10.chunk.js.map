{"version":3,"sources":["views/order/list/All.js"],"names":["customSelectStyles","option","provided","state","backgroundColor","isSelected","isFocused","color","multiValue","multiValueLabel","multiValueRemove","Tables","useState","infoFilters","setInfoFilters","statusFilters","setStatusFilters","filterConditions","useMemo","conditions","forEach","filter","value","push","col","op","val","length","map","f","breadCrumbTitle","breadCrumbActive","className","md","for","id","isMulti","options","label","classNamePrefix","onChange","placeholder","styles","onClick","useDatatable","initialOrder","column","dir","defaultSortField","defaultSortAsc","actions","columns","name","selector","sortable","sortField","minWidth","cell","row","tax_number","dept","pill","taxed","tax_exempt","price_offer","status","shipping","Number","parseFloat","total","toFixed"],"mappings":"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","file":"static/js/199.0f700a10.chunk.js","sourcesContent":["import { Fragment, useState, useMemo } from 'react'\nimport Breadcrumbs from '@components/breadcrumbs'\nimport Datatable from '@components/datatable'\nimport { useDatatable } from '@data/use-order'\nimport actions from '../actions'\nimport ability from \"../../../configs/acl/ability\"\nimport { Badge, Row, Col, Label, Button, Card, CardBody } from \"reactstrap\"\nimport Select from 'react-select'\n\nconst customSelectStyles = {\n    option: (provided, state) => ({\n        ...provided,\n        backgroundColor: state.isSelected ? '#133695' : state.isFocused ? '#e9ecef' : provided.backgroundColor,\n        color: state.isSelected ? '#fff' : state.isFocused ? '#333' : provided.color,\n        '&:hover': {\n            backgroundColor: state.isSelected ? '#133695' : '#e9ecef',\n            color: state.isSelected ? '#fff' : '#333'\n        }\n    }),\n    multiValue: (provided) => ({\n        ...provided,\n        backgroundColor: '#133695'\n    }),\n    multiValueLabel: (provided) => ({\n        ...provided,\n        color: '#fff'\n    }),\n    multiValueRemove: (provided) => ({\n        ...provided,\n        color: '#fff',\n        ':hover': {\n            backgroundColor: '#0d2a7a',\n            color: '#fff'\n        }\n    })\n}\nconst Tables = () => {\n    const [infoFilters, setInfoFilters] = useState([])\n    const [statusFilters, setStatusFilters] = useState([])\n    const [debugInfo, setDebugInfo] = useState('')\n\n    // Prepare filter conditions based on selected options\n    const filterConditions = useMemo(() => {\n        const conditions = []\n\n        // Info filters\n        infoFilters.forEach(filter => {\n            switch (filter.value) {\n                case 'dept':\n                    conditions.push({col: 'options->dept', op: '=', val: true})\n                    break\n                case 'taxed':\n                    conditions.push({col: 'options->taxed', op: '=', val: true})\n                    break\n                case 'normal':\n                    conditions.push({col: 'options->taxed', op: '=', val: false})\n                    break\n                case 'tax_exempt':\n                    conditions.push({col: 'options->tax_exempt', op: '=', val: true})\n                    break\n                case 'price_offer':\n                    conditions.push({col: 'options->price_offer', op: '=', val: true})\n                    break\n                default: break\n            }\n        })\n\n        // Status filters\n        if (statusFilters.length > 0) {\n            conditions.push({col: 'status', op: 'IN', val: statusFilters.map(f => f.value)})\n        }\n\n        return conditions\n    }, [infoFilters, statusFilters])\n\n    const infoOptions = [\n        { value: 'dept', label: 'Zemam' },\n        { value: 'taxed', label: 'Taxed' },\n        { value: 'normal', label: 'Normal' },\n        { value: 'tax_exempt', label: 'M3fe' },\n        { value: 'price_offer', label: 'Offer/ Price Offer' }\n    ]\n\n    const statusOptions = [\n        { value: 'PENDING', label: 'New Order' },\n        { value: 'PROCESSING', label: 'Processing' },\n        { value: 'COMPLETED', label: 'Completed' },\n        { value: 'CANCELED', label: 'Deleted' }\n    ]\n\n    // Clear all filters\n    const clearFilters = () => {\n        setInfoFilters([])\n        setStatusFilters([])\n    }\n\n    return (\n        <Fragment>\n            <Breadcrumbs breadCrumbTitle='Orders' breadCrumbActive='Orders' />\n\n            {/* Filters Section */}\n            <Row className=\"mb-2\">\n                <Col md=\"5\">\n                    <Label for=\"info-filter\">Info Filter</Label>\n                    <Select\n                        id=\"info-filter\"\n                        isMulti\n                        options={infoOptions}\n                        className=\"react-select\"\n                        classNamePrefix=\"select\"\n                        value={infoFilters}\n                        onChange={setInfoFilters}\n                        placeholder=\"Filter by info...\"\n                        styles={customSelectStyles}  // Add this line\n                    />\n                </Col>\n                <Col md=\"5\">\n                    <Label for=\"status-filter\">Status Filter</Label>\n                    <Select\n                        id=\"status-filter\"\n                        isMulti\n                        options={statusOptions}\n                        className=\"react-select\"\n                        classNamePrefix=\"select\"\n                        value={statusFilters}\n                        onChange={setStatusFilters}\n                        placeholder=\"Filter by status...\"\n                        styles={customSelectStyles}  // Add this line\n                    />\n                </Col>\n                <Col md=\"2\" className=\"d-flex align-items-end\">\n                    <Button color=\"primary\" onClick={clearFilters} className=\"w-100\">\n                        Clear Filters\n                    </Button>\n                </Col>\n            </Row>\n\n            {/* Debug Info */}\n            {/* <Card className=\"mb-2\">\n                <CardBody>\n                    <h6>Debug Info (Filter Conditions):</h6>\n                    <pre>{debugInfo}</pre>\n                </CardBody>\n            </Card> */}\n\n            <Datatable\n                useDatatable={useDatatable}\n                initialOrder={{column: 'id', dir: 'desc'}}\n                defaultSortField={'number'}\n                defaultSortAsc={false}\n                conditions={filterConditions}\n                actions={actions}\n                columns={[\n                    {\n                        name: 'Number',\n                        selector: 'number',\n                        sortable: true,\n                        sortField: 'id',\n                        minWidth: '100px'\n                    },\n                    {\n                        name: 'Taxed Number',\n                        selector: 'tax_number',\n                        sortable: true,\n                        sortField: 'tax_number',\n                        minWidth: '100px',\n                        cell: row => row?.tax_number ?? '-----'\n                    },\n                    {\n                        name: 'customer',\n                        selector: 'customer.name',\n                        sortable: true,\n                        sortField: 'customer->name',\n                        minWidth: '100px'\n                    },\n                    {\n                        name: 'notes',\n                        selector: 'notes',\n                        sortable: true,\n                        sortField: 'notes',\n                        minWidth: '100px'\n                    },\n                    {\n                        name: 'Info',\n                        sortable: false,\n                        minWidth: '100px',\n                        cell: row => (\n                            <>\n                                {\n                                    row.options?.dept &&\n                                    <Badge className='text-capitalize' color={'light-secondary'} pill>Zemam</Badge>\n                                }\n                                {\n                                    row.options?.taxed &&\n                                    <Badge className='text-capitalize' color={'light-secondary'} pill>Taxed</Badge>\n                                }\n                                {\n                                    !row.options?.taxed &&\n                                    <Badge className='text-capitalize' color={'light-secondary'} pill>Normal</Badge>\n                                }\n                                {\n                                    row.options?.tax_exempt &&\n                                    <Badge className='text-capitalize' color={'light-secondary'} pill>M3fe</Badge>\n                                }\n                                {\n                                    row.options?.price_offer &&\n                                    <Badge className='text-capitalize' color={'light-secondary'} pill>Offer</Badge>\n                                }\n                            </>\n                        )\n                    },\n                    {\n                        name: 'Status',\n                        sortable: false,\n                        minWidth: '100px',\n                        cell: row => (\n                            <>\n                                {\n                                    (row.options?.price_offer && row.status === 'PENDING') &&\n                                    <Badge className='text-capitalize' color={'light-secondary'} pill>Price Offer</Badge>\n                                }\n                                {\n                                    (!row.options?.taxed && row.status === 'CANCELED') &&\n                                    <Badge className='text-capitalize' color={'light-secondary'} pill>DELETED</Badge>\n                                }\n                                {\n                                    (row.options?.taxed && row.status === 'CANCELED') &&\n                                    <Badge className='text-capitalize' color={'light-secondary'} pill>RETURNED</Badge>\n                                }\n                                {\n                                    ((row.options?.taxed && !row.options?.price_offer  && row.status === 'PENDING') || (!row.options?.price_offer  && row.status === 'PENDING')) &&\n                                    <Badge className='text-capitalize' color={'light-secondary'} pill>New Order</Badge>\n                                }\n                                {\n                                    (!row.options?.dept && row.shipping?.status !== 'SHIPPED' && row.shipping?.status !== 'DELIVERED'  && row.status === 'PROCESSING') &&\n                                    <Badge className='text-capitalize' color={'light-secondary'} pill>Processing</Badge>\n                                }\n                                {\n                                    (row.shipping?.status !== 'WAITING' && row.shipping?.status !== null  && row.status === 'PROCESSING') &&\n                                    <Badge className='text-capitalize' color={'light-secondary'} pill>Delivery</Badge>\n                                }\n                                {\n                                    (row.status === 'COMPLETED') &&\n                                    <Badge className='text-capitalize' color={'light-secondary'} pill>COMPLETED</Badge>\n                                }\n                            </>\n                        )\n                    },\n                    {\n                        name: 'customer',\n                        selector: 'customer.phone',\n                        sortField: 'customer->phone',\n                        sortable: true,\n                        minWidth: '100px'\n                    },\n                    {\n                        name: 'Total',\n                        selector: 'total',\n                        sortable: true,\n                        minWidth: '100px',\n                        cell: row => Number.parseFloat(row?.total).toFixed(2)\n                    }\n                ]}\n            />\n        </Fragment>\n    )\n}\n\nexport default Tables\n"],"sourceRoot":""}