{"version":3,"sources":["views/settings/sms/component/SmsCustomer.js","views/settings/sms/component/SmsMain.js","views/settings/sms/send_sms.js","@core/components/sweetalert/index.js","data/use-user.js","data/use-payment-method.js","data/use-city.js","data/use-shipping-provider.js","@core/components/form-errors/index.js","views/order/components/ShippingStatus.js","views/order/components/OrderOptions.js","views/order/components/OrderStatus.js","data/use-data.js","@core/components/breadcrumbs/index.js"],"names":["form","disabled","useState","user","setUser","renderItem","item","className","phone","name","promiseOptions","inputValue","a","api","autocomplete","data","map","id","email","label","value","Row","Col","sm","FormGroup","Label","for","control","defaultValue","render","onChange","ref","isClearable","classNamePrefix","defaultOptions","isDisabled","loadOptions","cacheOptions","extra","action","removedValue","setValue","onUserChange","Input","type","placeholder","innerRef","register","required","invalid","errors","subject","CustomInput","message","PreviewCard","isCompleted","isReorder","Card","CardBody","moment","format","SmsCustomer","Button","Ripple","color","size","useForm","handleSubmit","setFormErrors","onSubmit","history","push","e","response","breadCrumbTitle","breadCrumbActive","Form","md","SmsMain","MySwal","withReactContent","Swal","confirm","callback","fire","title","icon","showCancelButton","confirmButtonText","customClass","confirmButton","cancelButton","buttonsStyling","then","result","confirmDelete","url","create","params","apiCalls","update","delete","q","axios","get","autocompleteUserForTaxExempt","autocompleteCashier","autocompleteTaxExempt","changePassword","post","verificationEmail","useModel","model","useDatatable","datatable","mutates","useEmployeeDatatable","index","useModels","models","Object","keys","isMigrated","oldState","setOldState","cities","useCities","providers","useShippingProviders","citiesList","cost","shipping_cost","providersList","hasShipping","watch","freeShippingCity","useEffect","list","style","width","filter","option","inputRef","options","val","city","target","checked","shipping","shipping_provider","getValues","address","status","step","order","taxExempt","setTaxExempt","taxed","tax_exempt","promisesOptions","identity_number_type","tax_zero","identity_number","tax_number","console","log","onTaxExemptChange","OrderStatus","updateWithStatus","updateStatus","onCompleteWithData","calculations","transactions","JSON","parse","localStorage","getItem","setStatus","showCompletionModal","setShowCompletionModal","payment_method","amount","commission","completionData","setCompletionData","paymentMethods","setPaymentMethods","setSelectedPaymentMethod","isCommissionManual","setIsCommissionManual","orderTotal","total","existingPaymentsTotal","reduce","sum","transaction","parseFloat","shippingFreeForAmount","remainingBalance","maxCompletionAmount","Math","max","toFixed","error","toast","fetchPaymentMethods","calculateCommission","paymentMethodId","paymentMethod","find","method","toString","numericAmount","isNaN","commission_type","percent","commission_range","ranges","Array","isArray","matchingRange","range","from","to","Infinity","calculatedCommission","prev","cashPaymentMethod","shippingCost","initialData","initialCommission","handleCompleteOrder","onCancel","success","currentPaymentMethod","selectedStatus","block","onClick","outline","isOpen","toggle","handlePaymentMethodChange","min","finalAmount","handleAmountChange","borderColor","backgroundColor","fetcher","res","put","useSWR","mutate","loading","revalidateOnFocus","revalidateOnReconnect","refreshWhenOffline","refreshWhenHidden","refreshInterval","base","endpoint","page","limit","search","conditions","stringify","items","datatableWithData","table","BreadCrumbs","props","breadCrumbParent","breadCrumbParent2","breadCrumbParent3","right","tag","active"],"mappings":"qWAMe,cAA+B,IAAnBA,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,SAE7B,EAAwBC,qBAAxB,mBAAOC,EAAP,KAAaC,EAAb,KAYMC,EAAa,SAACC,GAAD,OACf,qBAAKC,UAAU,iDAAf,SACI,sBAAKA,UAAU,qBAAf,UACI,oBAAIA,UAAU,+BAAd,gBAA+CD,QAA/C,IAA+CA,OAA/C,EAA+CA,EAAME,QACrD,uBAAOD,UAAU,gCAAjB,gBAAmDD,QAAnD,IAAmDA,OAAnD,EAAmDA,EAAMG,aAK/DC,EAAc,uCAAG,WAAMC,GAAN,eAAAC,EAAA,sEACAC,IAAIC,aAAaH,GADjB,cACbI,EADa,yBAEZA,EAAKC,KAAI,YAAiC,IAA9BC,EAA6B,EAA7BA,GAAIR,EAAyB,EAAzBA,KAAMS,EAAmB,EAAnBA,MAAOV,EAAY,EAAZA,MAChC,MAAO,CACHW,MAAOd,EAAW,CAAEY,KAAIR,OAAMS,QAAOV,UACrCY,MAAOH,EACPX,KAAM,CAAEW,KAAIR,OAAMS,QAAOV,cANd,2CAAH,sDAWpB,OACI,eAACa,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAKC,GAAG,IAAR,SACI,eAACC,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAOC,IAAI,UAAX,kBACA,cAAC,IAAD,CACIC,QAAS3B,EAAK2B,QACdC,aAAc,KACdnB,KAAK,UACLoB,OACI,YAAqC,IAAlCC,EAAiC,EAAjCA,SAAUV,EAAuB,EAAvBA,MAAuB,EAAhBX,KAAgB,EAAVsB,IACtB,OACI,cAAC,IAAD,CACIC,aAAa,EACbzB,UAAU,eACV0B,gBAAgB,SAChBC,gBAAc,EACdC,WAAYlC,EACZmB,MAAO,CAACA,QAAOD,MAAOd,EAAWF,IACjCiC,YAAa1B,EACb2B,cAAY,EACZP,SACI,SAACV,EAAOkB,GACJR,EAAQ,OAACV,QAAD,IAACA,OAAD,EAACA,EAAOd,KAAKW,IApD5C,SAACG,EAAD,GAAqC,EAA3BmB,OAA2B,EAAnBC,aACnCpC,EAAO,OAACgB,QAAD,IAACA,OAAD,EAACA,EAAOd,OACf,OAAIc,QAAJ,IAAIA,OAAJ,EAAIA,EAAOd,QACPN,EAAKyC,SAAS,gBAAiBrB,EAAMd,KAAKG,MAC1CT,EAAKyC,SAAS,iBAAkBrB,EAAMd,KAAKY,OAC3ClB,EAAKyC,SAAS,iBAAkBrB,EAAMd,KAAKE,QAgDPkC,CAAatB,EAAOkB,cAWxD,cAAChB,EAAA,EAAD,CAAKC,GAAG,IAAR,SACI,eAACC,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAOC,IAAI,QAAX,mBACA,cAACiB,EAAA,EAAD,CACI1C,SAAUA,EACV2C,KAAK,OACL3B,GAAG,QACH4B,YAAa,gBACbpC,KAAK,QACLqC,SAAU9C,EAAK+C,SAAS,CAACC,UAAU,IACnCC,QAASjD,EAAKkD,OAAOC,UAAW,SAI5C,cAAC7B,EAAA,EAAD,CAAKC,GAAG,IAAR,SACI,eAACC,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAOC,IAAI,UAAX,0BACA,cAAC0B,EAAA,EAAD,CACInC,GAAG,SACH2B,KAAK,SACL3C,SAAUA,EACVQ,KAAK,SACLqC,SAAU9C,EAAK+C,kBAK3B,cAACzB,EAAA,EAAD,CAAKC,GAAG,KAAR,SACI,eAACC,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAOC,IAAI,UAAX,qBACA,cAACiB,EAAA,EAAD,CACI1C,SAAUA,EACVgB,GAAG,UACH2B,KAAK,WACLnC,KAAK,UACLoC,YAAa,kBACbC,SAAU9C,EAAK+C,SAAS,CAACC,UAAU,IACnCC,QAASjD,EAAKkD,OAAOG,UAAW,a,SClEzCC,EArCK,SAAC,GAAuC,IAApCtD,EAAmC,EAAnCA,KAAMuD,EAA6B,EAA7BA,YAA6B,EAAhBC,UAGvC,OACI,eAACC,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAUnD,UAAU,YAApB,SAEI,sBAAKA,UAAU,yDAAf,UACI,8BACI,gDAEJ,yCACU,sBAAMA,UAAU,iBAAhB,SAAkCoD,MAASC,OAAO,qBAMpE,oBAAIrD,UAAU,oBAGd,cAACmD,EAAA,EAAD,CAAUnD,UAAU,YAApB,SACI,cAACsD,EAAD,CAAa7D,KAAMA,EAAMC,SAAUsD,MAIvC,cAACG,EAAA,EAAD,CAAUnD,UAAU,8BAApB,SACA,eAACuD,EAAA,EAAOC,OAAR,CAAeC,MAAM,UAAUpB,KAAK,SAApC,UACI,cAAC,IAAD,CAAMqB,KAAM,KACZ,sBAAM1D,UAAU,qBAAhB,+B,qBC1BD,qBACX,IAAMP,EAAOkE,cAGb,EAA8DA,cAC9D,GADA,EAAQnB,SAAR,EAAkBG,OAAlB,EAA0BiB,aAA1B,EAAwCxC,QAAxC,EAAiDc,SACbvC,mBAAS,OAA7C,mBAAmBkE,GAAnB,WAEMC,EAAQ,uCAAG,WAAMtD,GAAN,iBAAAH,EAAA,sDACb,IAEI0D,QAAQC,KAAK,kBACf,MAAOC,GACLJ,EAAa,UAACI,EAAEC,gBAAH,iBAAC,EAAY1D,YAAb,aAAC,EAAkBmC,QALvB,2CAAH,sDASd,OACI,eAAC,WAAD,WACI,cAAC,IAAD,CAAawB,gBAAgB,WAAWC,iBAAiB,aACzD,cAACC,EAAA,EAAD,CAAMP,SAAUrE,EAAKmE,aAAaE,GAAlC,SACI,cAAChD,EAAA,EAAD,UACI,cAACC,EAAA,EAAD,CAAKuD,GAAI,GAAItD,GAAI,GAAjB,SACI,cAACuD,EAAD,CAAU9E,KAAMA,EAAMuD,aAAa,EAAOC,WAAW,e,6JC/BvEuB,E,MAASC,GAAiBC,KAEnBC,EAAO,uCAAG,WAAOC,GAAP,SAAAvE,EAAA,sDACnBmE,EAAOK,KAAK,CACRC,MAAO,gBAEPC,KAAM,UACNC,kBAAkB,EAClBC,kBAAmB,cACnBC,YAAa,CACTC,cAAe,kBACfC,aAAc,+BAElBC,gBAAgB,IACjBC,MAAK,SAAUC,GACVA,EAAO1E,OAAQ+D,OAbJ,2CAAH,sDAiBPY,EAAa,uCAAG,WAAOZ,GAAP,SAAAvE,EAAA,sDACzBmE,EAAOK,KAAK,CACRC,MAAO,+BAEPC,KAAM,UACNC,kBAAkB,EAClBC,kBAAmB,kBACnBC,YAAa,CACTC,cAAe,iBACfC,aAAc,+BAElBC,gBAAgB,IACjBC,MAAK,SAAUC,GACVA,EAAO1E,OAAQ+D,OAbE,2CAAH,uD,qOChBpBa,EAAM,OAECnF,EAAM,CACfoF,OAAQ,SAAAC,GAAM,OAAIC,IAASF,OAAOD,EAAKE,IACvCE,OAAQ,SAACnF,EAAIiF,GAAL,OAAgBC,IAASC,OAAOJ,EAAK/E,EAAIiF,IACjDG,OAAQ,SAAApF,GAAE,OAAIkF,IAASE,OAAOL,EAAK/E,IACnCH,aAAa,WAAD,4BAAE,WAAOwF,GAAP,iBAAA1F,EAAA,sEACa2F,IAAMC,IAAN,UAAaR,EAAb,2BAAmCM,IADhD,uBACFvF,EADE,EACFA,KADE,yBAEHA,QAFG,IAEHA,OAFG,EAEHA,EAAMA,MAFH,2CAAF,mDAAC,GAIb0F,6BAA6B,WAAD,4BAAE,WAAOH,GAAP,iBAAA1F,EAAA,sEACH2F,IAAMC,IAAN,UAAaR,EAAb,2CAAmDM,IADhD,uBAClBvF,EADkB,EAClBA,KADkB,yBAEnBA,QAFmB,IAEnBA,OAFmB,EAEnBA,EAAMA,MAFa,2CAAF,mDAAC,GAI7B2F,oBAAoB,WAAD,4BAAE,WAAOJ,GAAP,iBAAA1F,EAAA,sEACM2F,IAAMC,IAAN,UAAaR,EAAb,kCAA0CM,IADhD,uBACTvF,EADS,EACTA,KADS,yBAEVA,QAFU,IAEVA,OAFU,EAEVA,EAAMA,MAFI,2CAAF,mDAAC,GAIpB4F,sBAAsB,WAAD,4BAAE,WAAOL,GAAP,iBAAA1F,EAAA,sEACI2F,IAAMC,IAAN,UAAaR,EAAb,oCAA4CM,IADhD,uBACXvF,EADW,EACXA,KADW,yBAEZA,QAFY,IAEZA,OAFY,EAEZA,EAAMA,MAFM,2CAAF,mDAAC,GAItB6F,eAAe,WAAD,4BAAE,WAAO3F,EAAIiF,GAAX,iBAAAtF,EAAA,sEACW2F,IAAMM,KAAN,UAAcb,EAAd,YAAqB/E,EAArB,oBAA2CiF,GADtD,uBACJnF,EADI,EACJA,KADI,yBAELA,QAFK,IAELA,OAFK,EAELA,EAAMA,MAFD,2CAAF,qDAAC,GAIf+F,kBAAkB,WAAD,4BAAE,WAAO7F,GAAP,iBAAAL,EAAA,sEACQ2F,IAAMM,KAAN,UAAcb,EAAd,YAAqB/E,EAArB,wBADR,uBACPF,EADO,EACPA,KADO,yBAERA,QAFQ,IAERA,OAFQ,EAERA,EAAMA,MAFE,2CAAF,mDAAC,IAMf,SAASgG,EAAS9F,GACrB,OAAO+F,YAAMhB,EAAK/E,GAGf,SAASgG,EAAaf,GACzB,IAAMJ,EAASoB,YAAUlB,EAAD,UAASA,EAAT,cAA0BE,GAOlD,OALAJ,EAAOqB,QAAP,2BACOrB,EAAOqB,SADd,IAEIL,kBAAmBjG,EAAIiG,oBAGpBhB,EAGJ,SAASsB,EAAqBlB,GACjC,IAAMJ,EAASoB,YAAUlB,EAAD,UAASA,EAAT,aAAyBE,GAOjD,OALAJ,EAAOqB,QAAP,2BACOrB,EAAOqB,SADd,IAEIL,kBAAmBjG,EAAIiG,oBAGpBhB,I,oLC1DLE,EAAM,iBAECnF,EAAM,CACfoF,OAAQ,SAAAC,GAAM,OAAIC,IAASF,OAAOD,EAAKE,IACvCE,OAAQ,SAACnF,EAAIiF,GAAL,OAAgBC,IAASC,OAAOJ,EAAK/E,EAAIiF,IACjDG,OAAQ,SAAApF,GAAE,OAAIkF,IAASE,OAAOL,EAAK/E,IACnCoG,MAAM,WAAD,4BAAE,8BAAAzG,EAAA,sEACoB2F,IAAMC,IAAN,UAAaR,IADjC,uBACKjF,EADL,EACKA,KADL,yBAEIA,QAFJ,IAEIA,OAFJ,EAEIA,EAAMA,MAFV,2CAAF,kDAAC,IAMH,SAASgG,EAAS9F,GACrB,OAAO+F,YAAMhB,EAAK/E,GAGf,SAASgG,EAAaf,GACzB,OAAOgB,YAAUlB,EAAD,UAASA,EAAT,cAA0BE,K,iCCpB9C,oJAEMF,EAAM,OAECnF,EAAM,CACfoF,OAAQ,SAAAC,GAAM,OAAIC,IAASF,OAAOD,EAAKE,IACvCE,OAAQ,SAACnF,EAAIiF,GAAL,OAAgBC,IAASC,OAAOJ,EAAK/E,EAAIiF,IACjDG,OAAQ,SAAApF,GAAE,OAAIkF,IAASE,OAAOL,EAAK/E,KAGhC,SAAS8F,EAAS9F,GACrB,OAAO+F,YAAMhB,EAAK/E,GAGf,SAASgG,EAAaf,GACzB,OAAOgB,YAAUlB,EAAD,UAASA,EAAT,cAA0BE,GAGvC,SAASoB,IACZ,OAAOC,YAAOvB,K,iCCnBlB,oJAEMA,EAAM,oBAECnF,EAAM,CACfoF,OAAQ,SAAAC,GAAM,OAAIC,IAASF,OAAOD,EAAKE,IACvCE,OAAQ,SAACnF,EAAIiF,GAAL,OAAgBC,IAASC,OAAOJ,EAAK/E,EAAIiF,IACjDG,OAAQ,SAAApF,GAAE,OAAIkF,IAASE,OAAOL,EAAK/E,KAGhC,SAAS8F,EAAS9F,GACrB,OAAO+F,YAAMhB,EAAK/E,GAGf,SAASgG,EAAaf,GACzB,OAAOgB,YAAUlB,EAAD,UAASA,EAAT,cAA0BE,GAGvC,SAASoB,IACZ,OAAOC,YAAOvB,K,iCCnBlB,oBAEe,gBAAuB,IAAX9C,EAAU,EAAVA,OACvB,OAAKA,EAED,cAAC,IAAD,CAAOc,MAAM,SAAb,SACMwD,OAAOC,KAAKvE,GAAQlC,KAAI,SAAAwD,GAAC,OAAI,qBAAKjE,UAAU,aAAf,SAA6B2C,EAAOsB,GAAG,UAH1D,+B,6JCIT,gBAA4C,IAAD,IAAhCxE,EAAgC,EAAhCA,KAEtB,GAFsD,EAA1BuD,YAA0B,EAAbmE,WAETxH,mBAAS,KAAzC,mBAAOyH,EAAP,KAAiBC,EAAjB,KAEaC,EAAUC,cAAhB/G,KACMgH,EAAaC,cAAnBjH,KAEDkH,EAAaJ,EAAO7G,KAAI,SAAAwD,GAAC,MAAK,CAACrD,MAAOqD,EAAE/D,KAAMW,MAAOoD,EAAEvD,GAAIiH,KAAM1D,EAAE2D,kBACnEC,EAAgBL,EAAU/G,KAAI,SAAAwD,GAAC,MAAK,CAACrD,MAAOqD,EAAE/D,KAAMW,MAAOoD,EAAEvD,OAE7DoH,EAAcrI,EAAKsI,MAAM,gBACzBC,EAA6C,IAA1BvI,EAAKsI,MAAM,WAiCpCE,qBAAU,WACFD,EACAvI,EAAKyC,SAAS,gBAAgB,GAE9BzC,EAAKyC,SAAS,gBAAgB,KAEnC,CAAC8F,IAEJ,IAAME,EAAO,CACT,CACItH,MAAO,uBACPC,MAAO,WAEX,CACID,MAAO,aACPC,MAAO,WAEX,CACID,MAAO,YACPC,MAAO,cAIf,OACI,eAAC,IAAD,WACI,qBAAKsH,MAAO,CAACC,MAAO,QAApB,SACI,cAAC,IAAD,UACI,cAAC,IAAD,CACIhH,QAAS3B,EAAK2B,QACdC,aAAc,KACdnB,KAAK,UACLoB,OAAQ,gBAAEC,EAAF,EAAEA,SAAUV,EAAZ,EAAYA,MAAaW,GAAzB,EAAmBtB,KAAnB,EAAyBsB,KAAzB,OACJ,cAAC,IAAD,CACIxB,UAAU,eACV0B,gBAAgB,SAChBb,MAAO6G,EAAWW,QAAO,SAAAC,GAAM,OAAIA,EAAOzH,QAAUA,KACpD0H,SAAU/G,EACVc,YAAa,iBACbkG,QAASd,EACTnG,SAAU,SAAAkH,GA7CD,IAACC,EA8CNnH,GAAY,OAAHkH,QAAG,IAAHA,OAAA,EAAAA,EAAK5H,QAAS,MA9CjB6H,EA+CuBD,EA7CzDhJ,EAAKyC,SAAS,iBAAqB,OAAJwG,QAAI,IAAJA,OAAA,EAAAA,EAAMf,OAAQ,IA+CrBlG,aAAa,WAQjC,eAAC,IAAD,sBAII,cAAC,IAAD,CAGIf,GAAG,qBACH2B,KAAK,SACLnC,KAAK,eACLqC,SAAU9C,EAAK+C,WACfjB,SAAU,SAAA0C,GAA0BA,EAAE0E,OAAOC,QA3E9CxB,IACP3H,EAAKyC,SAAS,WAAYkF,EAASyB,UACnCpJ,EAAKyC,SAAS,UAAWkF,EAASsB,MAClCjJ,EAAKyC,SAAS,uBAAwBkF,EAAS0B,qBAjB/CzB,EAAY,CACRqB,KAAMjJ,EAAKsJ,UAAU,WACrBD,kBAAmBrJ,EAAKsJ,UAAU,wBAClCF,SAAU,CACNlB,KAAMlI,EAAKsJ,UAAU,iBACrBC,QAASvJ,EAAKsJ,UAAU,oBACxBE,OAAQxJ,EAAKsJ,UAAU,sBAG/BtJ,EAAKyC,SAAS,gBAAiB,MAC/BzC,EAAKyC,SAAS,mBAAoB,MAClCzC,EAAKyC,SAAS,kBAAmB,MACjCzC,EAAKyC,SAAS,UAAW,MACzBzC,EAAKyC,SAAS,uBAAwB,aAgFlC,eAAC,IAAD,WAGI,cAAC,IAAD,UACI,cAAC,IAAD,CACId,QAAS3B,EAAK2B,QACdC,aAAc,KACdnB,KAAK,uBACLoB,OAAQ,gBAAEC,EAAF,EAAEA,SAAUV,EAAZ,EAAYA,MAAaW,GAAzB,EAAmBtB,KAAnB,EAAyBsB,KAAzB,OACJ,cAAC,IAAD,CACIxB,UAAU,eACV0B,gBAAgB,SAChBY,YAAa,8BACbzB,MAAOgH,EAAcQ,QAAO,SAAAC,GAAM,OAAIA,EAAOzH,QAAUA,KACvD0H,SAAU/G,EACVgH,QAASX,EACTtG,SAAU,SAAAkH,GAAG,OAAIlH,GAAY,OAAHkH,QAAG,IAAHA,OAAA,EAAAA,EAAK5H,QAAS,OACxCY,aAAa,EACbG,YAAakG,SAO7B,cAAC,IAAD,UACI,cAAC,IAAD,CACIpI,UAAWoI,EAEXzF,KAAK,WACLnC,KAAK,mBACLoC,YAAY,mBACZC,SAAU9C,EAAK+C,SAAS,CAACC,SAAUqF,IACnCpF,SAAS,UAAAjD,EAAKkD,OAAOkG,gBAAZ,eAAsBG,WAAW,MAIlD,cAAC,IAAD,UACI,cAAC,IAAD,CACItJ,UAAWoI,EAEXzF,KAAK,SACLnC,KAAK,gBACLoC,YAAY,OACZ4G,KAAK,MACL3G,SAAU9C,EAAK+C,SAAS,CAACC,SAAUqF,IACnCpF,SAAS,UAAAjD,EAAKkD,OAAOkG,gBAAZ,eAAsBlB,QAAQ,MAG/C,cAAC,IAAD,UACI,cAAC,IAAD,CACIvG,QAAS3B,EAAK2B,QACdC,aAAc,UACdnB,KAAK,kBACLoB,OAAQ,gBAAEC,EAAF,EAAEA,SAAUV,EAAZ,EAAYA,MAAaW,GAAzB,EAAmBtB,KAAnB,EAAyBsB,KAAzB,OACJ,cAAC,IAAD,CACII,YAAakG,EAEb9H,UAAU,eACV0B,gBAAgB,SAChBb,MAAOqH,EAAKG,QAAO,SAAAC,GAAM,OAAIA,EAAOzH,QAAUA,KAC9C0H,SAAU/G,EACVgH,QAASN,EACT3G,SAAU,SAAAkH,GAAG,OAAIlH,EAAQ,OAACkH,QAAD,IAACA,OAAD,EAACA,EAAK5H,eAK/C,cAAC,IAAD,UACI,sBAAKb,UAAU,sCAAf,UACI,cAAC,IAAD,CAAOA,UAAU,OAAOmB,IAAI,sBAA5B,2BAGA,cAAC,IAAD,CACIzB,UAAWoI,EAEXpH,GAAG,sBACH2B,KAAK,SACLnC,KAAK,gBACLqC,SAAU9C,EAAK+C,0B,yIC9LhC,gBAAoD,IAAxC/C,EAAuC,EAAvCA,KAAM0J,EAAiC,EAAjCA,MAAOnG,EAA0B,EAA1BA,YAAamE,EAAa,EAAbA,WACjD,EAAkCxH,qBAAlC,mBAAOyJ,EAAP,KAAkBC,EAAlB,KACMC,EAAQ7J,EAAKsI,MAAM,iBACnBwB,EAAa9J,EAAKsI,MAAM,sBAExBjI,EAAa,SAACC,GAAD,OACf,qBAAKC,UAAU,iDAAf,SACI,sBAAKA,UAAU,qBAAf,UACI,oBAAIA,UAAU,+BAAd,gBAA+CD,QAA/C,IAA+CA,OAA/C,EAA+CA,EAAMG,OACrD,uBAAOF,UAAU,gCAAjB,gBAAmDD,QAAnD,IAAmDA,OAAnD,EAAmDA,EAAMY,cAK/D6I,EAAe,uCAAG,WAAMpJ,GAAN,eAAAC,EAAA,sEACDC,IAAI8F,sBAAsBhG,GADzB,cACdI,EADc,yBAEbA,EAAKC,KAAI,YAA8F,IAA3FC,EAA0F,EAA1FA,GAAIR,EAAsF,EAAtFA,KAAMS,EAAgF,EAAhFA,MAAOV,EAAyE,EAAzEA,MAAOwJ,EAAkE,EAAlEA,qBAAsBF,EAA4C,EAA5CA,WAAYG,EAAgC,EAAhCA,SAAUC,EAAsB,EAAtBA,gBACnF,MAAO,CACH/I,MAAOd,EAAW,CAAEY,KAAIR,OAAMS,QAAOV,QAAOwJ,uBAAsBF,aAAYG,WAAUC,oBACxF9I,MAAOH,EACPX,KAAM,CAAEW,KAAIR,OAAMS,QAAOV,QAAOwJ,uBAAsBF,aAAYG,WAAUC,wBANhE,2CAAH,sDAWrB1B,qBAAU,WACDqB,EAID7J,EAAKyC,SAAS,uBAAuB,IAHrCzC,EAAKyC,SAAS,sBAAsB,GACpCzC,EAAKyC,SAAS,oBAAoB,IAIjCqH,GACD9J,EAAKyC,SAAS,oBAAoB,KAEvC,CAACoH,EAAOC,IACXtB,qBAAU,WACDmB,GAAWC,EAAY,OAACF,QAAD,IAACA,OAAD,EAACA,EAAOC,aACrC,CAACD,IAeJ,OACI,sBAAKnJ,UAAU,OAAf,UACI,sBAAKA,UAAU,iCAAf,UACI,cAAC,IAAD,CACIU,GAAG,cACH2B,KAAK,SACL3C,YAAW,OAACyJ,QAAD,IAACA,OAAD,EAACA,EAAOS,aAAc5G,GAAemE,EAChDjH,KAAK,gBACLqC,SAAU9C,EAAK+C,aAEnB,cAAC,IAAD,CAAOxC,UAAU,qBAAqBmB,IAAI,cAA1C,SACI,oHAGR,sBAAKnB,UAAU,sCAAf,UACI,cAAC,IAAD,CACIN,UAAW4J,GAAStG,GAAemE,EACnCzG,GAAG,mBACH2B,KAAK,SACLnC,KAAK,qBACLqC,SAAU9C,EAAK+C,aAEnB,cAAC,IAAD,CAAOxC,UAAU,qBAAqBmB,IAAI,mBAA1C,SACI,2HAGR,sBAAKnB,UAAU,sCAAf,UAEI,cAAC,IAAD,CACIN,UAAW4J,GAAStG,IAAgBuG,GAAcpC,EAClDzG,GAAG,iBACH2B,KAAK,SACLnC,KAAK,mBACLqC,SAAU9C,EAAK+C,aAEnB,cAAC,IAAD,CAAOxC,UAAU,qBAAqBmB,IAAI,iBAA1C,SACI,iIAIR,sBAAKnB,UAAU,sCAAf,UACI,cAAC,IAAD,CACIN,SAAUsD,GAAemE,EACzBzG,GAAG,aACH2B,KAAK,SACLnC,KAAK,eACLqC,SAAU9C,EAAK+C,aAEnB,cAAC,IAAD,CAAOxC,UAAU,qBAAqBmB,IAAI,aAA1C,SACI,kGAGR,sBAAKnB,UAAU,sCAAf,UACI,cAAC,IAAD,CACIN,SAAU4J,GAAStG,GAAemE,EAClCzG,GAAG,oBACH2B,KAAK,SACLnC,KAAK,sBACLqC,SAAU9C,EAAK+C,aAEnB,cAAC,IAAD,CAAOxC,UAAU,qBAAqBmB,IAAI,oBAA1C,SACI,gFAGR,sBAAKnB,UAAU,sCAAf,UACI,cAAC,IAAD,CACIU,GAAG,UACH2B,KAAK,SACLnC,KAAK,UACLqC,SAAU9C,EAAK+C,aAEnB,cAAC,IAAD,CAAOxC,UAAU,qBAAqBmB,IAAI,UAA1C,SACI,mDAIHmI,IAAUH,IACX,qBAAKnJ,UAAU,sCAAf,SACI,cAAC,IAAD,CAAWmI,MAAO,CAACC,MAAM,QAAzB,SACI,cAAC,IAAD,CACIhH,QAAS3B,EAAK2B,QAEdC,aAAc,KACdnB,KAAK,gBACLoB,OACI,YAAqC,IAAlCC,EAAiC,EAAjCA,SAAUV,EAAuB,EAAvBA,MAAuB,EAAhBX,KAAgB,EAAVsB,IACtB,OACI,cAAC,IAAD,CACIC,aAAa,EACbzB,UAAU,eACV0B,gBAAgB,SAChBE,WAAYoB,GAAemE,EAC3BxF,gBAAc,EACdd,MAAO,CAACA,QAAOD,MAAOd,EAAWsJ,IACjCvH,YAAa2H,EACbjI,SACI,SAACV,EAAOkB,GACJR,EAAQ,OAACV,QAAD,IAACA,OAAD,EAACA,EAAOd,KAAKW,IA9G3C,SAACG,EAAD,GAAsC,IAG3C,IAH0C,EAA3BmB,OAA2B,EAAnBC,aACxC4H,QAAQC,IAAR,OAAYjJ,QAAZ,IAAYA,OAAZ,EAAYA,EAAOd,MACnBsJ,EAAY,OAACxI,QAAD,IAACA,OAAD,EAACA,EAAOd,OACpB,OAAIc,QAAJ,IAAIA,OAAJ,EAAIA,EAAOd,QACPN,EAAKyC,SAAS,gBAAiBrB,EAAMd,KAAKG,MAC1CT,EAAKyC,SAAS,iBAAkBrB,EAAMd,KAAKY,OAC3ClB,EAAKyC,SAAS,uBAAwBrB,EAAMd,KAAK0J,sBACjDhK,EAAKyC,SAAS,2BAA4BrB,EAAMd,KAAK4J,iBACrDlK,EAAKyC,SAAS,qBAAd,UAAoCrB,EAAMd,YAA1C,aAAoC,EAAYwJ,YAChD9J,EAAKyC,SAAS,mBAAd,UAAkCrB,EAAMd,YAAxC,aAAkC,EAAY2J,WAsGNK,CAAkBlJ,EAAOkB,kB,8NCwS9DiI,IA7bK,SAAC,GAAiH,IAAD,MAA9GvK,EAA8G,EAA9GA,KAAMwK,EAAwG,EAAxGA,iBAAkBC,EAAsF,EAAtFA,aAAcf,EAAwE,EAAxEA,MAAOhC,EAAiE,EAAjEA,WAAYgD,EAAqD,EAArDA,mBAAoBC,EAAiC,EAAjCA,aAAcC,EAAmB,EAAnBA,aAE9G,GADaC,KAAKC,MAAMC,aAAaC,QAAQ,SACjB9K,mBAAS,OAArC,mBAAOsJ,EAAP,KAAeyB,EAAf,KACA,EAAsD/K,oBAAS,GAA/D,mBAAOgL,EAAP,KAA4BC,EAA5B,KACA,EAA4CjL,mBAAS,CACjDkL,eAAgB,GAChBC,OAAQ,GACRjC,SAAU,GACVkC,WAAY,KAJhB,mBAAOC,EAAP,KAAuBC,EAAvB,KAMA,EAA4CtL,mBAAS,IAArD,mBAAOuL,EAAP,KAAuBC,EAAvB,KACA,EAA0DxL,mBAAS,MAAnE,mBAA8ByL,GAA9B,WACA,EAAoDzL,oBAAS,GAA7D,mBAAO0L,GAAP,KAA2BC,GAA3B,KAGMC,IAAyB,OAAZnB,QAAY,IAAZA,OAAA,EAAAA,EAAcoB,SAAd,OAAuBrC,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAOqC,QAAS,EACpDC,GAAwBpB,EAAaqB,QAAO,SAACC,EAAKC,GAAN,OAAsBD,EAAME,WAAWD,EAAYd,QAAU,KAAI,GAE7GgB,GAAwBrM,EAAKsI,MAAM,iBAGnCgE,IAFyBD,KAAkC,OAAL3C,QAAK,IAALA,GAAA,UAAAA,EAAON,gBAAP,SAAiBlB,MAEpD4D,GAAaE,IADGK,GAAwB,GAAU,OAAL3C,QAAK,IAALA,GAAA,UAAAA,EAAON,gBAAP,eAAiBlB,OAAQ,IAEzFqE,GAAsBC,KAAKC,IAAI,EAAGH,GAAiBI,QAAQ,IAGjElE,qBAAU,YACmB,uCAAG,4BAAA5H,EAAA,+EAEGC,IAAIwG,QAFP,OAEd5C,EAFc,OAGpB2F,QAAQC,IAAI,mBAAoB5F,GAChCiH,EAAkBjH,GAAY,IAJV,gDAMpB2F,QAAQuC,MAAM,mCAAd,MACAC,IAAMD,MAAM,kCAPQ,yDAAH,qDAUzBE,KACD,IAGH,IAAMC,GAAsB,SAACC,EAAiB1B,GAC1C,IAAK0B,IAAoB1B,EAAQ,OAAO,EAExC,IAAM2B,EAAgBvB,EAAewB,MAAK,SAAAC,GAAM,OAAIA,EAAOjM,GAAGkM,aAAeJ,EAAgBI,cAC7F,IAAKH,EAAe,OAAO,EAE3B,IAAMI,EAAgBhB,WAAWf,GACjC,GAAIgC,MAAMD,GAAgB,OAAO,EAQjC,OANAhD,QAAQC,IAAI,8BAA+B,CACvC2C,gBACA3B,OAAQ+B,EACRxK,KAAMoK,EAAcM,kBAGhBN,EAAcM,iBAClB,IAAK,QAED,OAAOlB,WAAWY,EAAc1B,aAAe,EAEnD,IAAK,UAED,IAAMiC,EAAUnB,WAAWY,EAAc1B,aAAe,EACxD,OAAQ8B,EAAgBG,EAAW,IAEvC,IAAK,QAED,IAAKP,EAAcQ,iBAAkB,OAAO,EAE5C,IACI,IAAMC,EAAmD,kBAAnCT,EAAcQ,iBAAgC3C,KAAKC,MAAMkC,EAAcQ,kBAAoBR,EAAcQ,iBAE/H,IAAKE,MAAMC,QAAQF,GAAS,OAAO,EAGnC,IAAMG,EAAgBH,EAAOR,MAAK,SAAAY,GAC9B,IAAMC,EAAO1B,WAAWyB,EAAMC,OAAS,EACjCC,EAAK3B,WAAWyB,EAAME,KAAOC,IACnC,OAAOZ,GAAiBU,GAAQV,GAAiBW,KAGrD,OAAOH,GAAgBxB,WAAWwB,EAActC,aAAmB,EACrE,MAAOqB,GAEL,OADAvC,QAAQuC,MAAM,kCAAmCA,GAC1C,EAGf,QACI,OAAO,IAKnBnE,qBAAU,WACN,IAAKoD,IAAsBL,EAAeH,gBAAkBG,EAAeF,OAAQ,CAC/E,IAAM4C,EAAuBnB,GACzBvB,EAAeH,eACfG,EAAeF,QAGnBG,GAAkB,SAAA0C,GAAI,kCACfA,GADe,IAElB5C,WAAY2C,EAAqBvB,QAAQ,WAGlD,CAACnB,EAAeH,eAAgBG,EAAeF,OAAQI,EAAgBG,KAG1EpD,qBAAU,WACN,GAAI0C,GAAuBxB,EAAO,CAAC,IAAD,IAExByE,EAAoB1C,EAAewB,MAAK,SAAAC,GAAM,OAAkB,IAAdA,EAAOjM,OAAawK,EAAe,GAIrF2C,EADepO,EAAKsI,MAAM,mBACU,UAAAoB,EAAMN,gBAAN,eAAgBlB,OAArB,EAE/BmG,EAAc,CAChBjD,eAAgB+C,EAAoBA,EAAkBlN,GAAGkM,YAAc,UAAA1B,EAAe,UAAf,eAAmBxK,GAAGkM,aAAc,GAC3G9B,OAAQkB,GAAsB,EAAIA,GAAoBG,QAAQ,GAAK,IACnEtD,SAAUgF,EAAajB,WACvB7B,WAAY,KAOhB,GAJAE,EAAkB6C,GAClBxC,IAAsB,GAGlBsC,GAAqB5B,GAAsB,EAAG,CAC9C,IAAM+B,EAAoBxB,GACtBqB,EAAkBlN,GAAGkM,WACrBZ,GAAoBY,YAExB3B,GAAkB,SAAA0C,GAAI,kCACfA,GADe,IAElB5C,WAAYgD,EAAkB5B,QAAQ,YAInD,CAACxB,EAAqBxB,EAAO+B,EAAgBc,KAEhD/D,qBAAU,WACDgB,GAAQyB,EAAS,OAACvB,QAAD,IAACA,OAAD,EAACA,EAAOF,UAC/B,CAACE,IAEJ,IAAMjB,GAAO,CACT,CACItH,MAAO,YACPC,MAAO,WAEX,CACID,MAAO,aACPC,MAAO,cAEX,CACID,MAAO,YACPC,MAAO,cA4DTiD,GAAQ,uCAAG,sBAAAzD,EAAA,yDACE,cAAX4I,EADS,uBAET2B,GAAuB,GAFd,0BAMbjG,YAAO,sBAAC,8BAAAtE,EAAA,+EAEM4J,EAAiB,CAAEhB,WAFzB,sDAIAoD,IAAMD,MAAN,UAAY,KAAElI,gBAAd,iBAAY,EAAY1D,YAAxB,aAAY,EAAkBsC,SAJ9B,yDANK,2CAAH,qDAeRkL,GAAmB,uCAAG,8BAAA3N,EAAA,yDACnB2K,EAAeH,gBAAmBG,EAAeF,OAD9B,uBAEpBuB,IAAMD,MAAM,0CAFQ,+BAMpBP,WAAWb,EAAeF,QAAU,GANhB,uBAOpBuB,IAAMD,MAAM,iCAPQ,6BAUxBvC,QAAQC,IAAI+B,WAAWb,EAAeF,SACtCjB,QAAQC,IAAIiC,GAAiBI,QAAQ,MAEjCN,WAAWb,EAAeF,QAAUiB,GAAiBI,QAAQ,IAbzC,wBAcpBE,IAAMD,MAAN,oDAAyDL,GAAiBI,QAAQ,KAd9D,sDAmBdhC,EAAmBa,GAnBL,QAoBpBJ,GAAuB,GApBH,mDAsBpByB,IAAMD,MAAN,UAAY,KAAElI,gBAAd,iBAAY,EAAY1D,YAAxB,aAAY,EAAkBsC,SAtBV,2DAAH,qDA0BnBmL,GAAQ,uCAAG,sBAAA5N,EAAA,sDACbmF,YAAa,sBAAC,8BAAAnF,EAAA,+EAEA6J,EAAa,CAAEjB,OAAQ,aAFvB,OAGNoD,IAAM6B,QAAQ,WAHR,+CAKN7B,IAAMD,MAAN,UAAY,KAAElI,gBAAd,iBAAY,EAAY1D,YAAxB,aAAY,EAAkBsC,SALxB,yDADD,2CAAH,qDAiBRqL,GAJGnD,EAAeH,eACbK,EAAewB,MAAK,SAAAC,GAAM,OAAIA,EAAOjM,GAAGkM,aAAe5B,EAAeH,eAAe+B,cADjD,KAM/C,OACI,cAAC,IAAD,CAAM5M,UAAU,yBAAhB,SACI,eAAC,IAAD,WACI,cAAC,IAAD,UACI,cAAC,IAAD,CACIoB,QAAS3B,EAAK2B,QACdC,aAAc,KACdnB,KAAK,SACLoB,OAAQ,gBAAGC,EAAH,EAAGA,SAAUV,EAAb,EAAaA,MAAb,EAAoBX,KAApB,EAA0BsB,IAA1B,OACJ,cAAC,IAAD,CACIxB,UAAU,eACV0B,gBAAgB,SAChBb,MAAOqH,GAAKG,QAAO,SAAAtI,GAAI,OAAIA,EAAKc,SAAWA,IAAK,OAAIsI,QAAJ,IAAIA,OAAJ,EAAIA,EAAOF,YAC3DT,QAASN,GACT3G,SAAU,SAAAkH,GAlIX,IAAC2F,EAmII7M,GAAY,OAAHkH,QAAG,IAAHA,OAAA,EAAAA,EAAK5H,QAAS,MAnI3BuN,EAoIuB3F,EAnI/ChJ,EAAKyC,SAAS,UAAwB,OAAdkM,QAAc,IAAdA,OAAA,EAAAA,EAAgBvN,QAAS,MACjD6J,EAAS,OAAC0D,QAAD,IAACA,OAAD,EAACA,EAAgBvN,eAwIlB,cAAC,IAAO2C,OAAR,CAAeC,MAAM,UAAU4K,OAAK,EAACC,QAASxK,GAA9C,2BAIsB,aAAb,OAALqF,QAAK,IAALA,OAAA,EAAAA,EAAOF,UAAyB9B,KAAc,OAACgC,QAAD,IAACA,GAAD,UAACA,EAAOX,eAAR,aAAC,EAAgBc,QAC/D,cAAC,IAAO9F,OAAR,CAAeC,MAAM,SAAS8K,SAAO,EAACvO,UAAU,OAAOqO,OAAK,EAACC,QAASL,GAAtE,0BAMJ,eAAC,IAAD,CAAOO,OAAQ7D,EAAqB8D,OAAQ,kBAAM7D,GAAuB,IAAzE,UACI,cAAC,IAAD,CAAa6D,OAAQ,kBAAM7D,GAAuB,IAAlD,4BAGA,eAAC,IAAD,WACI,sBAAK5K,UAAU,mBAAf,UACI,kDADJ,IACmCuL,GAAW,uBAC1C,wDAFJ,IAEyCE,GAAsBU,QAAQ,GAAG,uBACtE,wDAHJ,IAGyCJ,GAAiBI,QAAQ,GAAG,uBACjE,8DAJJ,IAI+CH,GAAoBG,QAAQ,MAG3E,uFAEA,eAAC,IAAD,WACI,cAAC,IAAD,CAAOhL,IAAI,iBAAX,8BACA,eAAC,IAAD,CACIkB,KAAK,SACL3B,GAAG,iBACHG,MAAOmK,EAAeH,eACtBtJ,SAAU,SAAC0C,GAAD,OApKJ,SAACuI,GAC/B,IAAMC,EAAgBvB,EAAewB,MAAK,SAAAC,GAAM,OAAIA,EAAOjM,GAAGkM,aAAeJ,EAAgBI,cAC7FxB,EAAyBqB,GAEzBxB,GAAkB,SAAA0C,GAAI,kCACfA,GADe,IAElB9C,eAAgB2B,OAIpBlB,IAAsB,GA0JmBoD,CAA0BzK,EAAE0E,OAAO9H,QACpD4B,UAAQ,EALZ,UAOI,wBAAQ5B,MAAM,GAAd,mCACCqK,EAAezK,KAAI,SAAAkM,GAAM,OACtB,yBAAwB9L,MAAO8L,EAAOjM,GAAtC,UACKiM,EAAOzM,KADZ,KACoByM,EAAOI,gBAD3B,MAAaJ,EAAOjM,UAK3ByN,IACG,wBAAOnO,UAAU,aAAjB,mBACWmO,GAAqBpB,gBACc,UAAzCoB,GAAqBpB,iBAArB,aAA0DoB,GAAqBpD,WAA/E,UACyC,YAAzCoD,GAAqBpB,iBAArB,aAA4DoB,GAAqBpD,WAAjF,KACyC,UAAzCoD,GAAqBpB,iBAA+B,kCAKjE,eAAC,IAAD,WACI,cAAC,IAAD,CAAO5L,IAAI,SAAX,sBACA,cAAC,IAAD,CACIkB,KAAK,SACL3B,GAAG,SACHwI,KAAK,QACLyF,IAAI,IACJzC,IAAKF,GACLnL,MAAOmK,EAAeF,OACtBvJ,SAAU,SAAC0C,GAAD,OApLX,SAAC6G,GAExB,IAAM+B,EAAgBhB,WAAWf,IAAW,EACtC8D,EAAc3C,KAAK0C,IAAI9B,EAAeb,IAE5Cf,GAAkB,SAAA0C,GAAI,kCACfA,GADe,IAElB7C,OAAQ8D,EAAYhC,gBAIxBtB,IAAsB,GAyKmBuD,CAAmB5K,EAAE0E,OAAO9H,QAC7C4B,UAAQ,IAEZ,wBAAOzC,UAAU,aAAjB,8BACsBgM,GAAoBG,QAAQ,GADlD,qDAKJ,eAAC,IAAD,WACI,cAAC,IAAD,CAAOhL,IAAI,WAAX,sBACA,cAAC,IAAD,CACIkB,KAAK,SACL3B,GAAG,WACHwI,KAAK,QACLyF,IAAI,IACJ9N,MAAOmK,EAAenC,SACtBtH,SAAU,SAAC0C,GAAD,OAAOgH,GAAkB,SAAA0C,GAAI,kCAChCA,GADgC,IAEnC9E,SAAU5E,EAAE0E,OAAO9H,iBAK/B,eAAC,IAAD,WACI,eAAC,IAAD,CAAOM,IAAI,aAAX,wBACgBkK,IAAsB,sBAAMrL,UAAU,eAAhB,yBAEtC,sBAAKA,UAAU,SAAf,UACI,cAAC,IAAD,CACIqC,KAAK,SACL3B,GAAG,aACHwI,KAAK,QACLyF,IAAI,IACJ9N,MAAOmK,EAAeD,WACtBxJ,SAAU,SAAC0C,GAAD,OAxMV8G,EAwMwC9G,EAAE0E,OAAO9H,MAvM7EoK,GAAkB,SAAA0C,GAAI,kCACfA,GADe,IAElB5C,uBAGJO,IAAsB,GANK,IAACP,GAyMA5C,MAAO,CACH2G,YAAazD,GAAqB,UAAY,MAGrDA,IACG,cAAC,IAAD,CACI5H,MAAM,YACN8K,SAAO,EACP7K,KAAK,KACL1D,UAAU,OACVsO,QA1MN,WAC1B,GAAItD,EAAeH,gBAAkBG,EAAeF,OAAQ,CACxD,IAAM4C,EAAuBnB,GACzBvB,EAAeH,eACfG,EAAeF,QAGnBG,GAAkB,SAAA0C,GAAI,kCACfA,GADe,IAElB5C,WAAY2C,EAAqBvB,QAAQ,QAE7Cb,IAAsB,KAgMMxG,MAAM,4DANV,qBAYR,uBAAO9E,UAAU,aAAjB,SACKqL,GAAqB,mFAAqF,yEAKlH8C,IAAwBnD,EAAeF,QACpC,qBAAK9K,UAAU,0BAA0BmI,MAAO,CAAE4G,gBAAiB,WAAnE,SACI,kCACI,6DAAwC,uBAD5C,mBAEqBZ,GAAqBjO,KAAK,uBAF/C,SAGWiO,GAAqBpB,gBAAgB,uBAHhD,WAIa/B,EAAeF,OAAO,uBACW,UAAzCqD,GAAqBpB,iBAArB,4BAAyEoB,GAAqBpD,YACrD,YAAzCoD,GAAqBpB,iBAArB,sBAAqEoB,GAAqBpD,WAA1F,KACyC,UAAzCoD,GAAqBpB,iBAA+B,qCACpD1B,IAAsB,qCAAE,uBAAM,8EAK/C,eAAC,IAAD,WACI,cAAC,IAAD,CAAQ5H,MAAM,YAAY6K,QAAS,kBAAM1D,GAAuB,IAAhE,oBAGA,cAAC,IAAD,CAAQnH,MAAM,UAAU6K,QAASN,GAAjC,8C,yRCxblBgB,EAAU,SAACvJ,GAAD,OAASO,IAAMC,IAAIR,GAAKH,MAAK,SAAA2J,GAAG,uBAAIA,EAAIzO,YAAR,aAAI,EAAUA,SAEjDF,EAAM,CAEfoF,OAAO,WAAD,4BAAE,WAAOD,EAAKE,GAAZ,iBAAAtF,EAAA,sEACmB2F,IAAMM,KAAKb,EAAKE,GADnC,uBACInF,EADJ,EACIA,KADJ,yBAEGA,QAFH,IAEGA,OAFH,EAEGA,EAAMA,MAFT,2CAAF,qDAAC,GAKPqF,OAAO,WAAD,4BAAE,WAAOJ,EAAK/E,EAAIiF,GAAhB,iBAAAtF,EAAA,sEACmB2F,IAAMkJ,IAAN,UAAazJ,EAAb,YAAoB/E,GAAMiF,GAD7C,uBACInF,EADJ,EACIA,KADJ,yBAEGA,QAFH,IAEGA,OAFH,EAEGA,EAAMA,MAFT,2CAAF,uDAAC,GAKPsF,OAAO,WAAD,4BAAE,WAAOL,EAAK/E,GAAZ,SAAAL,EAAA,sEACE2F,IAAMF,OAAN,UAAgBL,EAAhB,YAAuB/E,IADzB,2CAAF,qDAAC,IAKJ,SAAS+F,EAAMhB,EAAK/E,GAEvB,MAAgCyO,YAAO,GAAD,OAAI1J,EAAJ,YAAW/E,GAAMsO,GAA/CxO,EAAR,EAAQA,KAAM4O,EAAd,EAAcA,OAAQhD,EAAtB,EAAsBA,MAItB,MAAO,CACHiD,SAHa7O,IAAS4L,EAItBA,QACA5L,OACA4O,SACAvJ,OAAO,WAAD,4BAAE,WAAOF,GAAP,SAAAtF,EAAA,sEACEC,EAAIuF,OAAOJ,EAAK/E,EAAIiF,GADtB,uBAEEyJ,IAFF,2CAAF,mDAAC,IAQR,SAASpI,EAAOvB,GAEnB,MAAgC0J,YAAO1J,EAAKuJ,EAAS,CACjDM,mBAAmB,EACnBC,uBAAuB,EACvBC,oBAAoB,EACpBC,mBAAmB,EACnBC,gBAAiB,IALblP,EAAR,EAAQA,KAAM4O,EAAd,EAAcA,OAAQhD,EAAtB,EAAsBA,MAUtB,MAAO,CACHiD,SAHa7O,IAAS4L,EAItBA,QACA5L,KAAMA,GAAQ,GACd4O,SACA1J,OAAO,WAAD,4BAAE,WAAOC,GAAP,SAAAtF,EAAA,+EAAkBC,EAAIoF,OAAOC,IAA7B,2CAAF,mDAAC,IAKR,SAASgB,EAAUgJ,EAAMC,EAAzB,GAA0F,IAArDC,EAAoD,EAApDA,KAAMC,EAA8C,EAA9CA,MAAOC,EAAuC,EAAvCA,OAAuC,IAA/B5G,aAA+B,MAAvB,GAAuB,MAAnB6G,kBAAmB,MAAN,GAAM,EAEtFvK,EAAG,UAAMmK,EAAN,iBAAuBC,EAAvB,kBAAqCC,EAArC,mBAAqDC,EAArD,kBAAqEzF,KAAK2F,UAAU9G,GAApF,uBAAyGmB,KAAK2F,UAAUD,IAEjI,EAAgCb,YAAO1J,EAAKuJ,GAApCxO,EAAR,EAAQA,KAAM4O,EAAd,EAAcA,OAAQhD,EAAtB,EAAsBA,MAItB,MAAO,CACHiD,SAHa7O,IAAS4L,EAItBA,QACA5L,MAAU,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAM0P,QAAS,GACrB1E,OAAW,OAAJhL,QAAI,IAAJA,OAAA,EAAAA,EAAMgL,QAAS,EACtB4D,SACAxI,QAAS,CACLd,OAAO,WAAD,4BAAE,WAAOpF,GAAP,SAAAL,EAAA,sEACEC,EAAIwF,OAAO6J,EAAMjP,GADnB,uBAEE0O,EAAO3J,GAFT,2CAAF,mDAAC,KAQZ,SAAS0K,EAAkBR,EAAMC,EAAjC,GAA4G,IAA/DC,EAA8D,EAA9DA,KAAMC,EAAwD,EAAxDA,MAAOC,EAAiD,EAAjDA,OAAiD,IAAzC5G,aAAyC,MAAjC,GAAiC,MAA7B6G,kBAA6B,MAAhB,GAAgB,EAAZzC,EAAY,EAAZA,KAAMC,EAAM,EAANA,GAElG/H,EAAG,UAAMmK,EAAN,iBAAuBC,EAAvB,kBAAqCC,EAArC,iBAAmDvC,EAAnD,eAA8DC,EAA9D,mBAA2EuC,EAA3E,kBAA2FzF,KAAK2F,UAAU9G,GAA1G,uBAA+HmB,KAAK2F,UAAUD,IAEvJ,EAAgCb,YAAO1J,EAAKuJ,GAApCxO,EAAR,EAAQA,KAAM4O,EAAd,EAAcA,OAAQhD,EAAtB,EAAsBA,MAItB,MAAO,CACHiD,SAHa7O,IAAS4L,EAItBA,QACA5L,MAAU,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAM0P,QAAS,GACrB1E,OAAW,OAAJhL,QAAI,IAAJA,OAAA,EAAAA,EAAMgL,QAAS,EACtB4D,SACAxI,QAAS,CACLd,OAAO,WAAD,4BAAE,WAAOpF,GAAP,SAAAL,EAAA,sEACEC,EAAIwF,OAAO6J,EAAMjP,GADnB,uBAEE0O,EAAO3J,GAFT,2CAAF,mDAAC,KASZ,SAAS2K,EAAMR,EAAf,GAA0C,IAAfI,EAAc,EAAdA,WAExBvK,EAAG,UAAMmK,EAAN,uBAA6BtF,KAAK2F,UAAUD,IAErD,EAAgCb,YAAO1J,EAAKuJ,GAApCxO,EAAR,EAAQA,KAAM4O,EAAd,EAAcA,OAAQhD,EAAtB,EAAsBA,MAItB,MAAO,CACHiD,SAHa7O,IAAS4L,EAItBA,QACA5L,MAAU,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAM0P,QAAS,GACrB1E,OAAW,OAAJhL,QAAI,IAAJA,OAAA,EAAAA,EAAMgL,QAAS,EACtB4D,Y,gCC3HR,qCAgGeiB,IAjFK,SAAAC,GAElB,IAAQnM,EAAqGmM,EAArGnM,gBAAiBoM,EAAoFD,EAApFC,iBAAkBC,EAAkEF,EAAlEE,kBAAmBC,EAA+CH,EAA/CG,kBAAmBrM,EAA4BkM,EAA5BlM,iBAAkBsM,EAAUJ,EAAVI,MAEnG,OACE,sBAAK1Q,UAAU,qBAAf,UACE,qBAAKA,UAAU,iCAAf,SAEE,qBAAKA,UAAU,sBAAf,SACE,sBAAKA,UAAU,SAAf,UACGmE,EAAkB,oBAAInE,UAAU,uCAAd,SAAsDmE,IAAwB,GACjG,qBAAKnE,UAAU,6DAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAgB2Q,IAAI,KAApB,SACE,cAAC,IAAD,CAAMnD,GAAG,IAAT,oBAGA+C,GACA,cAAC,IAAD,CAAgBI,IAAI,KAAK3Q,UAAU,eAAnC,SACGuQ,IAGJC,EACC,cAAC,IAAD,CAAgBG,IAAI,KAAK3Q,UAAU,eAAnC,SACGwQ,IAGH,GAEDC,EACC,cAAC,IAAD,CAAgBE,IAAI,KAAK3Q,UAAU,eAAnC,SACGyQ,IAGH,GAEF,cAAC,IAAD,CAAgBE,IAAI,KAAKC,QAAM,EAA/B,SACGxM,gBAQXsM,EACE,qBAAK1Q,UAAU,2CAAf,SAEE,qBAAKA,UAAU,sCAAf,SACI0Q,MA0BJ","file":"static/js/164.6e7764d5.chunk.js","sourcesContent":["import {Col, CustomInput, FormGroup, Input, Label, Row} from 'reactstrap'\nimport React, { useEffect, useState } from 'react'\nimport AsyncSelect from 'react-select/async/dist/react-select.esm'\nimport { api } from '@data/use-user'\nimport { Controller } from 'react-hook-form'\n\nexport default function ({ form, disabled }) {\n\n    const [user, setUser] = useState()\n\n\n    const onUserChange = (value, { action, removedValue }) => {\n        setUser(value?.item)\n        if (value?.item) {\n            form.setValue('customer.name', value.item.name)\n            form.setValue('customer.email', value.item.email)\n            form.setValue('customer.phone', value.item.phone)\n        }\n    }\n\n    const renderItem = (item) => (\n        <div className=\"d-flex justify-content-left align-items-center\">\n            <div className=\"d-flex flex-column\">\n                <h6 className=\"user-name text-truncate mb-0\">{ item?.phone }</h6>\n                <small className=\"text-truncate text-muted mb-0\">{ item?.name }</small>\n            </div>\n        </div>\n    )\n\n    const promiseOptions = async inputValue => {\n        const data = await api.autocomplete(inputValue)\n        return data.map(({ id, name, email, phone }) => {\n            return {\n                label: renderItem({ id, name, email, phone }),\n                value: id,\n                item: { id, name, email, phone }\n            }\n        })\n    }\n\n    return (\n        <Row>\n            <Col sm='5'>\n                <FormGroup>\n                    <Label for='user_id'>User</Label>\n                    <Controller\n                        control={form.control}\n                        defaultValue={null}\n                        name=\"user_id\"\n                        render={\n                            ({ onChange, value, name, ref }) => {\n                                return (\n                                    <AsyncSelect\n                                        isClearable={true}\n                                        className='react-select'\n                                        classNamePrefix='select'\n                                        defaultOptions\n                                        isDisabled={disabled}\n                                        value={{value, label: renderItem(user)}}\n                                        loadOptions={promiseOptions}\n                                        cacheOptions\n                                        onChange={\n                                            (value, extra) => {\n                                                onChange(value?.item.id)\n                                                onUserChange(value, extra)\n                                            }\n                                        }\n                                    />\n\n                                )\n                            }}\n                        />\n\n                </FormGroup>\n            </Col>\n            <Col sm='5'>\n                <FormGroup>\n                    <Label for='title'>Title</Label>\n                    <Input\n                        disabled={disabled}\n                        type='text'\n                        id='title'\n                        placeholder={'Add Sms Title'}\n                        name=\"title\"\n                        innerRef={form.register({required: true})}\n                        invalid={form.errors.subject && true}\n                    />\n                </FormGroup>\n            </Col>\n            <Col sm='2'>\n                <FormGroup>\n                    <Label for='subject'>To All Users</Label>\n                    <CustomInput\n                        id='to_all'\n                        type='switch'\n                        disabled={disabled}\n                        name='to_all'\n                        innerRef={form.register()}\n                    />\n\n                </FormGroup>\n            </Col>\n            <Col sm='12'>\n                <FormGroup>\n                    <Label for='message'>Message</Label>\n                    <Input\n                        disabled={disabled}\n                        id='message'\n                        type='textarea'\n                        name=\"message\"\n                        placeholder={'Add Sms Content'}\n                        innerRef={form.register({required: false})}\n                        invalid={form.errors.message && true}\n                    />\n                </FormGroup>\n            </Col>\n        </Row>\n    )\n}","import {\n    Card,\n    CardBody,\n    Button\n} from 'reactstrap'\nimport moment from 'moment'\nimport SmsCustomer from './SmsCustomer'\nimport { Send} from \"react-feather\"\n\nconst PreviewCard = ({  form, isCompleted, isReorder }) => {\n\n\n    return (\n        <Card>\n            <CardBody className='px-2 pb-0'>\n                {/* Header */}\n                <div className='d-flex justify-content-between flex-md-row flex-column'>\n                    <div>\n                        <strong>New Sms </strong>\n                    </div>\n                    <div>\n                        Date: <span className='invoice-number'>{moment().format('Y-MM-DD')}</span>\n                    </div>\n                </div>\n                {/* /Header */}\n            </CardBody>\n\n            <hr className='invoice-spacing'/>\n\n            {/* Address and Contact */}\n            <CardBody className='px-2 pt-0'>\n                <SmsCustomer form={form} disabled={isCompleted} />\n            </CardBody>\n            {/* /Address and Contact */}\n\n            <CardBody className='invoice-padding pt-0 d-flex'>\n            <Button.Ripple color='primary' type='submit' >\n                <Send size={14} />\n                <span className='align-middle ml-25'>Send Sms</span>\n            </Button.Ripple>\n            </CardBody>\n\n        </Card>\n    )\n}\n\nexport default PreviewCard\n","import { Fragment, useState } from 'react'\nimport Breadcrumbs from '@components/breadcrumbs'\nimport { useParams } from 'react-router-dom'\nimport { Button, Card, CardBody, Row, Col, Form, FormGroup, Input, Label } from 'reactstrap'\nimport FormErrors from '@components/form-errors'\nimport {Controller, useForm} from 'react-hook-form'\nimport CardHeader from 'reactstrap/lib/CardHeader'\nimport SmsMain from \"./component/SmsMain\"\nimport OrderStatus from \"../../order/components/OrderStatus\"\nimport ShippingStatus from \"../../order/components/ShippingStatus\"\nimport OrderOptions from \"../../order/components/OrderOptions\"\n\nexport default () => {\n    const form = useForm()\n\n    // const { data: model, update: updateCategory } = useCategory(id)\n    const { register, errors, handleSubmit, control, setValue } = useForm()\n    const [formErrors, setFormErrors] = useState(null)\n\n    const onSubmit = async data => {\n        try {\n            // await updateCategory(data)\n            history.push('/category/list')\n        } catch (e) {\n            setFormErrors(e.response?.data?.errors)\n        }\n    }\n\n    return (\n        <Fragment>\n            <Breadcrumbs breadCrumbTitle='Settings' breadCrumbActive='Send Sms'/>\n            <Form onSubmit={form.handleSubmit(onSubmit)}>\n                <Row>\n                    <Col md={12} sm={12}>\n                        <SmsMain  form={form} isCompleted={false} isReorder={true}/>\n\n                    </Col>\n                </Row>\n            </Form>\n        </Fragment>\n    )\n}\n","import Swal from 'sweetalert2'\nimport withReactContent from 'sweetalert2-react-content'\n\nconst MySwal = withReactContent(Swal)\n\nexport const confirm = async (callback) => {\n    MySwal.fire({\n        title: 'Are you sure?',\n        // text: \"You won't be able to revert this!\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, do it!',\n        customClass: {\n            confirmButton: 'btn btn-primary',\n            cancelButton: 'btn btn-outline-danger ml-1'\n        },\n        buttonsStyling: false\n    }).then(function (result) {\n        if (result.value)  callback()\n    })\n}\n\nexport const confirmDelete = async (callback) => {\n    MySwal.fire({\n        title: 'Are you sure want to delete?',\n        // text: \"You won't be able to revert this!\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, delete it!',\n        customClass: {\n            confirmButton: 'btn btn-danger',\n            cancelButton: 'btn btn-outline-danger ml-1'\n        },\n        buttonsStyling: false\n    }).then(function (result) {\n        if (result.value)  callback()\n    })\n}\n","import useSWR from 'swr'\nimport axios from '../utility/axiosIsntance'\nimport { datatable, model, api as apiCalls } from \"./use-data\"\n\nconst fetcher = (url) => axios.get(url).then(res => res.data?.data)\n\nconst url = 'user'\n\nexport const api = {\n    create: params => apiCalls.create(url, params),\n    update: (id, params) => apiCalls.update(url, id, params),\n    delete: id => apiCalls.delete(url, id),\n    autocomplete: async (q) => {\n        const { data } = await axios.get(`${url}/autocomplete?q=${q}`)\n        return data?.data\n    },\n    autocompleteUserForTaxExempt: async (q) => {\n        const { data } = await axios.get(`${url}/autocompleteUserForTaxExempt?q=${q}`)\n        return data?.data\n    },\n    autocompleteCashier: async (q) => {\n        const { data } = await axios.get(`${url}/autocompletecashier?q=${q}`)\n        return data?.data\n    },\n    autocompleteTaxExempt: async (q) => {\n        const { data } = await axios.get(`${url}/autocompleteTaxExempt?q=${q}`)\n        return data?.data\n    },\n    changePassword: async (id, params) => {\n        const { data } = await axios.post(`${url}/${id}/change-password`, params)\n        return data?.data\n    },\n    verificationEmail: async (id) => {\n        const { data } = await axios.post(`${url}/${id}/verification-email`)\n        return data?.data\n    }\n}\n\nexport function useModel(id) {\n    return model(url, id)\n}\n\nexport function useDatatable(params) {\n    const result = datatable(url, `${url}/datatable`, params)\n\n    result.mutates = {\n        ...result.mutates,\n        verificationEmail: api.verificationEmail\n    }\n\n    return result\n}\n\nexport function useEmployeeDatatable(params) {\n    const result = datatable(url, `${url}/employee`, params)\n\n    result.mutates = {\n        ...result.mutates,\n        verificationEmail: api.verificationEmail\n    }\n\n    return result\n}\n\n","import { api as apiCalls, datatable, model } from './use-data'\nimport axios from \"../utility/axiosIsntance\"\n\nconst url = 'payment_method'\n\nexport const api = {\n    create: params => apiCalls.create(url, params),\n    update: (id, params) => apiCalls.update(url, id, params),\n    delete: id => apiCalls.delete(url, id),\n    index: async () => {\n        const { data } = await axios.get(`${url}`)\n        return data?.data\n    }\n}\n\nexport function useModel(id) {\n    return model(url, id)\n}\n\nexport function useDatatable(params) {\n    return datatable(url, `${url}/datatable`, params)\n}\n","import { datatable, model, models, api as apiCalls } from './use-data'\n\nconst url = 'city'\n\nexport const api = {\n    create: params => apiCalls.create(url, params),\n    update: (id, params) => apiCalls.update(url, id, params),\n    delete: id => apiCalls.delete(url, id)\n}\n\nexport function useModel(id) {\n    return model(url, id)\n}\n\nexport function useDatatable(params) {\n    return datatable(url, `${url}/datatable`, params)\n}\n\nexport function useModels() {\n    return models(url)\n}\n","import { datatable, model, models, api as apiCalls } from './use-data'\n\nconst url = 'shipping-provider'\n\nexport const api = {\n    create: params => apiCalls.create(url, params),\n    update: (id, params) => apiCalls.update(url, id, params),\n    delete: id => apiCalls.delete(url, id)\n}\n\nexport function useModel(id) {\n    return model(url, id)\n}\n\nexport function useDatatable(params) {\n    return datatable(url, `${url}/datatable`, params)\n}\n\nexport function useModels() {\n    return models(url)\n}\n","import { Alert } from 'reactstrap'\n\nexport default function ({ errors }) {\n    if (!errors) return <></>\n    return (\n        <Alert color='danger'>\n            { Object.keys(errors).map(e => <div className='alert-body'>{errors[e][0]}</div>) }\n        </Alert>\n    )\n}\n","import {Card, CardBody, FormGroup, CardHeader, CustomInput, Input, Label} from 'reactstrap'\nimport Select from 'react-select'\nimport {Controller} from 'react-hook-form'\nimport {useModels as useCities} from '@data/use-city'\nimport {useModels as useShippingProviders} from '@data/use-shipping-provider'\nimport {useEffect, useState} from 'react'\n\nexport default function ({form, isCompleted, isMigrated}) {\n\n    const [oldState, setOldState] = useState({})\n\n    const {data: cities} = useCities()\n    const {data: providers} = useShippingProviders()\n\n    const citiesList = cities.map(e => ({label: e.name, value: e.id, cost: e.shipping_cost}))\n    const providersList = providers.map(e => ({label: e.name, value: e.id}))\n\n    const hasShipping = form.watch('has_shipping')\n    const freeShippingCity = form.watch('city_id') === 2\n    \n\n    const handleChangeShipping = (state) => {\n        // if (isMigrated) return\n        if (!state) {\n            setOldState({\n                city: form.getValues('city_id'),\n                shipping_provider: form.getValues('shipping_provider_id'),\n                shipping: {\n                    cost: form.getValues('shipping.cost'),\n                    address: form.getValues('shipping.address'),\n                    status: form.getValues('shipping.status')\n                }\n            })\n            form.setValue('shipping.cost', null)\n            form.setValue('shipping.address', null)\n            form.setValue('shipping.status', null)\n            form.setValue('city_id', null)\n            form.setValue('shipping_provider_id', null)\n        } else if (oldState) {\n            form.setValue('shipping', oldState.shipping)\n            form.setValue('city_id', oldState.city)\n            form.setValue('shipping_provider_id', oldState.shipping_provider)\n        }\n    }\n\n    const handleChangeShippingLocation = (city) => {\n        // if (isMigrated) return\n        form.setValue('shipping.cost', city?.cost || 0)\n\n\n    }\n    useEffect(() => {\n        if (freeShippingCity) {\n            form.setValue('has_shipping', false)\n        } else {\n            form.setValue('has_shipping', true)\n        }\n    }, [freeShippingCity])\n\n    const list = [\n        {\n            label: 'Waiting for shipping',\n            value: 'WAITING'\n        },\n        {\n            label: 'On The Way',\n            value: 'SHIPPED'\n        },\n        {\n            label: 'Delivered',\n            value: 'DELIVERED'\n        }\n    ]\n\n    return (\n        <Card>\n            <div style={{width: '100%'}}>\n                <FormGroup>\n                    <Controller\n                        control={form.control}\n                        defaultValue={null}\n                        name=\"city_id\"\n                        render={({onChange, value, name, ref}) => (\n                            <Select\n                                className='react-select'\n                                classNamePrefix='select'\n                                value={citiesList.filter(option => option.value === value)}\n                                inputRef={ref}\n                                placeholder={'Select City...'}\n                                options={citiesList}\n                                onChange={val => {\n                                    onChange(val?.value || null)\n                                    handleChangeShippingLocation(val)\n                                }}\n                                isClearable={true}\n                                // isDisabled={!hasShipping || isCompleted || isMigrated}\n                                // isDisabled={!hasShipping}\n                            />\n                        )}\n                    />\n                </FormGroup>\n            </div>\n            <CardHeader>\n\n\n                Shipping\n                <CustomInput\n                    // disabled={isCompleted || isMigrated}\n                    // disabled={freeShippingCity}\n                    id='order-has-shipping'\n                    type='switch'\n                    name='has_shipping'\n                    innerRef={form.register()}\n                    onChange={e => handleChangeShipping(e.target.checked)}\n                />\n            </CardHeader>\n            {\n                <CardBody>\n\n\n                    <FormGroup>\n                        <Controller\n                            control={form.control}\n                            defaultValue={null}\n                            name=\"shipping_provider_id\"\n                            render={({onChange, value, name, ref}) => (\n                                <Select\n                                    className='react-select'\n                                    classNamePrefix='select'\n                                    placeholder={'Select Shipping Provider...'}\n                                    value={providersList.filter(option => option.value === value)}\n                                    inputRef={ref}\n                                    options={providersList}\n                                    onChange={val => onChange(val?.value || null)}\n                                    isClearable={true}\n                                    isDisabled={!hasShipping}\n                                    // isDisabled={!hasShipping || isCompleted || isMigrated}\n                                />\n                            )}\n                        />\n                    </FormGroup>\n\n                    <FormGroup>\n                        <Input\n                            disabled={!hasShipping}\n                            // disabled={!hasShipping || isCompleted || isMigrated}\n                            type='textarea'\n                            name='shipping.address'\n                            placeholder='Shipping Address'\n                            innerRef={form.register({required: hasShipping})}\n                            invalid={form.errors.shipping?.address && true}\n                        />\n                    </FormGroup>\n\n                    <FormGroup>\n                        <Input\n                            disabled={!hasShipping}\n                            // disabled={!hasShipping || isCompleted || isMigrated}\n                            type='number'\n                            name='shipping.cost'\n                            placeholder='Cost'\n                            step=\"0.1\"\n                            innerRef={form.register({required: hasShipping})}\n                            invalid={form.errors.shipping?.cost && true}\n                        />\n                    </FormGroup>\n                    <FormGroup>\n                        <Controller\n                            control={form.control}\n                            defaultValue={'WAITING'}\n                            name=\"shipping.status\"\n                            render={({onChange, value, name, ref}) => (\n                                <Select\n                                    isDisabled={!hasShipping}\n                                    // isDisabled={!hasShipping || isCompleted || isMigrated}\n                                    className='react-select'\n                                    classNamePrefix='select'\n                                    value={list.filter(option => option.value === value)}\n                                    inputRef={ref}\n                                    options={list}\n                                    onChange={val => onChange(val?.value)}\n                                />\n                            )}\n                        />\n                    </FormGroup>\n                    <FormGroup>\n                        <div className='d-flex justify-content-between mt-1'>\n                            <Label className='mb-0' for='order-free-shipping'>\n                                Free Shipping\n                            </Label>\n                            <CustomInput\n                                disabled={!hasShipping}\n                                // disabled={!hasShipping || isCompleted || isMigrated}\n                                id='order-free-shipping'\n                                type='switch'\n                                name='shipping.free'\n                                innerRef={form.register()}\n                            />\n                        </div>\n                    </FormGroup>\n                </CardBody>\n            }\n        </Card>\n    )\n}\n","import {Col, CustomInput, FormGroup, Label} from 'reactstrap'\nimport {useEffect, useState} from 'react'\nimport {Controller} from \"react-hook-form\"\nimport AsyncSelect from \"react-select/async/dist/react-select.esm\"\nimport { api } from '@data/use-user'\n\nexport default function ({ form, order, isCompleted, isMigrated}) {\n    const [taxExempt, setTaxExempt] = useState()\n    const taxed = form.watch('options.taxed')\n    const tax_exempt = form.watch('options.tax_exempt')\n\n    const renderItem = (item) => (\n        <div className=\"d-flex justify-content-left align-items-center\">\n            <div className=\"d-flex flex-column\">\n                <h6 className=\"user-name text-truncate mb-0\">{ item?.name }</h6>\n                <small className=\"text-truncate text-muted mb-0\">{ item?.email }</small>\n            </div>\n        </div>\n    )\n\n    const promisesOptions = async inputValue => {\n        const data = await api.autocompleteTaxExempt(inputValue)\n        return data.map(({ id, name, email, phone, identity_number_type, tax_exempt, tax_zero, identity_number }) => {\n            return {\n                label: renderItem({ id, name, email, phone, identity_number_type, tax_exempt, tax_zero, identity_number }),\n                value: id,\n                item: { id, name, email, phone, identity_number_type, tax_exempt, tax_zero, identity_number }\n            }\n        })\n    }\n\n    useEffect(() => {\n        if (!taxed) {\n            form.setValue('options.tax_exempt', false)\n            form.setValue('options.tax_zero', false)\n        } else {\n            form.setValue('options.price_offer', false)\n        }\n        if (!tax_exempt) {\n            form.setValue('options.tax_zero', false)\n        }\n    }, [taxed, tax_exempt])\n    useEffect(() => {\n        if (!taxExempt) setTaxExempt(order?.taxExempt)\n    }, [order])\n\n    const onTaxExemptChange = (value, { action, removedValue }) => {\n        console.log(value?.item)\n        setTaxExempt(value?.item)\n        if (value?.item) {\n            form.setValue('customer.name', value.item.name)\n            form.setValue('customer.email', value.item.email)\n            form.setValue('identity_number_type', value.item.identity_number_type)\n            form.setValue('customer_identity_number', value.item.identity_number)\n            form.setValue('options.tax_exempt', value.item?.tax_exempt)\n            form.setValue('options.tax_zero', value.item?.tax_zero)\n        }\n    }\n\n    return (\n        <div className='mt-1'>\n            <div className='d-flex justify-content-between'>\n                <CustomInput\n                    id='order-taxed'\n                    type='switch'\n                    disabled={!!order?.tax_number || isCompleted || isMigrated}\n                    name='options.taxed'\n                    innerRef={form.register()}\n                />\n                <Label className='mb-0 font-medium-1' for='order-taxed'>\n                    <strong> </strong>\n                </Label>\n            </div>\n            <div className='d-flex justify-content-between mt-1'>\n                <CustomInput\n                    disabled={!taxed || isCompleted || isMigrated}\n                    id='order-tax-exempt'\n                    type='switch'\n                    name='options.tax_exempt'\n                    innerRef={form.register()}\n                />\n                <Label className='mb-0 font-medium-1' for='order-tax-exempt'>\n                    <strong>  </strong>\n                </Label>\n            </div>\n            <div className='d-flex justify-content-between mt-1'>\n\n                <CustomInput\n                    disabled={!taxed || isCompleted || !tax_exempt || isMigrated}\n                    id='order-tax-zero'\n                    type='switch'\n                    name='options.tax_zero'\n                    innerRef={form.register()}\n                />\n                <Label className='mb-0 font-medium-1' for='order-tax-zero'>\n                    <strong>  </strong>\n                </Label>\n\n            </div>\n            <div className='d-flex justify-content-between mt-1'>\n                <CustomInput\n                    disabled={isCompleted || isMigrated}\n                    id='order-dept'\n                    type='switch'\n                    name='options.dept'\n                    innerRef={form.register()}\n                />\n                <Label className='mb-0 font-medium-1' for='order-dept'>\n                    <strong> </strong>\n                </Label>\n            </div>\n            <div className='d-flex justify-content-between mt-1'>\n                <CustomInput\n                    disabled={taxed || isCompleted || isMigrated}\n                    id='order-price-offer'\n                    type='switch'\n                    name='options.price_offer'\n                    innerRef={form.register()}\n                />\n                <Label className='mb-0 font-medium-1' for='order-price-offer'>\n                    <strong> </strong>\n                </Label>\n            </div>\n            <div className='d-flex justify-content-between mt-1'>\n                <CustomInput\n                    id='pending'\n                    type='switch'\n                    name='pending'\n                    innerRef={form.register()}\n                />\n                <Label className='mb-0 font-medium-1' for='pending'>\n                    <strong>Pending</strong>\n                </Label>\n            </div>\n            {\n                (taxed || !order) &&\n                <div className='d-flex justify-content-between mt-1'>\n                    <FormGroup style={{width:'100%'}}>\n                        <Controller\n                            control={form.control}\n\n                            defaultValue={null}\n                            name=\"tax_exempt_id\"\n                            render={\n                                ({ onChange, value, name, ref }) => {\n                                    return (\n                                        <AsyncSelect\n                                            isClearable={true}\n                                            className='react-select'\n                                            classNamePrefix='select'\n                                            isDisabled={isCompleted || isMigrated}\n                                            defaultOptions\n                                            value={{value, label: renderItem(taxExempt)}}\n                                            loadOptions={promisesOptions}\n                                            onChange={\n                                                (value, extra) => {\n                                                    onChange(value?.item.id)\n                                                    onTaxExemptChange(value, extra)\n                                                }\n                                            }\n                                        />\n\n                                    )\n                                }}\n                        />\n\n                    </FormGroup>\n                </div>\n\n            }\n        </div>\n    )\n\n}","import { Card, CardBody, Button, FormGroup, Modal, ModalHeader, ModalBody, ModalFooter, Label, Input } from 'reactstrap'\nimport Select from 'react-select'\nimport { useEffect, useState } from 'react'\nimport { toast } from 'react-toastify'\nimport { confirm, confirmDelete } from '@components/sweetalert'\nimport { Controller } from \"react-hook-form\"\nimport { api } from '@data/use-payment-method'\n\nconst OrderStatus = ({ form, updateWithStatus, updateStatus, order, isMigrated, onCompleteWithData, calculations, transactions }) => {\n    const user = JSON.parse(localStorage.getItem('user'))\n    const [status, setStatus] = useState(null)\n    const [showCompletionModal, setShowCompletionModal] = useState(false)\n    const [completionData, setCompletionData] = useState({\n        payment_method: '',\n        amount: '',\n        shipping: '',\n        commission: ''\n    })\n    const [paymentMethods, setPaymentMethods] = useState([])\n    const [selectedPaymentMethod, setSelectedPaymentMethod] = useState(null)\n    const [isCommissionManual, setIsCommissionManual] = useState(false)\n\n    // Calculate totals considering existing transactions\n    const orderTotal = calculations?.total || order?.total || 0\n    const existingPaymentsTotal = transactions.reduce((sum, transaction) => sum + parseFloat(transaction.amount || 0), 0\n    )\n    const shippingFreeForAmount = form.watch('shipping.free')\n    const shippingCostForAmount = !shippingFreeForAmount ? 0 : (order?.shipping?.cost || 0)\n    const shippingCostMustDeletedForAmount = shippingFreeForAmount ? 0 : (order?.shipping?.cost || 0)\n    const remainingBalance = orderTotal - existingPaymentsTotal - shippingCostMustDeletedForAmount\n    const maxCompletionAmount = Math.max(0, remainingBalance.toFixed(3))\n\n    // Fetch payment methods from backend\n    useEffect(() => {\n        const fetchPaymentMethods = async () => {\n            try {\n                const response = await api.index()\n                console.log('Payment methods:', response)\n                setPaymentMethods(response || [])\n            } catch (error) {\n                console.error('Failed to fetch payment methods:', error)\n                toast.error('Failed to load payment methods')\n            }\n        }\n        fetchPaymentMethods()\n    }, [])\n\n    // Calculate commission based on payment method type and amount\n    const calculateCommission = (paymentMethodId, amount) => {\n        if (!paymentMethodId || !amount) return 0\n\n        const paymentMethod = paymentMethods.find(method => method.id.toString() === paymentMethodId.toString())\n        if (!paymentMethod) return 0\n\n        const numericAmount = parseFloat(amount)\n        if (isNaN(numericAmount)) return 0\n\n        console.log('Calculating commission for:', {\n            paymentMethod,\n            amount: numericAmount,\n            type: paymentMethod.commission_type\n        })\n\n        switch (paymentMethod.commission_type) {\n            case 'Fixed':\n                // For fixed type, use the fixed commission value\n                return parseFloat(paymentMethod.commission) || 0\n\n            case 'Percent':\n                // For percent type, calculate percentage of amount\n                const percent = parseFloat(paymentMethod.commission) || 0\n                return (numericAmount * percent) / 100\n\n            case 'Range':\n                // For range type, find the matching range\n                if (!paymentMethod.commission_range) return 0\n\n                try {\n                    const ranges = typeof paymentMethod.commission_range === 'string' ? JSON.parse(paymentMethod.commission_range) : paymentMethod.commission_range\n\n                    if (!Array.isArray(ranges)) return 0\n\n                    // Find the range where amount falls between from and to\n                    const matchingRange = ranges.find(range => {\n                        const from = parseFloat(range.from) || 0\n                        const to = parseFloat(range.to) || Infinity\n                        return numericAmount >= from && numericAmount <= to\n                    })\n\n                    return matchingRange ? parseFloat(matchingRange.commission) || 0 : 0\n                } catch (error) {\n                    console.error('Error parsing commission_range:', error)\n                    return 0\n                }\n\n            default:\n                return 0\n        }\n    }\n\n    // Update commission when payment method or amount changes (only if not manually set)\n    useEffect(() => {\n        if (!isCommissionManual && completionData.payment_method && completionData.amount) {\n            const calculatedCommission = calculateCommission(\n                completionData.payment_method,\n                completionData.amount\n            )\n\n            setCompletionData(prev => ({\n                ...prev,\n                commission: calculatedCommission.toFixed(3)\n            }))\n        }\n    }, [completionData.payment_method, completionData.amount, paymentMethods, isCommissionManual])\n\n    // Set default values when modal opens or when order changes\n    useEffect(() => {\n        if (showCompletionModal && order) {\n            // Find Cash payment method (ID: 1) or use first available\n            const cashPaymentMethod = paymentMethods.find(method => method.id === 1) || paymentMethods[0]\n\n            // Calculate shipping cost\n            const shippingFree = form.watch('shipping.free')\n            const shippingCost = !shippingFree ? 0 : (order.shipping?.cost || 0)\n\n            const initialData = {\n                payment_method: cashPaymentMethod ? cashPaymentMethod.id.toString() : (paymentMethods[0]?.id.toString() || ''),\n                amount: maxCompletionAmount > 0 ? maxCompletionAmount.toFixed(3) : '0',\n                shipping: shippingCost.toString(),\n                commission: '0'\n            }\n\n            setCompletionData(initialData)\n            setIsCommissionManual(false)\n\n            // Calculate initial commission\n            if (cashPaymentMethod && maxCompletionAmount > 0) {\n                const initialCommission = calculateCommission(\n                    cashPaymentMethod.id.toString(),\n                    maxCompletionAmount.toString()\n                )\n                setCompletionData(prev => ({\n                    ...prev,\n                    commission: initialCommission.toFixed(3)\n                }))\n            }\n        }\n    }, [showCompletionModal, order, paymentMethods, maxCompletionAmount])\n\n    useEffect(() => {\n        if (!status) setStatus(order?.status)\n    }, [order])\n\n    const list = [\n        {\n            label: 'New Order',\n            value: 'PENDING'\n        },\n        {\n            label: 'Processing',\n            value: 'PROCESSING'\n        },\n        {\n            label: 'Completed',\n            value: 'COMPLETED'\n        }\n    ]\n\n    const handleStatusChange = (selectedStatus) => {\n        form.setValue('status', selectedStatus?.value || null)\n        setStatus(selectedStatus?.value)\n    }\n\n    const handlePaymentMethodChange = (paymentMethodId) => {\n        const paymentMethod = paymentMethods.find(method => method.id.toString() === paymentMethodId.toString())\n        setSelectedPaymentMethod(paymentMethod)\n\n        setCompletionData(prev => ({\n            ...prev,\n            payment_method: paymentMethodId\n        }))\n\n        // Reset manual flag when payment method changes so commission auto-updates\n        setIsCommissionManual(false)\n    }\n\n    const handleAmountChange = (amount) => {\n        // Ensure amount doesn't exceed remaining balance\n        const numericAmount = parseFloat(amount) || 0\n        const finalAmount = Math.min(numericAmount, maxCompletionAmount)\n\n        setCompletionData(prev => ({\n            ...prev,\n            amount: finalAmount.toString()\n        }))\n\n        // Reset manual flag when amount changes so commission auto-updates\n        setIsCommissionManual(false)\n    }\n\n    const handleCommissionChange = (commission) => {\n        setCompletionData(prev => ({\n            ...prev,\n            commission\n        }))\n        // Set manual flag when user manually changes commission\n        setIsCommissionManual(true)\n    }\n\n    const recalculateCommission = () => {\n        if (completionData.payment_method && completionData.amount) {\n            const calculatedCommission = calculateCommission(\n                completionData.payment_method,\n                completionData.amount\n            )\n\n            setCompletionData(prev => ({\n                ...prev,\n                commission: calculatedCommission.toFixed(3)\n            }))\n            setIsCommissionManual(false)\n        }\n    }\n\n    const onSubmit = async () => {\n        if (status === 'COMPLETED') {\n            setShowCompletionModal(true)\n            return\n        }\n\n        confirm(async () => {\n            try {\n                await updateWithStatus({ status })\n            } catch (e) {\n                toast.error(e.response?.data?.message)\n            }\n        })\n    }\n\n    const handleCompleteOrder = async () => {\n        if (!completionData.payment_method || !completionData.amount) {\n            toast.error('Payment method and amount are required')\n            return\n        }\n\n        if (parseFloat(completionData.amount) < 0) {\n            toast.error('Amount must be greater than 0')\n            return\n        }\n        console.log(parseFloat(completionData.amount))\n        console.log(remainingBalance.toFixed(3))\n        // Check if amount exceeds remaining balance\n        if (parseFloat(completionData.amount) > remainingBalance.toFixed(3)) {\n            toast.error(`Amount cannot exceed remaining balance of ${remainingBalance.toFixed(3)}`)\n            return\n        }\n\n        try {\n            await onCompleteWithData(completionData)\n            setShowCompletionModal(false)\n        } catch (e) {\n            toast.error(e.response?.data?.message)\n        }\n    }\n\n    const onCancel = async () => {\n        confirmDelete(async () => {\n            try {\n                await updateStatus({ status: 'CANCELED' })\n                toast.success('Success')\n            } catch (e) {\n                toast.error(e.response?.data?.message)\n            }\n        })\n    }\n\n    // Get current payment method details for display\n    const getCurrentPaymentMethodDetails = () => {\n        if (!completionData.payment_method) return null\n        return paymentMethods.find(method => method.id.toString() === completionData.payment_method.toString())\n    }\n\n    const currentPaymentMethod = getCurrentPaymentMethodDetails()\n\n    return (\n        <Card className='invoice-action-wrapper'>\n            <CardBody>\n                <FormGroup>\n                    <Controller\n                        control={form.control}\n                        defaultValue={null}\n                        name=\"status\"\n                        render={({ onChange, value, name, ref }) => (\n                            <Select\n                                className='react-select'\n                                classNamePrefix='select'\n                                value={list.filter(item => item.value === (value || order?.status))}\n                                options={list}\n                                onChange={val => {\n                                    onChange(val?.value || null)\n                                    handleStatusChange(val)\n                                }}\n                            />\n                        )}\n                    />\n                </FormGroup>\n                <Button.Ripple color='primary' block onClick={onSubmit}>\n                    Update Status\n                </Button.Ripple>\n                {\n                    order?.status === 'PENDING' && !isMigrated && !order?.options?.taxed &&\n                    <Button.Ripple color='danger' outline className='mt-1' block onClick={onCancel}>\n                        Delete Order\n                    </Button.Ripple>\n                }\n\n                {/* Completion Confirmation Modal */}\n                <Modal isOpen={showCompletionModal} toggle={() => setShowCompletionModal(false)}>\n                    <ModalHeader toggle={() => setShowCompletionModal(false)}>\n                        Complete Order\n                    </ModalHeader>\n                    <ModalBody>\n                        <div className=\"alert alert-info\">\n                            <strong>Order Total:</strong> {orderTotal}<br />\n                            <strong>Existing Payments:</strong> {existingPaymentsTotal.toFixed(3)}<br />\n                            <strong>Remaining Balance:</strong> {remainingBalance.toFixed(3)}<br />\n                            <strong>Maximum Payment Allowed:</strong> {maxCompletionAmount.toFixed(3)}\n                        </div>\n\n                        <p>Are you sure you want to mark this order as COMPLETED?</p>\n\n                        <FormGroup>\n                            <Label for=\"payment_method\">Payment Method *</Label>\n                            <Input\n                                type=\"select\"\n                                id=\"payment_method\"\n                                value={completionData.payment_method}\n                                onChange={(e) => handlePaymentMethodChange(e.target.value)}\n                                required\n                            >\n                                <option value=\"\">Select Payment Method</option>\n                                {paymentMethods.map(method => (\n                                    <option key={method.id} value={method.id}>\n                                        {method.name} ({method.commission_type})\n                                    </option>\n                                ))}\n                            </Input>\n                            {currentPaymentMethod && (\n                                <small className=\"text-muted\">\n                                    Type: {currentPaymentMethod.commission_type}\n                                    {currentPaymentMethod.commission_type === 'Fixed' && ` - ${currentPaymentMethod.commission} fixed`}\n                                    {currentPaymentMethod.commission_type === 'Percent' && ` - ${currentPaymentMethod.commission}%`}\n                                    {currentPaymentMethod.commission_type === 'Range' && ' - Based on amount ranges'}\n                                </small>\n                            )}\n                        </FormGroup>\n\n                        <FormGroup>\n                            <Label for=\"amount\">Amount *</Label>\n                            <Input\n                                type=\"number\"\n                                id=\"amount\"\n                                step=\"0.001\"\n                                min=\"0\"\n                                max={maxCompletionAmount}\n                                value={completionData.amount}\n                                onChange={(e) => handleAmountChange(e.target.value)}\n                                required\n                            />\n                            <small className=\"text-muted\">\n                                Maximum allowed: {maxCompletionAmount.toFixed(3)} (Remaining balance after existing payments)\n                            </small>\n                        </FormGroup>\n\n                        <FormGroup>\n                            <Label for=\"shipping\">Shipping</Label>\n                            <Input\n                                type=\"number\"\n                                id=\"shipping\"\n                                step=\"0.001\"\n                                min=\"0\"\n                                value={completionData.shipping}\n                                onChange={(e) => setCompletionData(prev => ({\n                                    ...prev,\n                                    shipping: e.target.value\n                                }))}\n                            />\n                        </FormGroup>\n\n                        <FormGroup>\n                            <Label for=\"commission\">\n                                Commission {isCommissionManual && <span className=\"text-warning\">(Manual)</span>}\n                            </Label>\n                            <div className=\"d-flex\">\n                                <Input\n                                    type=\"number\"\n                                    id=\"commission\"\n                                    step=\"0.001\"\n                                    min=\"0\"\n                                    value={completionData.commission}\n                                    onChange={(e) => handleCommissionChange(e.target.value)}\n                                    style={{\n                                        borderColor: isCommissionManual ? '#ffc107' : ''\n                                    }}\n                                />\n                                {isCommissionManual && (\n                                    <Button\n                                        color=\"secondary\"\n                                        outline\n                                        size=\"sm\"\n                                        className=\"ms-2\"\n                                        onClick={recalculateCommission}\n                                        title=\"Recalculate commission based on payment method and amount\"\n                                    >\n                                        Auto\n                                    </Button>\n                                )}\n                            </div>\n                            <small className=\"text-muted\">\n                                {isCommissionManual ? \"Commission is manually set. Click 'Auto' to recalculate based on payment method.\" : \"Commission is auto-calculated based on payment method and amount.\"}\n                            </small>\n                        </FormGroup>\n\n                        {/* Debug info for commission calculation */}\n                        {currentPaymentMethod && completionData.amount && (\n                            <div className=\"mt-2 p-2 border rounded\" style={{ backgroundColor: '#e9ecef' }}>\n                                <small>\n                                    <strong>Commission Calculation:</strong><br />\n                                    Payment Method: {currentPaymentMethod.name}<br />\n                                    Type: {currentPaymentMethod.commission_type}<br />\n                                    Amount: {completionData.amount}<br />\n                                    {currentPaymentMethod.commission_type === 'Fixed' && `Fixed Commission: ${currentPaymentMethod.commission}`}\n                                    {currentPaymentMethod.commission_type === 'Percent' && `Percentage: ${currentPaymentMethod.commission}%`}\n                                    {currentPaymentMethod.commission_type === 'Range' && 'Commission based on matching range'}\n                                    {isCommissionManual && <><br /><strong>Currently manually overridden</strong></>}\n                                </small>\n                            </div>\n                        )}\n                    </ModalBody>\n                    <ModalFooter>\n                        <Button color=\"secondary\" onClick={() => setShowCompletionModal(false)}>\n                            Cancel\n                        </Button>\n                        <Button color=\"primary\" onClick={handleCompleteOrder}>\n                            Yes, Complete Order\n                        </Button>\n                    </ModalFooter>\n                </Modal>\n            </CardBody>\n        </Card>\n    )\n}\n\nexport default OrderStatus","import useSWR from 'swr'\nimport axios from '../utility/axiosIsntance'\n\nconst fetcher = (url) => axios.get(url).then(res => res.data?.data)\n\nexport const api = {\n\n    create: async (url, params) => {\n        const { data } = await axios.post(url, params)\n        return data?.data\n    },\n\n    update: async (url, id, params) => {\n        const { data } = await axios.put(`${url}/${id}`, params)\n        return data?.data\n    },\n\n    delete: async (url, id) => {\n        await axios.delete(`${url}/${id}`)\n    }\n}\n\nexport function model(url, id) {\n\n    const { data, mutate, error } = useSWR(`${url}/${id}`, fetcher)\n\n    const loading = !data && !error\n\n    return {\n        loading,\n        error,\n        data,\n        mutate,\n        update: async (params) => {\n            await api.update(url, id, params)\n            await mutate()\n        }\n    }\n}\n\n\nexport function models(url) {\n\n    const { data, mutate, error } = useSWR(url, fetcher, {\n        revalidateOnFocus: false,\n        revalidateOnReconnect: false,\n        refreshWhenOffline: false,\n        refreshWhenHidden: false,\n        refreshInterval: 0\n    })\n\n    const loading = !data && !error\n\n    return {\n        loading,\n        error,\n        data: data || [],\n        mutate,\n        create: async (params) => api.create(params)\n    }\n}\n\n\nexport function datatable(base, endpoint, { page, limit, search, order = {}, conditions = {} }) {\n\n    const url = `${endpoint}?page=${page}&limit=${limit}&search=${search}&order=${JSON.stringify(order)}&conditions=${JSON.stringify(conditions)}`\n\n    const { data, mutate, error } = useSWR(url, fetcher)\n\n    const loading = !data && !error\n\n    return {\n        loading,\n        error,\n        data: data?.items || [],\n        total: data?.total || 0,\n        mutate,\n        mutates: {\n            delete: async (id) => {\n                await api.delete(base, id)\n                await mutate(url)\n            }\n        }\n    }\n\n}\nexport function datatableWithData(base, endpoint, { page, limit, search, order = {}, conditions = {}, from, to }) {\n\n    const url = `${endpoint}?page=${page}&limit=${limit}&from=${from}&to=${to}&search=${search}&order=${JSON.stringify(order)}&conditions=${JSON.stringify(conditions)}`\n\n    const { data, mutate, error } = useSWR(url, fetcher)\n\n    const loading = !data && !error\n\n    return {\n        loading,\n        error,\n        data: data?.items || [],\n        total: data?.total || 0,\n        mutate,\n        mutates: {\n            delete: async (id) => {\n                await api.delete(base, id)\n                await mutate(url)\n            }\n        }\n    }\n\n}\n\nexport function table(endpoint, { conditions }) {\n\n    const url = `${endpoint}?conditions=${JSON.stringify(conditions)}`\n\n    const { data, mutate, error } = useSWR(url, fetcher)\n\n    const loading = !data && !error\n\n    return {\n        loading,\n        error,\n        data: data?.items || [],\n        total: data?.total || 0,\n        mutate\n    }\n\n}\n","// ** React Imports\nimport { Link } from 'react-router-dom'\n\n// ** Third Party Components\nimport Proptypes from 'prop-types'\nimport { Grid, CheckSquare, MessageSquare, Mail, Calendar } from 'react-feather'\nimport {\n  Breadcrumb,\n  BreadcrumbItem,\n  UncontrolledButtonDropdown,\n  DropdownMenu,\n  DropdownItem,\n  DropdownToggle\n} from 'reactstrap'\n\nconst BreadCrumbs = props => {\n  // ** Props\n  const { breadCrumbTitle, breadCrumbParent, breadCrumbParent2, breadCrumbParent3, breadCrumbActive, right } = props\n\n  return (\n    <div className='content-header row'>\n      <div className='content-header-left col-9 mb-2'>\n      {/*<div className='content-header-left col-md-9 col-12 mb-2'>*/}\n        <div className='row breadcrumbs-top'>\n          <div className='col-12'>\n            {breadCrumbTitle ? <h2 className='content-header-title float-left mb-0'>{breadCrumbTitle}</h2> : ''}\n            <div className='breadcrumb-wrapper vs-breadcrumbs d-sm-block d-none col-12'>\n              <Breadcrumb>\n                <BreadcrumbItem tag='li'>\n                  <Link to='/'>Home</Link>\n                </BreadcrumbItem>\n                {\n                  breadCrumbParent &&\n                  <BreadcrumbItem tag='li' className='text-primary'>\n                    {breadCrumbParent}\n                  </BreadcrumbItem>\n                }\n                {breadCrumbParent2 ? (\n                  <BreadcrumbItem tag='li' className='text-primary'>\n                    {breadCrumbParent2}\n                  </BreadcrumbItem>\n                ) : (\n                  ''\n                )}\n                {breadCrumbParent3 ? (\n                  <BreadcrumbItem tag='li' className='text-primary'>\n                    {breadCrumbParent3}\n                  </BreadcrumbItem>\n                ) : (\n                  ''\n                )}\n                <BreadcrumbItem tag='li' active>\n                  {breadCrumbActive}\n                </BreadcrumbItem>\n              </Breadcrumb>\n            </div>\n          </div>\n        </div>\n      </div>\n      {\n        right ? (\n          <div className='content-header-right text-md-right col-3'>\n            {/*<div className='content-header-right text-md-right col-md-3 col-12 d-md-block d-none'>*/}\n            <div className='form-group breadcrum-right dropdown'>\n              { right }\n              {/*<UncontrolledButtonDropdown>*/}\n              {/*  <DropdownToggle color='primary' size='sm' className='btn-icon btn-round dropdown-toggle'>*/}\n              {/*    <Grid size={14} />*/}\n              {/*  </DropdownToggle>*/}\n              {/*  <DropdownMenu tag='ul' right>*/}\n              {/*    <DropdownItem tag={Link} to='/apps/chat'>*/}\n              {/*      <CheckSquare className='mr-1' size={14} />*/}\n              {/*      <span className='align-middle'>Todo</span>*/}\n              {/*    </DropdownItem>*/}\n              {/*    <DropdownItem tag={Link} to='/apps/chat'>*/}\n              {/*      <MessageSquare className='mr-1' size={14} />*/}\n              {/*      <span className='align-middle'>Chat</span>*/}\n              {/*    </DropdownItem>*/}\n              {/*    <DropdownItem tag={Link} to='/apps/email'>*/}\n              {/*      <Mail className='mr-1' size={14} />*/}\n              {/*      <span className='align-middle'>Email</span>*/}\n              {/*    </DropdownItem>*/}\n              {/*    <DropdownItem tag={Link} to='/apps/calendar'>*/}\n              {/*      <Calendar className='mr-1' size={14} />*/}\n              {/*      <span className='align-middle'>Calendar</span>*/}\n              {/*    </DropdownItem>*/}\n              {/*  </DropdownMenu>*/}\n              {/*</UncontrolledButtonDropdown>*/}\n            </div>\n          </div>\n        ) : ''\n      }\n\n    </div>\n  )\n}\nexport default BreadCrumbs\n\n// ** PropTypes\nBreadCrumbs.propTypes = {\n  breadCrumbTitle: Proptypes.string.isRequired,\n  breadCrumbActive: Proptypes.string.isRequired\n}\n"],"sourceRoot":""}