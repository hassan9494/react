(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[157],{169:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return j}));var s=r(64),a=r.n(s),n=r(65),c=r(305),l=r.n(c),i=r(179),o=r.n(i)()(l.a),d=function(){var e=Object(n.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, do it!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1}).then((function(e){e.value&&t()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(n.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.fire({title:"Are you sure want to delete?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",customClass:{confirmButton:"btn btn-danger",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1}).then((function(e){e.value&&t()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},324:function(e,t,r){"use strict";var s=r(0),a=r.n(s),n=r(1),c=r.n(n);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r,s,a={},n=Object.keys(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var o=Object(s.forwardRef)((function(e,t){var r=e.color,s=void 0===r?"currentColor":r,n=e.size,c=void 0===n?24:n,o=i(e,["color","size"]);return a.a.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),a.a.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),a.a.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))}));o.propTypes={color:c.a.string,size:c.a.oneOfType([c.a.string,c.a.number])},o.displayName="Edit",t.a=o},360:function(e,t,r){"use strict";var s=r(0),a=r.n(s),n=r(1),c=r.n(n);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r,s,a={},n=Object.keys(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var o=Object(s.forwardRef)((function(e,t){var r=e.color,s=void 0===r?"currentColor":r,n=e.size,c=void 0===n?24:n,o=i(e,["color","size"]);return a.a.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),a.a.createElement("polyline",{points:"6 9 6 2 18 2 18 9"}),a.a.createElement("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),a.a.createElement("rect",{x:"6",y:"14",width:"12",height:"8"}))}));o.propTypes={color:c.a.string,size:c.a.oneOfType([c.a.string,c.a.number])},o.displayName="Printer",t.a=o},420:function(e,t,r){"use strict";var s=r(0),a=r.n(s),n=r(1),c=r.n(n);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r,s,a={},n=Object.keys(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var o=Object(s.forwardRef)((function(e,t){var r=e.color,s=void 0===r?"currentColor":r,n=e.size,c=void 0===n?24:n,o=i(e,["color","size"]);return a.a.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),a.a.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),a.a.createElement("polyline",{points:"14 2 14 8 20 8"}),a.a.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),a.a.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),a.a.createElement("polyline",{points:"10 9 9 9 8 9"}))}));o.propTypes={color:c.a.string,size:c.a.oneOfType([c.a.string,c.a.number])},o.displayName="FileText",t.a=o},544:function(e,t,r){"use strict";var s=r(0),a=r.n(s),n=r(1),c=r.n(n);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r,s,a={},n=Object.keys(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var o=Object(s.forwardRef)((function(e,t){var r=e.color,s=void 0===r?"currentColor":r,n=e.size,c=void 0===n?24:n,o=i(e,["color","size"]);return a.a.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),a.a.createElement("polyline",{points:"18 15 12 9 6 15"}))}));o.propTypes={color:c.a.string,size:c.a.oneOfType([c.a.string,c.a.number])},o.displayName="ChevronUp",t.a=o},551:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return j}));var s=r(2),a=r(64),n=r.n(a),c=r(65),l=r(8),i=r(0),o=r(77),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(i.useState)(null),r=Object(l.a)(t,2),s=r[0],a=r[1],d=Object(i.useState)(!1),j=Object(l.a)(d,2),u=j[0],m=j[1],b=Object(i.useState)(null),x=Object(l.a)(b,2),f=x[0],h=x[1],O=function(){var t=Object(c.a)(n.a.mark((function t(){var r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e){t.next=2;break}return t.abrupt("return");case 2:return m(!0),t.prev=3,t.next=6,o.a.get("/transfer-orders/".concat(e));case 6:r=t.sent,a(r.data),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),h(t.t0),console.error("Error fetching transfer order:",t.t0);case 14:return t.prev=14,m(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[3,10,14,17]])})));return function(){return t.apply(this,arguments)}}();Object(i.useEffect)((function(){O()}),[e]);var p=function(){O()};return{data:s,isLoading:u,error:f,refetch:p,mutate:a}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.useState)([]),r=Object(l.a)(t,2),a=r[0],d=r[1],j=Object(i.useState)(!1),u=Object(l.a)(j,2),m=u[0],b=u[1],x=Object(i.useState)(null),f=Object(l.a)(x,2),h=f[0],O=f[1],p=Object(i.useState)(0),v=Object(l.a)(p,2),g=v[0],N=v[1],y=function(){var t=Object(c.a)(n.a.mark((function t(){var r,a,c,l=arguments;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>0&&void 0!==l[0]?l[0]:{},b(!0),t.prev=2,a=Object(s.a)(Object(s.a)({},e),r),t.next=6,o.a.get("/transfer-orders",{params:a});case 6:(c=t.sent).data.success?(d(c.data.data.items||[]),N(c.data.data.total||0)):(d([]),N(0)),t.next=16;break;case 10:t.prev=10,t.t0=t.catch(2),O(t.t0),console.error("Error fetching transfer orders:",t.t0),d([]),N(0);case 16:return t.prev=16,b(!1),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,10,16,19]])})));return function(){return t.apply(this,arguments)}}();Object(i.useEffect)((function(){y()}),[JSON.stringify(e)]);var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y(e)};return{data:a,isLoading:m,error:h,refetch:w,total:g,mutate:d}};(function(){var e=Object(c.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/transfer-orders",t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))})(),function(){var e=Object(c.a)(n.a.mark((function e(t,r){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.put("/transfer-orders/".concat(t),r);case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})))}(),function(){var e=Object(c.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("/transfer-orders/".concat(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))}(),function(){var e=Object(c.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/transfer-orders/".concat(t,"/complete"));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))}(),function(){var e=Object(c.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/transfer-orders/".concat(t,"/cancel"));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))}(),function(){var e=Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/transfer-orders/statistics/overview");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))}()},564:function(e,t,r){"use strict";var s=r(0),a=r.n(s),n=r(1),c=r.n(n);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r,s,a={},n=Object.keys(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var o=Object(s.forwardRef)((function(e,t){var r=e.color,s=void 0===r?"currentColor":r,n=e.size,c=void 0===n?24:n,o=i(e,["color","size"]);return a.a.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),a.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),a.a.createElement("polyline",{points:"12 6 12 12 16 14"}))}));o.propTypes={color:c.a.string,size:c.a.oneOfType([c.a.string,c.a.number])},o.displayName="Clock",t.a=o},585:function(e,t,r){"use strict";var s=r(64),a=r.n(s),n=r(65),c=r(8),l=(r(944),r(952)),i=r(955),o=r(943),d=r(55),j=r(414),u=r(404),m=r(405),b=r(406),x=r(111),f=r(0),h=r(22),O=r(169),p=r(69),v=r(622),g=r(606),N=r(429),y=r(77),w=r(3);t.a=function(e){var t=e.form,r=e.transferOrder,s=e.isEditMode,_=e.onStatusToggle,k=e.refetch,z=Object(f.useState)(null),S=Object(c.a)(z,2),E=S[0],T=S[1],D=Object(f.useState)(!1),C=Object(c.a)(D,2),P=C[0],L=C[1],A=Object(f.useState)(""),B=Object(c.a)(A,2),F=B[0],I=B[1],R=Object(f.useState)(!1),G=Object(c.a)(R,2),M=G[0],W=G[1],q=Object(f.useState)(""),H=Object(c.a)(q,2),U=H[0],J=H[1];Object(f.useEffect)((function(){r&&(T(r.status||"PENDING"),t&&t.setValue("status",r.status||"PENDING"))}),[r,t]);var Q=[{label:Object(w.jsxs)("div",{className:"d-flex align-items-center",children:[Object(w.jsx)(v.a,{size:16,className:"mr-2 text-warning"}),Object(w.jsx)("span",{children:"Pending"})]}),value:"PENDING"},{label:Object(w.jsxs)("div",{className:"d-flex align-items-center",children:[Object(w.jsx)(g.a,{size:16,className:"mr-2 text-success"}),Object(w.jsx)("span",{children:"Completed"})]}),value:"COMPLETED"}],Y=function(e){if(e){var s=e.value,a=(null===r||void 0===r?void 0:r.status)||"PENDING";s!==a&&(t&&t.setValue("status",s),T(s),"PENDING"===a&&"COMPLETED"===s?(I("complete"),L(!0)):"COMPLETED"===a&&"PENDING"===s&&(I("revert"),L(!0)))}},V=function(){var e=Object(n.a)(a.a.mark((function e(){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E){e.next=3;break}return h.b.error("Please select a status"),e.abrupt("return");case 3:if(c=(null===r||void 0===r?void 0:r.status)||"PENDING",E!==c){e.next=7;break}return h.b.info("Status is already set to ".concat(E)),e.abrupt("return");case 7:t&&s?Object(O.a)({title:"Update Status",text:"Are you sure you want to change status to ".concat(E,"?"),icon:"warning",confirmButtonText:"Yes, update it!",cancelButtonText:"Cancel"},Object(n.a)(a.a.mark((function e(){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!_){e.next=4;break}return e.next=4,_(E);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),h.b.error((null===(t=e.t0.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"An error occurred");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))):"PENDING"===c&&"COMPLETED"===E?(I("complete"),L(!0)):"COMPLETED"===c&&"PENDING"===E&&(I("revert"),L(!0));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(n.a)(a.a.mark((function e(){var t,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),e.prev=1,e.next=4,y.a.post("/transfer-orders/".concat(r.id,"/toggle-status"),{notes:U||void 0});case 4:if(h.b.success("complete"===F?"Transfer order completed successfully":"Transfer order reverted to pending successfully"),L(!1),J(""),!_){e.next=10;break}return e.next=10,_();case 10:if(!k){e.next=13;break}return e.next=13,k();case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.error("Toggle status error:",e.t0),h.b.error((null===(t=e.t0.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"Failed to update transfer order status");case 19:return e.prev=19,W(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[1,15,19,22]])})));return function(){return e.apply(this,arguments)}}();return Object(w.jsxs)(l.a,{className:"invoice-action-wrapper",children:[Object(w.jsxs)(i.a,{children:[s&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(o.a,{children:t?Object(w.jsx)(p.a,{control:t.control,defaultValue:E,name:"status",render:function(e){var t=e.field,r=t.onChange,s=t.value,a=(t.name,t.ref);return Object(w.jsx)(x.a,{className:"react-select",classNamePrefix:"select",value:Q.find((function(e){return e.value===(s||E)})),options:Q,onChange:function(e){r((null===e||void 0===e?void 0:e.value)||null),Y(e)},ref:a})}}):Object(w.jsx)(x.a,{className:"react-select",classNamePrefix:"select",value:Q.find((function(e){return e.value===E})),options:Q,onChange:Y})}),Object(w.jsx)(d.a.Ripple,{color:"primary",block:!0,onClick:V,disabled:!E||E===(null===r||void 0===r?void 0:r.status),children:"Update Status"})]}),!s&&Object(w.jsxs)("div",{className:"mt-3",children:[(null===r||void 0===r?void 0:r.can_complete)&&Object(w.jsxs)(d.a.Ripple,{color:"success",className:"mt-2",block:!0,onClick:function(){I("complete"),L(!0)},children:[Object(w.jsx)(g.a,{size:14,className:"mr-1"}),"Complete Transfer"]}),(null===r||void 0===r?void 0:r.can_revert)&&Object(w.jsxs)(d.a.Ripple,{color:"warning",className:"mt-2",block:!0,onClick:function(){I("revert"),L(!0)},children:[Object(w.jsx)(N.a,{size:14,className:"mr-1"}),"Revert to Pending"]})]})]}),Object(w.jsxs)(j.a,{isOpen:P,toggle:function(){return L(!1)},children:[Object(w.jsx)(u.a,{toggle:function(){return L(!1)},children:"complete"===F?"Complete Transfer Order":"Revert to Pending"}),Object(w.jsx)(m.a,{children:"complete"===F?Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("p",{children:"Are you sure you want to complete this transfer order?"})}):Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("p",{children:"Are you sure you want to revert this transfer order to pending?"})})}),Object(w.jsxs)(b.a,{children:[Object(w.jsx)(d.a,{color:"secondary",onClick:function(){return L(!1)},children:"Cancel"}),Object(w.jsx)(d.a,{color:"complete"===F?"success":"warning",onClick:K,disabled:M,children:M?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("span",{className:"spinner-border spinner-border-sm mr-2"}),"Processing..."]}):"complete"===F?"Complete Transfer":"Revert to Pending"})]})]})]})}},586:function(e,t,r){"use strict";var s=r(2),a=r(8),n=r(0),c=r(944),l=r(560),i=r(323),o=r(321),d=r(801),j=r(831),u=r(403),m=r(606),b=r(622),x=r(605),f=r(547),h=r(428),O=r(3);t.a=function(e){var t=e.product,r=(e.transferOrderStatus,e.showLabels),p=void 0===r||r,v=e.compact,g=void 0!==v&&v,N=e.showTooltip,y=void 0===N||N,w=e.className,_=void 0===w?"":w,k=e.style,z=void 0===k?{}:k,S=Object(n.useState)(!1),E=Object(a.a)(S,2),T=E[0],D=E[1],C=(null===t||void 0===t?void 0:t.has_stock_history)||null!==(null===t||void 0===t?void 0:t.stock_before)&&void 0!==(null===t||void 0===t?void 0:t.stock_before)?{type:"historical",stockAvailBefore:t.stock_available_before||0,stockAvailAfter:t.stock_available_after||0,storeAvailBefore:t.store_available_before||0,storeAvailAfter:t.store_available_after||0,totalBefore:t.stock_before||0,totalAfter:t.stock_after||0,stockDiff:t.stock_available_difference||0,storeDiff:t.store_available_difference||0,totalDiff:t.stock_difference||0}:{type:"pending",stockAvailBefore:t.current_stock_available||0,stockAvailAfter:t.current_stock_available||0,storeAvailBefore:t.current_store_available||0,storeAvailAfter:t.current_store_available||0,totalBefore:(t.current_stock_available||0)+(t.current_store_available||0),totalAfter:(t.current_stock_available||0)+(t.current_store_available||0),stockDiff:0,storeDiff:0,totalDiff:0},P="historical"===C.type,L=function(e){return e>0?"success":e<0?"danger":"secondary"},A=function(e){return e>0?Object(O.jsx)(d.a,{size:10,className:"mr-1"}):e<0?Object(O.jsx)(j.a,{size:10,className:"mr-1"}):Object(O.jsx)(u.a,{size:10,className:"mr-1"})},B=function(e){return e>0?"+".concat(e):e<0?"".concat(e):"No change"};return g?Object(O.jsxs)("div",{className:"stock-impact-compact ".concat(_),style:z,id:"stock-impact-".concat((null===t||void 0===t?void 0:t.id)||"unknown"),children:[Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[Object(O.jsx)("small",{className:"text-muted",children:"Stock:"}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("span",{className:"font-weight-bold",children:C.stockAvailBefore}),P&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(x.a,{size:8,className:"mx-1 text-muted"}),Object(O.jsx)("span",{className:"font-weight-bold ".concat(C.stockDiff>0?"text-success":C.stockDiff<0?"text-danger":""),children:C.stockAvailAfter}),0!==C.stockDiff&&Object(O.jsx)(c.a,{color:L(C.stockDiff),className:"ml-1",pill:!0,style:{fontSize:"9px",padding:"2px 4px"},children:B(C.stockDiff)})]})]})]}),Object(O.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[Object(O.jsx)("small",{className:"text-muted",children:"Store:"}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("span",{className:"font-weight-bold",children:C.storeAvailBefore}),P&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(x.a,{size:8,className:"mx-1 text-muted"}),Object(O.jsx)("span",{className:"font-weight-bold ".concat(C.storeDiff>0?"text-success":C.storeDiff<0?"text-danger":""),children:C.storeAvailAfter}),0!==C.storeDiff&&Object(O.jsx)(c.a,{color:L(C.storeDiff),className:"ml-1",pill:!0,style:{fontSize:"9px",padding:"2px 4px"},children:B(C.storeDiff)})]})]})]}),Object(O.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(O.jsx)("small",{className:"text-muted",children:"\u03a3:"}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("span",{className:"font-weight-bold",children:C.totalBefore}),P&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(x.a,{size:8,className:"mx-1 text-muted"}),Object(O.jsx)("span",{className:"font-weight-bold ".concat(C.totalDiff>0?"text-success":C.totalDiff<0?"text-danger":""),children:C.totalAfter})]})]})]})]}),y&&Object(O.jsx)(l.a,{placement:"top",isOpen:T,target:"stock-impact-".concat((null===t||void 0===t?void 0:t.id)||"unknown"),toggle:function(){return D(!T)},children:P?"Actual stock changes after transfer completion":"Pending - No stock changes yet"})]}):Object(O.jsxs)("div",{className:"stock-impact-detailed p-3 ".concat(_),style:Object(s.a)({backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #e9ecef"},z),children:[p&&Object(O.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)(f.a,{size:16,className:"mr-2 text-primary"}),Object(O.jsx)("h6",{className:"mb-0",children:P?"Actual Stock Impact":"Current Stock Status"}),P?Object(O.jsxs)(c.a,{color:"success",className:"ml-2",pill:!0,children:[Object(O.jsx)(m.a,{size:10,className:"mr-1"}),"Completed"]}):Object(O.jsxs)(c.a,{color:"warning",className:"ml-2",pill:!0,children:[Object(O.jsx)(b.a,{size:10,className:"mr-1"}),"Pending"]})]}),y&&Object(O.jsx)(h.a,{size:14,className:"text-muted cursor-pointer",id:"stock-impact-info-".concat((null===t||void 0===t?void 0:t.id)||"unknown")})]}),Object(O.jsx)("div",{className:"stock-impact-row mb-2",children:Object(O.jsxs)(i.a,{className:"align-items-center",children:[Object(O.jsx)(o.a,{xs:4,children:Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)(f.a,{size:12,className:"mr-2 text-info"}),Object(O.jsx)("span",{className:"font-weight-bold",children:"Stock"})]})}),Object(O.jsx)(o.a,{xs:8,children:Object(O.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("span",{className:"text-muted mr-2",children:"Before:"}),Object(O.jsx)("span",{className:"font-weight-bold",children:C.stockAvailBefore})]}),P&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(x.a,{size:12,className:"mx-2 text-muted"}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("span",{className:"font-weight-bold ".concat(C.stockDiff>0?"text-success":C.stockDiff<0?"text-danger":""),children:C.stockAvailAfter}),0!==C.stockDiff&&Object(O.jsxs)(c.a,{color:L(C.stockDiff),className:"ml-2 d-flex align-items-center",pill:!0,children:[A(C.stockDiff),B(C.stockDiff)]})]})]})]})})]})}),Object(O.jsx)("div",{className:"stock-impact-row mb-2",children:Object(O.jsxs)(i.a,{className:"align-items-center",children:[Object(O.jsx)(o.a,{xs:4,children:Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)(f.a,{size:12,className:"mr-2 text-warning"}),Object(O.jsx)("span",{className:"font-weight-bold",children:"Store"})]})}),Object(O.jsx)(o.a,{xs:8,children:Object(O.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("span",{className:"text-muted mr-2",children:"Before:"}),Object(O.jsx)("span",{className:"font-weight-bold",children:C.storeAvailBefore})]}),P&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(x.a,{size:12,className:"mx-2 text-muted"}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("span",{className:"font-weight-bold ".concat(C.storeDiff>0?"text-success":C.storeDiff<0?"text-danger":""),children:C.storeAvailAfter}),0!==C.storeDiff&&Object(O.jsxs)(c.a,{color:L(C.storeDiff),className:"ml-2 d-flex align-items-center",pill:!0,children:[A(C.storeDiff),B(C.storeDiff)]})]})]})]})})]})}),Object(O.jsx)("div",{className:"stock-impact-row pt-2 border-top",children:Object(O.jsxs)(i.a,{className:"align-items-center",children:[Object(O.jsx)(o.a,{xs:4,children:Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)(f.a,{size:12,className:"mr-2 text-primary"}),Object(O.jsx)("span",{className:"font-weight-bold",children:"Total"})]})}),Object(O.jsx)(o.a,{xs:8,children:Object(O.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("span",{className:"text-muted mr-2",children:"Before:"}),Object(O.jsx)("span",{className:"font-weight-bold",children:C.totalBefore})]}),P&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(x.a,{size:12,className:"mx-2 text-muted"}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("span",{className:"font-weight-bold ".concat(C.totalDiff>0?"text-success":C.totalDiff<0?"text-danger":""),children:C.totalAfter}),0!==C.totalDiff&&Object(O.jsxs)(c.a,{color:L(C.totalDiff),className:"ml-2 d-flex align-items-center",pill:!0,children:[A(C.totalDiff),B(C.totalDiff)]})]})]})]})})]})}),Object(O.jsx)("div",{className:"mt-3 pt-3 border-top",children:Object(O.jsxs)("div",{className:"small text-muted",children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between mb-1",children:[Object(O.jsx)("span",{children:"Quantity:"}),Object(O.jsx)("strong",{children:(null===t||void 0===t?void 0:t.quantity)||0})]}),Object(O.jsxs)("div",{className:"d-flex justify-content-between mb-1",children:[Object(O.jsx)("span",{children:"From:"}),Object(O.jsx)("span",{className:"text-capitalize",children:(null===t||void 0===t?void 0:t.from_location_label)||(null===t||void 0===t?void 0:t.from_location)||"stock_available"})]}),Object(O.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(O.jsx)("span",{children:"To:"}),Object(O.jsx)("span",{className:"text-capitalize",children:(null===t||void 0===t?void 0:t.to_location_label)||(null===t||void 0===t?void 0:t.to_location)||"store_available"})]})]})}),y&&Object(O.jsx)(l.a,{placement:"top",target:"stock-impact-info-".concat((null===t||void 0===t?void 0:t.id)||"unknown"),children:P?"Shows actual stock changes after transfer completion":"Shows current stock status (no changes yet)"})]})}},625:function(e,t,r){"use strict";var s=r(0),a=r.n(s),n=r(1),c=r.n(n);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r,s,a={},n=Object.keys(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var o=Object(s.forwardRef)((function(e,t){var r=e.color,s=void 0===r?"currentColor":r,n=e.size,c=void 0===n?24:n,o=i(e,["color","size"]);return a.a.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),a.a.createElement("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),a.a.createElement("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),a.a.createElement("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),a.a.createElement("line",{x1:"3",y1:"10",x2:"21",y2:"10"}))}));o.propTypes={color:c.a.string,size:c.a.oneOfType([c.a.string,c.a.number])},o.displayName="Calendar",t.a=o},634:function(e,t,r){"use strict";var s=r(0),a=r.n(s),n=r(1),c=r.n(n);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r,s,a={},n=Object.keys(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var o=Object(s.forwardRef)((function(e,t){var r=e.color,s=void 0===r?"currentColor":r,n=e.size,c=void 0===n?24:n,o=i(e,["color","size"]);return a.a.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),a.a.createElement("line",{x1:"4",y1:"9",x2:"20",y2:"9"}),a.a.createElement("line",{x1:"4",y1:"15",x2:"20",y2:"15"}),a.a.createElement("line",{x1:"10",y1:"3",x2:"8",y2:"21"}),a.a.createElement("line",{x1:"16",y1:"3",x2:"14",y2:"21"}))}));o.propTypes={color:c.a.string,size:c.a.oneOfType([c.a.string,c.a.number])},o.displayName="Hash",t.a=o},84:function(e,t,r){"use strict";var s=r(76),a=r(172),n=r(173),c=r(3);t.a=function(e){var t=e.breadCrumbTitle,r=e.breadCrumbParent,l=e.breadCrumbParent2,i=e.breadCrumbParent3,o=e.breadCrumbActive,d=e.right;return Object(c.jsxs)("div",{className:"content-header row",children:[Object(c.jsx)("div",{className:"content-header-left col-9 mb-2",children:Object(c.jsx)("div",{className:"row breadcrumbs-top",children:Object(c.jsxs)("div",{className:"col-12",children:[t?Object(c.jsx)("h2",{className:"content-header-title float-left mb-0",children:t}):"",Object(c.jsx)("div",{className:"breadcrumb-wrapper vs-breadcrumbs d-sm-block d-none col-12",children:Object(c.jsxs)(a.a,{children:[Object(c.jsx)(n.a,{tag:"li",children:Object(c.jsx)(s.b,{to:"/",children:"Home"})}),r&&Object(c.jsx)(n.a,{tag:"li",className:"text-primary",children:r}),l?Object(c.jsx)(n.a,{tag:"li",className:"text-primary",children:l}):"",i?Object(c.jsx)(n.a,{tag:"li",className:"text-primary",children:i}):"",Object(c.jsx)(n.a,{tag:"li",active:!0,children:o})]})})]})})}),d?Object(c.jsx)("div",{className:"content-header-right text-md-right col-3",children:Object(c.jsx)("div",{className:"form-group breadcrum-right dropdown",children:d})}):""]})}},978:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return J}));var s=r(64),a=r.n(s),n=r(65),c=r(110),l=r(7),i=r(2),o=r(8),d=r(0),j=r(376),u=r(22),m=r(77),b=r(20),x=r(551),f=r(84),h=(r(585),r(586)),O=r(944),p=r(303),v=r(378),g=r(952),N=r(955),y=r(55),w=r(323),_=r(321),k=r(953),z=r(954),S=r(956),E=r(407),T=(r(622),r(606)),D=r(623),C=r(813),P=r(634),L=r(791),A=r(625),B=r(420),F=r(547),I=r(544),R=r(415),G=r(605),M=r(564),W=r(324),q=r(429),H=r(360),U=r(3);function J(){var e,t,r,s=Object(j.i)().id,J=Object(j.g)(),Q=Object(x.a)(s),Y=Q.data,V=Q.isLoading,K=Q.refetch,X=Object(d.useState)(null),Z=Object(o.a)(X,2),$=Z[0],ee=Z[1],te=Object(d.useState)({products:!0,history:!1,locationSummary:!1}),re=Object(o.a)(te,2),se=re[0],ae=re[1],ne=Object(d.useState)(!1),ce=Object(o.a)(ne,2),le=ce[0],ie=ce[1];Object(d.useEffect)((function(){Y&&(Y.data?ee(Y.data):ee(Y))}),[Y]);var oe=function(e){ae((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(l.a)({},e,!t[e]))}))},de=function(e){return e?new Date(e).toLocaleString():"N/A"},je=function(e){switch(e){case"stock_available":return Object(U.jsx)(O.a,{color:"info",className:"text-capitalize",children:"Stock"});case"store_available":return Object(U.jsx)(O.a,{color:"warning",className:"text-capitalize",children:"Store"});default:return Object(U.jsx)(O.a,{color:"secondary",className:"text-capitalize",children:e})}},ue=function(e,t){return e?"stock_available"===t?e.product_stock_location||"Stock Location":"store_available"===t?e.product_location||"Store Location":"N/A":"N/A"},me=function(){var e=Object(n.a)(a.a.mark((function e(){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.a.can("read","transfer_order_complete")){e.next=3;break}return u.b.error("You do not have permission to change transfer order status"),e.abrupt("return");case 3:return ie(!0),e.prev=4,e.next=7,m.a.post("/transfer-orders/".concat(s,"/toggle-status"));case 7:e.sent,u.b.success("PENDING"===(null===$||void 0===$?void 0:$.status)?"Transfer order completed successfully":"Transfer order reverted to pending successfully"),K(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),console.error("Toggle status error:",e.t0),u.b.error((null===(t=e.t0.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to update transfer order status");case 16:return e.prev=16,ie(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[4,12,16,19]])})));return function(){return e.apply(this,arguments)}}();if(V)return Object(U.jsxs)(d.Fragment,{children:[Object(U.jsx)(f.a,{breadCrumbTitle:"Transfer Orders",breadCrumbActive:"Transfer Details"}),Object(U.jsx)("div",{className:"d-flex justify-content-center my-5",children:Object(U.jsx)(p.a,{color:"primary"})})]});if(!$)return Object(U.jsxs)(d.Fragment,{children:[Object(U.jsx)(f.a,{breadCrumbTitle:"Transfer Orders",breadCrumbActive:"Transfer Details"}),Object(U.jsx)(v.a,{color:"danger",children:"Transfer order not found"})]});var be=(null===$||void 0===$?void 0:$.histories)?Object(c.a)($.histories).sort((function(e,t){return new Date(t.created_at)-new Date(e.created_at)})):[];return Object(U.jsxs)(d.Fragment,{children:[Object(U.jsx)(f.a,{breadCrumbTitle:"Transfer Orders",breadCrumbActive:" Details Transfer #".concat($.number)}),Object(U.jsx)(g.a,{children:Object(U.jsxs)(N.a,{children:[Object(U.jsx)("div",{className:"mb-4",children:Object(U.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(U.jsxs)("h4",{className:"mb-0",children:["Details Transfer Order #",$.number]}),Object(U.jsx)("div",{children:Object(U.jsxs)(y.a,{color:"secondary",onClick:function(){return J.push("/transfer-order/list")},className:"mr-2",children:[Object(U.jsx)(D.a,{size:14,className:"mr-1"}),"Back to List"]})})]})}),Object(U.jsxs)(w.a,{children:[Object(U.jsxs)(_.a,{md:9,sm:12,children:[Object(U.jsx)(g.a,{className:"mb-1",children:Object(U.jsxs)(N.a,{children:[Object(U.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:Object(U.jsxs)("h5",{className:"mb-0 d-flex align-items-center",children:[Object(U.jsx)(C.a,{size:18,className:"mr-2 text-primary"}),"Transfer Information"]})}),Object(U.jsxs)(w.a,{children:[Object(U.jsxs)(_.a,{md:6,children:[Object(U.jsxs)("div",{className:"mb-2",children:[Object(U.jsx)("small",{className:"text-muted d-block",children:"Transfer Number"}),Object(U.jsxs)("div",{className:"d-flex align-items-center",children:[Object(U.jsx)(P.a,{size:14,className:"mr-1 text-muted"}),Object(U.jsx)("strong",{children:$.number})]})]}),Object(U.jsxs)("div",{className:"mb-2",children:[Object(U.jsx)("small",{className:"text-muted d-block",children:"Created By"}),Object(U.jsxs)("div",{className:"d-flex align-items-center",children:[Object(U.jsx)(L.a,{size:14,className:"mr-1 text-muted"}),Object(U.jsx)("span",{children:(null===(e=$.created_by)||void 0===e?void 0:e.name)||"System"})]})]}),Object(U.jsxs)("div",{className:"mb-2",children:[Object(U.jsx)("small",{className:"text-muted d-block",children:"Created Date"}),Object(U.jsxs)("div",{className:"d-flex align-items-center",children:[Object(U.jsx)(A.a,{size:14,className:"mr-1 text-muted"}),Object(U.jsx)("span",{children:de($.created_at)})]})]}),$.approved_by&&Object(U.jsxs)("div",{className:"mb-2",children:[Object(U.jsx)("small",{className:"text-muted d-block",children:"Approved By"}),Object(U.jsxs)("div",{className:"d-flex align-items-center",children:[Object(U.jsx)(L.a,{size:14,className:"mr-1 text-success"}),Object(U.jsx)("span",{children:(null===(t=$.approved_by)||void 0===t?void 0:t.name)||"N/A"})]})]})]}),Object(U.jsxs)(_.a,{md:6,children:[Object(U.jsxs)("div",{className:"mb-2 d-flex ",children:[Object(U.jsx)("small",{className:"text-muted d-block mr-1",children:"Status"}),Object(U.jsx)("div",{className:"d-flex align-items-center",children:Object(U.jsx)(O.a,{color:function(e){if(!e)return"secondary";switch(e.toUpperCase()){case"PENDING":return"warning";case"COMPLETED":return"success";default:return"secondary"}}($.status),className:"py-1 px-3",children:$.status})})]}),$.completed_at&&Object(U.jsxs)("div",{className:"mb-2",children:[Object(U.jsx)("small",{className:"text-muted d-block",children:"Completed Date"}),Object(U.jsxs)("div",{className:"d-flex align-items-center",children:[Object(U.jsx)(T.a,{size:14,className:"mr-1 text-success"}),Object(U.jsx)("span",{children:de($.completed_at)})]})]}),$.summary&&Object(U.jsxs)("div",{className:"mt-1",children:[Object(U.jsx)("small",{className:"text-muted d-block mb-2",children:"Transfer Summary"}),Object(U.jsx)("div",{className:"summary-cards",children:Object(U.jsxs)(w.a,{children:[Object(U.jsx)(_.a,{sm:6,className:"mb-2",children:Object(U.jsx)("div",{className:"summary-card h-100",children:Object(U.jsxs)("div",{className:"d-flex align-items-center",children:[Object(U.jsx)("div",{className:"summary-value h4 mb-0 mr-3",children:$.summary.total_products||0}),Object(U.jsx)("div",{className:"summary-label text-muted small",children:"Total Products"})]})})}),Object(U.jsx)(_.a,{sm:6,className:"mb-2",children:Object(U.jsx)("div",{className:"summary-card h-100",children:Object(U.jsxs)("div",{className:"d-flex align-items-center",children:[Object(U.jsx)("div",{className:"summary-value h4 mb-0 mr-3",children:$.summary.total_quantity||0}),Object(U.jsx)("div",{className:"summary-label text-muted small",children:"Total Quantity"})]})})})]})})]})]})]}),$.notes&&Object(U.jsxs)("div",{className:"mt-4 pt-4 border-top",children:[Object(U.jsx)("small",{className:"text-muted d-block mb-2",children:"Notes"}),Object(U.jsx)("div",{className:"notes-container p-3 bg-light rounded",children:Object(U.jsxs)("div",{className:"d-flex",children:[Object(U.jsx)(B.a,{size:16,className:"mr-2 text-muted mt-1"}),Object(U.jsx)("p",{className:"mb-0",style:{whiteSpace:"pre-wrap"},children:$.notes})]})})]})]})}),Object(U.jsxs)(g.a,{className:"mb-4",children:[Object(U.jsxs)(k.a,{className:"d-flex justify-content-between align-items-center cursor-pointer",onClick:function(){return oe("products")},children:[Object(U.jsxs)(z.a,{tag:"h5",className:"mb-0 d-flex align-items-center",children:[Object(U.jsx)(F.a,{size:18,className:"mr-2"}),"Products (",(null===(r=$.products)||void 0===r?void 0:r.length)||0,")"]}),Object(U.jsx)(y.a,{color:"link",size:"sm",className:"p-0",children:se.products?Object(U.jsx)(I.a,{size:18}):Object(U.jsx)(R.a,{size:18})})]}),Object(U.jsx)(S.a,{isOpen:se.products,children:Object(U.jsx)(N.a,{children:$.products&&$.products.length>0?Object(U.jsx)("div",{className:"table-responsive",children:Object(U.jsxs)(E.a,{bordered:!0,hover:!0,children:[Object(U.jsx)("thead",{className:"thead-light",children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("th",{width:"20%",children:"Product"}),Object(U.jsx)("th",{width:"15%",children:"From"}),Object(U.jsx)("th",{width:"15%",children:"To"}),Object(U.jsx)("th",{width:"10%",children:"Quantity"}),Object(U.jsx)("th",{width:"15%",children:"Current Stock"}),Object(U.jsx)("th",{width:"25%",children:"Stock Impact"})]})}),Object(U.jsx)("tbody",{children:$.products.map((function(e,t){var r=ue(e,e.from_location),s=ue(e,e.to_location);return Object(U.jsxs)("tr",{children:[Object(U.jsx)("td",{children:Object(U.jsxs)("div",{className:"d-flex align-items-center",children:[e.product_image?Object(U.jsx)("img",{src:e.product_image,alt:e.product_name,className:"rounded mr-2",style:{width:40,height:40,objectFit:"cover"}}):Object(U.jsx)("div",{className:"mr-2",style:{width:40,height:40,backgroundColor:"#f8f9fa",borderRadius:"4px"}}),Object(U.jsxs)("div",{children:[Object(U.jsxs)("a",{className:"font-weight-bold",href:"".concat("http://localhost:3000","/product/").concat(e.product_name.replace(/\s+/g,"-").toLowerCase()),target:"_blank",rel:"noopener noreferrer",children:[e.product_name,"                                                                                "]}),Object(U.jsxs)("small",{className:"text-muted d-block",children:["SKU: ",e.product_sku]})]})]})}),Object(U.jsx)("td",{children:Object(U.jsxs)("div",{className:"text-center",children:[Object(U.jsx)("div",{className:"mb-1",children:je(e.from_location)}),Object(U.jsx)("div",{className:"small text-muted",children:Object(U.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:Object(U.jsx)("span",{className:"text-truncate",style:{maxWidth:"150px"},title:r,children:r})})})]})}),Object(U.jsx)("td",{children:Object(U.jsxs)("div",{className:"d-flex align-items-center justify-content-center flex-column",children:[Object(U.jsxs)("div",{className:"d-flex align-items-center mb-1",children:[Object(U.jsx)(G.a,{size:14,className:"mr-1 text-muted"}),je(e.to_location)]}),Object(U.jsx)("div",{className:"small text-muted",children:Object(U.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:Object(U.jsx)("span",{className:"text-truncate",style:{maxWidth:"150px"},title:s,children:s})})})]})}),Object(U.jsx)("td",{children:Object(U.jsx)("div",{className:"text-center font-weight-bold",children:e.quantity})}),Object(U.jsx)("td",{children:Object(U.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(U.jsxs)("div",{className:"d-flex align-items-center mb-1",children:[Object(U.jsx)("span",{className:"text-muted",children:"Stock:"}),Object(U.jsx)("span",{className:"font-weight-bold ml-1",children:e.current_stock_available||0})]}),Object(U.jsxs)("div",{className:"d-flex align-items-center mb-1",children:[Object(U.jsx)("span",{className:"text-muted",children:"Store:"}),Object(U.jsx)("span",{className:"font-weight-bold ml-1",children:e.current_store_available||0})]}),Object(U.jsxs)("div",{className:"d-flex align-items-center",children:[Object(U.jsx)("span",{className:"text-muted",children:"\u03a3:"}),Object(U.jsx)("span",{className:"font-weight-bold ml-1",children:(e.current_stock_available||0)+(e.current_store_available||0)})]})]})}),Object(U.jsx)("td",{children:Object(U.jsx)(h.a,{product:e,transferOrderStatus:$.status,compact:!0,showLabels:!1})})]},t)}))})]})}):Object(U.jsxs)("div",{className:"text-center p-5 border rounded bg-light",children:[Object(U.jsx)(F.a,{size:48,className:"text-muted mb-3"}),Object(U.jsx)("p",{className:"text-muted",children:"No products in this transfer"})]})})})]}),Object(U.jsxs)(g.a,{children:[Object(U.jsxs)(k.a,{className:"d-flex justify-content-between align-items-center cursor-pointer",onClick:function(){return oe("history")},children:[Object(U.jsxs)(z.a,{tag:"h5",className:"mb-0 d-flex align-items-center",children:[Object(U.jsx)(M.a,{size:18,className:"mr-2"}),"History (",be.length,")"]}),Object(U.jsx)(y.a,{color:"link",size:"sm",className:"p-0",children:se.history?Object(U.jsx)(I.a,{size:18}):Object(U.jsx)(R.a,{size:18})})]}),Object(U.jsx)(S.a,{isOpen:se.history,children:Object(U.jsx)(N.a,{children:be.length>0?Object(U.jsx)("div",{className:"timeline",children:be.map((function(e,t){var r,s,a,n,c,l,i,o,d;return Object(U.jsxs)("div",{className:"timeline-item mb-3",children:[Object(U.jsx)("div",{className:"timeline-point"}),Object(U.jsxs)("div",{className:"timeline-content",children:[Object(U.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-1",children:[Object(U.jsxs)("div",{className:"d-flex align-items-center",children:[Object(U.jsx)(L.a,{size:16,className:"mr-2 text-primary"}),Object(U.jsxs)("h6",{className:"mb-0",children:[e.action_label||e.action,e.product&&Object(U.jsx)(O.a,{color:"info",className:"ml-2",children:e.product.name})]})]}),Object(U.jsxs)("div",{className:"text-right",children:[Object(U.jsx)("small",{className:"text-muted d-block",children:e.time_ago||new Date(e.created_at).toLocaleString()}),Object(U.jsx)("small",{className:"text-muted",children:new Date(e.created_at).toLocaleString()})]})]}),e.is_product_change&&Object(U.jsx)("div",{className:"product-change-details p-3 mb-2 bg-light rounded",children:Object(U.jsxs)("div",{className:"d-flex align-items-start",children:[(null===(r=e.product)||void 0===r?void 0:r.image)&&Object(U.jsx)("img",{src:e.product.image,alt:e.product.name,className:"rounded mr-3",style:{width:"40px",height:"40px",objectFit:"cover"}}),Object(U.jsxs)("div",{className:"flex-grow-1",children:[Object(U.jsx)("div",{className:"mb-2",children:Object(U.jsx)("strong",{children:e.change_description})}),"quantity"===e.change_type&&e.old_value&&e.new_value&&Object(U.jsxs)("div",{className:"d-flex align-items-center text-muted small",children:[Object(U.jsxs)("span",{className:"text-danger mr-2",children:[Object(U.jsx)("strong",{children:"Old:"})," ",e.old_value.quantity||e.old_value]}),Object(U.jsx)(G.a,{size:12,className:"mx-2"}),Object(U.jsxs)("span",{className:"text-success",children:[Object(U.jsx)("strong",{children:"New:"})," ",e.new_value.quantity||e.new_value]})]}),"from_location"===e.change_type&&e.old_value&&e.new_value&&Object(U.jsxs)("div",{className:"d-flex align-items-center text-muted small",children:[Object(U.jsxs)(O.a,{color:"warning",className:"mr-2",children:["From: ",e.getLocationLabel?e.getLocationLabel(e.old_value.from_location||e.old_value):e.old_value.from_location||e.old_value]}),Object(U.jsx)(G.a,{size:12,className:"mx-2"}),Object(U.jsxs)(O.a,{color:"info",children:["To: ",e.getLocationLabel?e.getLocationLabel(e.new_value.from_location||e.new_value):e.new_value.from_location||e.new_value]})]}),"to_location"===e.change_type&&e.old_value&&e.new_value&&Object(U.jsxs)("div",{className:"d-flex align-items-center text-muted small",children:[Object(U.jsxs)(O.a,{color:"warning",className:"mr-2",children:["From: ",e.getLocationLabel?e.getLocationLabel(e.old_value.to_location||e.old_value):e.old_value.to_location||e.old_value]}),Object(U.jsx)(G.a,{size:12,className:"mx-2"}),Object(U.jsxs)(O.a,{color:"info",children:["To: ",e.getLocationLabel?e.getLocationLabel(e.new_value.to_location||e.new_value):e.new_value.to_location||e.new_value]})]}),("product_added"===e.action||"product_removed"===e.action)&&e.new_value&&Object(U.jsxs)("div",{className:"mt-2 small",children:[Object(U.jsxs)("div",{className:"row",children:[Object(U.jsxs)("div",{className:"col-6",children:[Object(U.jsx)("strong",{children:"Product:"})," ",e.new_value.product_name||(null===(s=e.parsed_new_value)||void 0===s?void 0:s.product_name)]}),Object(U.jsxs)("div",{className:"col-3",children:[Object(U.jsx)("strong",{children:"SKU:"})," ",e.new_value.product_sku||(null===(a=e.parsed_new_value)||void 0===a?void 0:a.product_sku)]}),Object(U.jsxs)("div",{className:"col-3",children:[Object(U.jsx)("strong",{children:"Qty:"})," ",e.new_value.quantity||(null===(n=e.parsed_new_value)||void 0===n?void 0:n.quantity)]})]}),Object(U.jsxs)("div",{className:"row mt-1",children:[Object(U.jsxs)("div",{className:"col-6",children:[Object(U.jsx)("strong",{children:"From:"})," ",e.getLocationLabel?e.getLocationLabel(e.new_value.from_location||(null===(c=e.parsed_new_value)||void 0===c?void 0:c.from_location)):e.new_value.from_location||(null===(l=e.parsed_new_value)||void 0===l?void 0:l.from_location)]}),Object(U.jsxs)("div",{className:"col-6",children:[Object(U.jsx)("strong",{children:"To:"})," ",e.getLocationLabel?e.getLocationLabel(e.new_value.to_location||(null===(i=e.parsed_new_value)||void 0===i?void 0:i.to_location)):e.new_value.to_location||(null===(o=e.parsed_new_value)||void 0===o?void 0:o.to_location)]})]})]})]})]})}),Object(U.jsxs)("p",{className:"mb-1 text-muted small",children:["By: ",(null===(d=e.user)||void 0===d?void 0:d.name)||"System"]}),e.notes&&!e.is_product_change&&Object(U.jsxs)("div",{className:"mb-2 p-2 bg-light rounded",children:[Object(U.jsx)("strong",{children:"Note:"})," ",e.notes]}),e.field&&e.old_value&&e.new_value&&!e.is_product_change&&Object(U.jsxs)("div",{className:"changes-container p-2 bg-white rounded border",children:[e.field&&Object(U.jsxs)("div",{className:"mb-1",children:[Object(U.jsx)("strong",{children:"Field:"})," ",e.field]}),e.old_value&&Object(U.jsxs)("div",{className:"mb-1",children:[Object(U.jsx)("strong",{children:"From:"})," ","object"===typeof e.old_value?JSON.stringify(e.old_value):e.old_value]}),e.new_value&&Object(U.jsxs)("div",{children:[Object(U.jsx)("strong",{children:"To:"})," ","object"===typeof e.new_value?JSON.stringify(e.new_value):e.new_value]})]})]})]},t)}))}):Object(U.jsxs)("div",{className:"text-center p-5",children:[Object(U.jsx)(M.a,{size:48,className:"text-muted mb-3"}),Object(U.jsx)("p",{className:"text-muted",children:"No history available for this transfer order"})]})})})]})]}),Object(U.jsx)(_.a,{md:3,sm:12,children:Object(U.jsx)(g.a,{className:"",children:Object(U.jsxs)(N.a,{children:[Object(U.jsx)("h6",{className:"mb-2",children:"Quick Actions"}),Object(U.jsxs)("div",{className:"d-flex flex-column",children:[$.can_edit&&b.a.can("read","transfer_order_edit")&&Object(U.jsxs)(y.a,{color:"primary",onClick:function(){return J.push("/transfer-order/edit/".concat(s))},className:"mb-2",block:!0,children:[Object(U.jsx)(W.a,{size:14,className:"mr-1"}),"Edit Transfer"]}),$.can_complete&&b.a.can("read","transfer_order_complete")&&Object(U.jsx)(y.a,{color:"success",onClick:me,className:"mb-2",block:!0,disabled:le,children:le?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(p.a,{size:"sm",className:"mr-1"}),"Processing..."]}):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(T.a,{size:14,className:"mr-1"}),"Complete Transfer"]})}),$.can_revert&&b.a.can("read","transfer_order_complete")&&Object(U.jsx)(y.a,{color:"warning",onClick:me,className:"mb-2",block:!0,disabled:le,children:le?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(p.a,{size:"sm",className:"mr-1"}),"Processing..."]}):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(q.a,{size:14,className:"mr-1"}),"Revert to Pending"]})}),Object(U.jsxs)(y.a,{color:"secondary",onClick:function(){return window.open("/transfer-order/print/".concat(s),"_blank","noopener,noreferrer")},className:"mb-2",block:!0,outline:!0,children:[Object(U.jsx)(H.a,{size:14,className:"mr-1"}),"Print Transfer"]})]})]})})})]})]})}),Object(U.jsx)("style",{jsx:!0,children:"\n        .cursor-pointer {\n          cursor: pointer;\n        }\n        .timeline {\n          position: relative;\n          padding-left: 20px;\n        }\n        .timeline-item {\n          position: relative;\n          padding-left: 20px;\n        }\n        .timeline-point {\n          position: absolute;\n          left: 0;\n          top: 5px;\n          width: 12px;\n          height: 12px;\n          background-color: #7367f0;\n          border-radius: 50%;\n        }\n        .timeline-content {\n          margin-left: 10px;\n        }\n        .changes-container {\n          border-left: 3px solid #7367f0;\n        }\n        \n        /* New Styles for Transfer Summary */\n        .summary-cards {\n          margin-top: 0.5rem;\n        }\n        \n        .summary-card {\n          background: linear-gradient(135deg, #f8f9fa 0%, #fff 100%);\n          border: 1px solid #e9ecef;\n          border-radius: 8px;\n          padding: 1rem;\n          transition: all 0.3s ease;\n        }\n        \n        .summary-card:hover {\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n          transform: translateY(-2px);\n        }\n        \n        .summary-icon {\n          width: 48px;\n          height: 48px;\n          border-radius: 8px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        \n        .bg-primary-light {\n          background-color: rgba(115, 103, 240, 0.1);\n        }\n        \n        .bg-success-light {\n          background-color: rgba(40, 199, 111, 0.1);\n        }\n        \n        .summary-value {\n          color: #2c304d;\n          font-weight: 600;\n        }\n        \n        .summary-label {\n          font-size: 0.75rem;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .notes-container {\n          background: linear-gradient(135deg, #f8f9fa 0%, #f1f3f4 100%);\n          border-left: 4px solid #7367f0;\n        }\n        \n        .status-indicator {\n          width: 24px;\n          height: 24px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        \n        /* Text truncation for location names */\n        .text-truncate {\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n        \n        /* Location summary cards */\n        .card.border {\n          border-color: #dee2e6 !important;\n        }\n        \n        .card.border:hover {\n          border-color: #7367f0 !important;\n        }\n      "})]})}}}]);
//# sourceMappingURL=157.06917f52.chunk.js.map